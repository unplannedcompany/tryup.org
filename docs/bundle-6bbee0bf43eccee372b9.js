!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=99)}([function(e,n,t){"use strict";function r(e){return"(?:"+e+")"}function o(e,n){return r(n)+"{"+e+",}"}function i(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"["+e.join("")+"]"}function a(e){return e.replace(/[(){}[\].+*?^$\\|-]/g,"\\$&")}function s(e){return c({pattern:e})}Object.defineProperty(n,"__esModule",{value:!0}),n.group=r,n.capture=function(e){return"("+e+")"},n.optional=function(e){return r(e)+"?"},n.everyOptional=function(e){return r(e)+"*"},n.oneOrMore=function(e){return o(1,e)},n.multiple=function(e){return o(2,e)},n.atLeast=o,n.exactly=function(e,n){return r(n)+"{"+e+"}"},n.either=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r(e.join("|"))},n.anyCharMatching=i,n.anyCharNotMatching=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"[^"+e.join("")+"]"},n.anyCharFrom=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i.apply(void 0,e.map(a))},n.followedBy=function(e){return"(?="+e+")"},n.notFollowedBy=function(e){return"(?!"+e+")"},n.escapeForRegex=a,n.streakOf=function(e){return s(o(3,e))},n.solely=s,n.solelyAndIgnoringCapitalization=function(e){return c({pattern:e,isCaseInsensitive:!0})},n.patternStartingWith=function(e){return u({pattern:e})},n.patternIgnoringCapitalizationAndStartingWith=function(e){return u({pattern:e,isCaseInsensitive:!0})},n.patternEndingWith=function(e){return new RegExp(e+"$")};var l=t(5);function c(e){return new RegExp("^"+l.ANY_OPTIONAL_WHITESPACE+e.pattern+l.ANY_OPTIONAL_WHITESPACE+"$",d(!0===e.isCaseInsensitive))}function u(e){return new RegExp("^"+e.pattern,d(!0===e.isCaseInsensitive))}function d(e){return e?"i":void 0}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.last=function(e){return e[e.length-1]},n.concat=function(e){return(n=[]).concat.apply(n,e);var n},n.reversed=function(e){return e.slice().reverse()},n.distinct=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce(function(e,n){return-1!==e.indexOf(n)?e:e.concat([n])},[])},n.coalesce=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var t=0,r=e;t<r.length;t++){var o=r[t];if(null!=o)return o}throw new Error("Every value in `values` was null.")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),o=t(5),i=r.either("\t",r.exactly(2,o.INLINE_WHITESPACE_CHAR));n.INDENTED_PATTERN=r.patternStartingWith(i),n.DIVIDER_STREAK_PATTERN=r.streakOf(r.anyCharFrom("#","=","-","+","~","*","@",":")),n.BLANK_PATTERN=r.solely(""),n.NON_BLANK_PATTERN=/\S/,n.WHITESPACE_CHAR_PATTERN=new RegExp(o.WHITESPACE_CHAR),n.URL_SCHEME_PATTERN=r.patternStartingWith(o.URL_SCHEME)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.lines=e,this._countLinesConsumed=0}return Object.defineProperty(e.prototype,"countLinesConsumed",{get:function(){return this._countLinesConsumed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"done",{get:function(){return this._countLinesConsumed>=this.lines.length},enumerable:!0,configurable:!0}),e.prototype.remaining=function(){return this.lines.slice(this._countLinesConsumed)},e.prototype.skipLines=function(e){this._countLinesConsumed+=e},e.prototype.consumeLineIfMatches=function(e,n){if(this.done)return null;var t=this.nextRemainingLine,r=e.exec(t);if(r){var o={line:t,captures:r.slice(1)};if(!n||n.andIf(o))return this.skipLines(1),o}return null},e.prototype.consumeLine=function(){if(this.done)throw new Error("No remaining lines");var e=this.nextRemainingLine;return this.skipLines(1),e},Object.defineProperty(e.prototype,"nextRemainingLine",{get:function(){return this.lines[this._countLinesConsumed]},enumerable:!0,configurable:!0}),e}();n.LineConsumer=r},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(6),a=t(38),s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.textAppearingInline=function(){return a.getTextAppearingInline(this.children)},n}(i.InlineSyntaxNodeContainer);n.RichInlineSyntaxNode=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0);n.INLINE_WHITESPACE_CHAR=r.anyCharNotMatching("\\S","\\r","\\n"),n.WHITESPACE_CHAR="\\s",n.ANY_OPTIONAL_WHITESPACE=r.everyOptional(n.WHITESPACE_CHAR),n.WHITESPACE=r.oneOrMore(n.WHITESPACE_CHAR),n.LETTER_CLASS="a-zA-Z",n.DIGIT="\\d",n.ANY_CHAR=".",n.REST_OF_TEXT=r.everyOptional(n.ANY_CHAR),n.FORWARD_SLASH="/",n.HASH_MARK="#",n.LETTER_CHAR=r.anyCharMatching(n.LETTER_CLASS);var o=n.LETTER_CHAR+r.everyOptional(r.anyCharMatching.apply(void 0,[n.LETTER_CLASS,n.DIGIT].concat(["-","+","."].map(r.escapeForRegex))));n.URL_SCHEME=o+":"+r.everyOptional("/")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(13),o=function(){function e(e){this.children=e}return e.prototype.inlineDescendants=function(){return r.getInlineDescendants(this.children)},e}();n.InlineSyntaxNodeContainer=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(19),o=t(1),i=function(){function e(e){this.children=e}return e.prototype.descendantsToIncludeInTableOfContents=function(){return r.Document.TableOfContents.getEntries(this.children)},e.prototype.inlineDescendants=function(){return o.concat(this.children.map(function(e){return e.inlineDescendants()}))},e}();n.OutlineSyntaxNodeContainer=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(15),i=t(40),a=t(75),s=t(87),l=t(62),c=t(60),u=t(58),d=t(59),p=t(88),h=t(89),f=t(91),m=t(92),g=t(2),v=t(1),y=[s.tryToParseBlankLineSeparation,u.tryToParseBulletedList,d.tryToParseNumberedList,a.tryToParseHeading,i.tryToParseThematicBreakStreak,l.tryToParseCodeBlock,c.tryToParseBlockquote,h.tryToParseTable,f.tryToParseRevealableBlock,p.tryToParseDescriptionList];n.getOutlineSyntaxNodes=function(e){for(var n=e.markupLines,t=e.headingLeveler,i=e.settings,a=function(e){for(var n=0;n<e.length;n++){var t=e[n];if(g.NON_BLANK_PATTERN.test(t))break}return e.slice(n)}(n),s=n.length-a.length,l=e.sourceLineNumber+s,c=function(e){for(var n=e.length-1;n>=0;n--){var t=e[n];if(g.NON_BLANK_PATTERN.test(t))break}return e.slice(0,n+1)}(a),u=new r.LineConsumer(c),d=[],p=function(){var e=l+u.countLinesConsumed,n={markupLines:u.remaining(),sourceLineNumber:e,headingLeveler:t,settings:i,then:function(n,t){if(i.createSourceMap)for(var r=0,o=n;r<o.length;r++){o[r].sourceLineNumber=e}d.push.apply(d,n),u.skipLines(t)}};y.some(function(e){return e(n)})||m.parseParagraphOrLineBlock(n)};!u.done;)p();return function(e){for(var n=[],t=0,r=e;t<r.length;t++){var i=r[t];i instanceof o.ThematicBreak&&v.last(n)instanceof o.ThematicBreak||n.push(i)}return n}(d)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(76),o=t(86);n.getInlineSyntaxNodes=function(e,n){return o.parse(r.tokenize(e,n))},n.getInlineSyntaxNodesForInlineDocument=function(e,n){return o.parse(r.tokenizeForInlineDocument(e,n))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.AudioStartAndDescription=1]="AudioStartAndDescription",e[e.BareUrl=2]="BareUrl",e[e.BoldEnd=3]="BoldEnd",e[e.BoldStart=4]="BoldStart",e[e.EmphasisEnd=5]="EmphasisEnd",e[e.EmphasisStart=6]="EmphasisStart",e[e.ExampleUserInput=7]="ExampleUserInput",e[e.FootnoteEnd=8]="FootnoteEnd",e[e.FootnoteStart=9]="FootnoteStart",e[e.HighlightEnd=10]="HighlightEnd",e[e.HighlightStart=11]="HighlightStart",e[e.ImageStartAndDescription=12]="ImageStartAndDescription",e[e.InlineCode=13]="InlineCode",e[e.InlineQuoteEnd=14]="InlineQuoteEnd",e[e.InlineQuoteStart=15]="InlineQuoteStart",e[e.InlineRevealableEnd=16]="InlineRevealableEnd",e[e.InlineRevealableStart=17]="InlineRevealableStart",e[e.ItalicEnd=18]="ItalicEnd",e[e.ItalicStart=19]="ItalicStart",e[e.LinkEndAndUrl=20]="LinkEndAndUrl",e[e.LinkStart=21]="LinkStart",e[e.MediaEndAndUrl=22]="MediaEndAndUrl",e[e.NormalParentheticalEnd=23]="NormalParentheticalEnd",e[e.NormalParentheticalStart=24]="NormalParentheticalStart",e[e.SectionLink=25]="SectionLink",e[e.SquareParentheticalEnd=26]="SquareParentheticalEnd",e[e.SquareParentheticalStart=27]="SquareParentheticalStart",e[e.StressEnd=28]="StressEnd",e[e.StressStart=29]="StressStart",e[e.Text=30]="Text",e[e.VideoStartAndDescription=31]="VideoStartAndDescription"}(n.TokenRole||(n.TokenRole={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n,t){this.description=e,this.url=n,this.sourceLineNumber=void 0,t&&(this.sourceLineNumber=t.sourceLineNumber)}return e.prototype.textAppearingInline=function(){return""},e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return[]},e.prototype.MEDIA_SYNTAX_NODE=function(){},e}();n.MediaSyntaxNode=r},function(e,n,t){e.exports=function(){"use strict";var e=navigator.userAgent,n=navigator.platform,t=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=r||o||i,s=a&&(r?document.documentMode||6:+(i||o)[1]),l=!i&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!i&&/Chrome\//.test(e),d=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),m=!i&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(n),b=/\bCrOS\b/.test(e),k=/win/i.test(n),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(d=!1,l=!0);var C=y&&(c||d&&(null==w||w<12.11)),T=t||a&&s>=9;function x(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,L=function(e,n){var t=e.className,r=x(n).exec(t);if(r){var o=t.slice(r.index+r[0].length);e.className=t.slice(0,r.index)+(o?r[1]+o:"")}};function O(e){for(var n=e.childNodes.length;n>0;--n)e.removeChild(e.firstChild);return e}function I(e,n){return O(e).appendChild(n)}function A(e,n,t,r){var o=document.createElement(e);if(t&&(o.className=t),r&&(o.style.cssText=r),"string"==typeof n)o.appendChild(document.createTextNode(n));else if(n)for(var i=0;i<n.length;++i)o.appendChild(n[i]);return o}function M(e,n,t,r){var o=A(e,n,t,r);return o.setAttribute("role","presentation"),o}function N(e,n){if(3==n.nodeType&&(n=n.parentNode),e.contains)return e.contains(n);do{if(11==n.nodeType&&(n=n.host),n==e)return!0}while(n=n.parentNode)}function E(){var e;try{e=document.activeElement}catch(n){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function _(e,n){var t=e.className;x(n).test(t)||(e.className+=(t?" ":"")+n)}function R(e,n){for(var t=e.split(" "),r=0;r<t.length;r++)t[r]&&!x(t[r]).test(n)&&(n+=" "+t[r]);return n}S=document.createRange?function(e,n,t,r){var o=document.createRange();return o.setEnd(r||e,t),o.setStart(e,n),o}:function(e,n,t){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r};var P=function(e){e.select()};function B(e){var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n)}}function W(e,n,t){for(var r in n||(n={}),e)!e.hasOwnProperty(r)||!1===t&&n.hasOwnProperty(r)||(n[r]=e[r]);return n}function H(e,n,t,r,o){null==n&&-1==(n=e.search(/[^\s\u00a0]/))&&(n=e.length);for(var i=r||0,a=o||0;;){var s=e.indexOf("\t",i);if(s<0||s>=n)return a+(n-i);a+=s-i,a+=t-a%t,i=s+1}}m?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(P=function(e){try{e.select()}catch(e){}});var D=function(){this.id=null};function F(e,n){for(var t=0;t<e.length;++t)if(e[t]==n)return t;return-1}D.prototype.set=function(e,n){clearTimeout(this.id),this.id=setTimeout(n,e)};var U=30,j={toString:function(){return"CodeMirror.Pass"}},z={scroll:!1},G={origin:"*mouse"},q={origin:"+move"};function V(e,n,t){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=n)return r+Math.min(a,n-o);if(o+=i-r,r=i+1,(o+=t-o%t)>=n)return r}}var K=[""];function Y(e){for(;K.length<=e;)K.push(X(K)+" ");return K[e]}function X(e){return e[e.length-1]}function Q(e,n){for(var t=[],r=0;r<e.length;r++)t[r]=n(e[r],r);return t}function $(){}function J(e,n){var t;return Object.create?t=Object.create(e):($.prototype=e,t=new $),n&&W(n,t),t}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function ne(e,n){return n?!!(n.source.indexOf("\\w")>-1&&ee(e))||n.test(e):ee(e)}function te(e){for(var n in e)if(e.hasOwnProperty(n)&&e[n])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&re.test(e)}function ie(e,n,t){for(;(t<0?n>0:n<e.length)&&oe(e.charAt(n));)n+=t;return n}function ae(e,n,t){for(var r=n>t?-1:1;;){if(n==t)return n;var o=(n+t)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==n)return e(i)?n:t;e(i)?t=i:n=i+r}}var se=null;function le(e,n,t){var r;se=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<n&&i.to>n)return o;i.to==n&&(i.from!=i.to&&"before"==t?r=o:se=o),i.from==n&&(i.from!=i.to&&"before"!=t?r=o:se=o)}return null!=r?r:se}var ce=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,i=/[Lb1n]/,a=/[1n]/;function s(e,n,t){this.level=e,this.from=n,this.to=t}return function(l,c){var u="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!t.test(l))return!1;for(var d,p=l.length,h=[],f=0;f<p;++f)h.push((d=l.charCodeAt(f))<=247?e.charAt(d):1424<=d&&d<=1524?"R":1536<=d&&d<=1785?n.charAt(d-1536):1774<=d&&d<=2220?"r":8192<=d&&d<=8203?"w":8204==d?"b":"L");for(var m=0,g=u;m<p;++m){var v=h[m];"m"==v?h[m]=g:g=v}for(var y=0,b=u;y<p;++y){var k=h[y];"1"==k&&"r"==b?h[y]="n":o.test(k)&&(b=k,"r"==k&&(h[y]="R"))}for(var w=1,C=h[0];w<p-1;++w){var T=h[w];"+"==T&&"1"==C&&"1"==h[w+1]?h[w]="1":","!=T||C!=h[w+1]||"1"!=C&&"n"!=C||(h[w]=C),C=T}for(var x=0;x<p;++x){var S=h[x];if(","==S)h[x]="N";else if("%"==S){var L=void 0;for(L=x+1;L<p&&"%"==h[L];++L);for(var O=x&&"!"==h[x-1]||L<p&&"1"==h[L]?"1":"N",I=x;I<L;++I)h[I]=O;x=L-1}}for(var A=0,M=u;A<p;++A){var N=h[A];"L"==M&&"1"==N?h[A]="L":o.test(N)&&(M=N)}for(var E=0;E<p;++E)if(r.test(h[E])){var _=void 0;for(_=E+1;_<p&&r.test(h[_]);++_);for(var R="L"==(E?h[E-1]:u),P=R==("L"==(_<p?h[_]:u))?R?"L":"R":u,B=E;B<_;++B)h[B]=P;E=_-1}for(var W,H=[],D=0;D<p;)if(i.test(h[D])){var F=D;for(++D;D<p&&i.test(h[D]);++D);H.push(new s(0,F,D))}else{var U=D,j=H.length;for(++D;D<p&&"L"!=h[D];++D);for(var z=U;z<D;)if(a.test(h[z])){U<z&&H.splice(j,0,new s(1,U,z));var G=z;for(++z;z<D&&a.test(h[z]);++z);H.splice(j,0,new s(2,G,z)),U=z}else++z;U<D&&H.splice(j,0,new s(1,U,D))}return"ltr"==c&&(1==H[0].level&&(W=l.match(/^\s+/))&&(H[0].from=W[0].length,H.unshift(new s(0,0,W[0].length))),1==X(H).level&&(W=l.match(/\s+$/))&&(X(H).to-=W[0].length,H.push(new s(0,p-W[0].length,p)))),"rtl"==c?H.reverse():H}}();function ue(e,n){var t=e.order;return null==t&&(t=e.order=ce(e.text,n)),t}var de=[],pe=function(e,n,t){if(e.addEventListener)e.addEventListener(n,t,!1);else if(e.attachEvent)e.attachEvent("on"+n,t);else{var r=e._handlers||(e._handlers={});r[n]=(r[n]||de).concat(t)}};function he(e,n){return e._handlers&&e._handlers[n]||de}function fe(e,n,t){if(e.removeEventListener)e.removeEventListener(n,t,!1);else if(e.detachEvent)e.detachEvent("on"+n,t);else{var r=e._handlers,o=r&&r[n];if(o){var i=F(o,t);i>-1&&(r[n]=o.slice(0,i).concat(o.slice(i+1)))}}}function me(e,n){var t=he(e,n);if(t.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<t.length;++o)t[o].apply(null,r)}function ge(e,n,t){return"string"==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),me(e,t||n.type,e,n),Ce(n)||n.codemirrorIgnore}function ve(e){var n=e._handlers&&e._handlers.cursorActivity;if(n)for(var t=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<n.length;++r)-1==F(t,n[r])&&t.push(n[r])}function ye(e,n){return he(e,n).length>0}function be(e){e.prototype.on=function(e,n){pe(this,e,n)},e.prototype.off=function(e,n){fe(this,e,n)}}function ke(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function we(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Te(e){ke(e),we(e)}function xe(e){return e.target||e.srcElement}function Se(e){var n=e.which;return null==n&&(1&e.button?n=1:2&e.button?n=3:4&e.button&&(n=2)),y&&e.ctrlKey&&1==n&&(n=3),n}var Le,Oe,Ie=function(){if(a&&s<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function Ae(e){if(null==Le){var n=A("span","​");I(e,A("span",[n,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Le=n.offsetWidth<=1&&n.offsetHeight>2&&!(a&&s<8))}var t=Le?A("span","​"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return t.setAttribute("cm-text",""),t}function Me(e){if(null!=Oe)return Oe;var n=I(e,document.createTextNode("AخA")),t=S(n,0,1).getBoundingClientRect(),r=S(n,1,2).getBoundingClientRect();return O(e),!(!t||t.left==t.right)&&(Oe=r.right-t.right<3)}var Ne,Ee=3!="\n\nb".split(/\n/).length?function(e){for(var n=0,t=[],r=e.length;n<=r;){var o=e.indexOf("\n",n);-1==o&&(o=e.length);var i=e.slice(n,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(t.push(i.slice(0,a)),n+=a+1):(t.push(i),n=o+1)}return t}:function(e){return e.split(/\r\n?|\n/)},_e=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var n;try{n=e.ownerDocument.selection.createRange()}catch(e){}return!(!n||n.parentElement()!=e)&&0!=n.compareEndPoints("StartToEnd",n)},Re="oncopy"in(Ne=A("div"))||(Ne.setAttribute("oncopy","return;"),"function"==typeof Ne.oncopy),Pe=null,Be={},We={};function He(e,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Be[e]=n}function De(e){if("string"==typeof e&&We.hasOwnProperty(e))e=We[e];else if(e&&"string"==typeof e.name&&We.hasOwnProperty(e.name)){var n=We[e.name];"string"==typeof n&&(n={name:n}),(e=J(n,e)).name=n.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return De("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return De("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Fe(e,n){n=De(n);var t=Be[n.name];if(!t)return Fe(e,"text/plain");var r=t(e,n);if(Ue.hasOwnProperty(n.name)){var o=Ue[n.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)r[a]=n.modeProps[a];return r}var Ue={};function je(e,n){W(n,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function ze(e,n){if(!0===n)return n;if(e.copyState)return e.copyState(n);var t={};for(var r in n){var o=n[r];o instanceof Array&&(o=o.concat([])),t[r]=o}return t}function Ge(e,n){for(var t;e.innerMode&&(t=e.innerMode(n))&&t.mode!=e;)n=t.state,e=t.mode;return t||{mode:e,state:n}}function qe(e,n,t){return!e.startState||e.startState(n,t)}var Ve=function(e,n,t){this.pos=this.start=0,this.string=e,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=t};function Ke(e,n){if((n-=e.first)<0||n>=e.size)throw new Error("There is no line "+(n+e.first)+" in the document.");for(var t=e;!t.lines;)for(var r=0;;++r){var o=t.children[r],i=o.chunkSize();if(n<i){t=o;break}n-=i}return t.lines[n]}function Ye(e,n,t){var r=[],o=n.line;return e.iter(n.line,t.line+1,function(e){var i=e.text;o==t.line&&(i=i.slice(0,t.ch)),o==n.line&&(i=i.slice(n.ch)),r.push(i),++o}),r}function Xe(e,n,t){var r=[];return e.iter(n,t,function(e){r.push(e.text)}),r}function Qe(e,n){var t=n-e.height;if(t)for(var r=e;r;r=r.parent)r.height+=t}function $e(e){if(null==e.parent)return null;for(var n=e.parent,t=F(n.lines,e),r=n.parent;r;n=r,r=r.parent)for(var o=0;r.children[o]!=n;++o)t+=r.children[o].chunkSize();return t+n.first}function Je(e,n){var t=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(n<i){e=o;continue e}n-=i,t+=o.chunkSize()}return t}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(n<s)break;n-=s}return t+a}function Ze(e,n){return n>=e.first&&n<e.first+e.size}function en(e,n){return String(e.lineNumberFormatter(n+e.firstLineNumber))}function nn(e,n,t){if(void 0===t&&(t=null),!(this instanceof nn))return new nn(e,n,t);this.line=e,this.ch=n,this.sticky=t}function tn(e,n){return e.line-n.line||e.ch-n.ch}function rn(e,n){return e.sticky==n.sticky&&0==tn(e,n)}function on(e){return nn(e.line,e.ch)}function an(e,n){return tn(e,n)<0?n:e}function sn(e,n){return tn(e,n)<0?e:n}function ln(e,n){return Math.max(e.first,Math.min(n,e.first+e.size-1))}function cn(e,n){if(n.line<e.first)return nn(e.first,0);var t=e.first+e.size-1;return n.line>t?nn(t,Ke(e,t).text.length):function(e,n){var t=e.ch;return null==t||t>n?nn(e.line,n):t<0?nn(e.line,0):e}(n,Ke(e,n.line).text.length)}function un(e,n){for(var t=[],r=0;r<n.length;r++)t[r]=cn(e,n[r]);return t}Ve.prototype.eol=function(){return this.pos>=this.string.length},Ve.prototype.sol=function(){return this.pos==this.lineStart},Ve.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ve.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ve.prototype.eat=function(e){var n=this.string.charAt(this.pos);if("string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},Ve.prototype.eatWhile=function(e){for(var n=this.pos;this.eat(e););return this.pos>n},Ve.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ve.prototype.skipToEnd=function(){this.pos=this.string.length},Ve.prototype.skipTo=function(e){var n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0},Ve.prototype.backUp=function(e){this.pos-=e},Ve.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.match=function(e,n,t){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==n&&(this.pos+=r[0].length),r)}var o=function(e){return t?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==n&&(this.pos+=e.length),!0},Ve.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ve.prototype.hideFirstChars=function(e,n){this.lineStart+=e;try{return n()}finally{this.lineStart-=e}},Ve.prototype.lookAhead=function(e){var n=this.lineOracle;return n&&n.lookAhead(e)},Ve.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var dn=function(e,n){this.state=e,this.lookAhead=n},pn=function(e,n,t,r){this.state=n,this.doc=e,this.line=t,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function hn(e,n,t,r){var o=[e.state.modeGen],i={};Cn(e,n.text,e.doc.mode,t,function(e,n){return o.push(e,n)},i,r);for(var a=t.state,s=function(r){t.baseTokens=o;var s=e.state.overlays[r],l=1,c=0;t.state=!0,Cn(e,n.text,s.mode,t,function(e,n){for(var t=l;c<e;){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,c=Math.min(e,r)}if(n)if(s.opaque)o.splice(t,l-t,e,"overlay "+n),l=t+2;else for(;t<l;t+=2){var i=o[t+1];o[t+1]=(i?i+" ":"")+"overlay "+n}},i),t.state=a,t.baseTokens=null,t.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function fn(e,n,t){if(!n.styles||n.styles[0]!=e.state.modeGen){var r=mn(e,$e(n)),o=n.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,r.state),i=hn(e,n,r);o&&(r.state=o),n.stateAfter=r.save(!o),n.styles=i.styles,i.classes?n.styleClasses=i.classes:n.styleClasses&&(n.styleClasses=null),t===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return n.styles}function mn(e,n,t){var r=e.doc,o=e.display;if(!r.mode.startState)return new pn(r,!0,n);var i=function(e,n,t){for(var r,o,i=e.doc,a=t?-1:n-(e.doc.mode.innerMode?1e3:100),s=n;s>a;--s){if(s<=i.first)return i.first;var l=Ke(i,s-1),c=l.stateAfter;if(c&&(!t||s+(c instanceof dn?c.lookAhead:0)<=i.modeFrontier))return s;var u=H(l.text,null,e.options.tabSize);(null==o||r>u)&&(o=s-1,r=u)}return o}(e,n,t),a=i>r.first&&Ke(r,i-1).stateAfter,s=a?pn.fromSaved(r,a,i):new pn(r,qe(r.mode),i);return r.iter(i,n,function(t){gn(e,t.text,s);var r=s.line;t.stateAfter=r==n-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?s.save():null,s.nextLine()}),t&&(r.modeFrontier=s.line),s}function gn(e,n,t,r){var o=e.doc.mode,i=new Ve(n,e.options.tabSize,t);for(i.start=i.pos=r||0,""==n&&vn(o,t.state);!i.eol();)yn(o,i,t.state),i.start=i.pos}function vn(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var t=Ge(e,n);return t.mode.blankLine?t.mode.blankLine(t.state):void 0}}function yn(e,n,t,r){for(var o=0;o<10;o++){r&&(r[0]=Ge(e,t).mode);var i=e.token(n,t);if(n.pos>n.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}pn.prototype.lookAhead=function(e){var n=this.doc.getLine(this.line+e);return null!=n&&e>this.maxLookAhead&&(this.maxLookAhead=e),n},pn.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},pn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},pn.fromSaved=function(e,n,t){return n instanceof dn?new pn(e,ze(e.mode,n.state),t,n.lookAhead):new pn(e,ze(e.mode,n),t)},pn.prototype.save=function(e){var n=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new dn(n,this.maxLookAhead):n};var bn=function(e,n,t){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=n||null,this.state=t};function kn(e,n,t,r){var o,i,a=e.doc,s=a.mode,l=Ke(a,(n=cn(a,n)).line),c=mn(e,n.line,t),u=new Ve(l.text,e.options.tabSize,c);for(r&&(i=[]);(r||u.pos<n.ch)&&!u.eol();)u.start=u.pos,o=yn(s,u,c.state),r&&i.push(new bn(u,o,ze(a.mode,c.state)));return r?i:new bn(u,o,c.state)}function wn(e,n){if(e)for(;;){var t=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;e=e.slice(0,t.index)+e.slice(t.index+t[0].length);var r=t[1]?"bgClass":"textClass";null==n[r]?n[r]=t[2]:new RegExp("(?:^|s)"+t[2]+"(?:$|s)").test(n[r])||(n[r]+=" "+t[2])}return e}function Cn(e,n,t,r,o,i,a){var s=t.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new Ve(n,e.options.tabSize,r),p=e.options.addModeClass&&[null];for(""==n&&wn(vn(t,r.state),i);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&gn(e,n,r,d.pos),d.pos=n.length,l=null):l=wn(yn(t,d,r.state,p),i),p){var h=p[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){for(;c<d.start;)o(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);o(f,u),c=f}}var Tn=!1,xn=!1;function Sn(e,n,t){this.marker=e,this.from=n,this.to=t}function Ln(e,n){if(e)for(var t=0;t<e.length;++t){var r=e[t];if(r.marker==n)return r}}function On(e,n){for(var t,r=0;r<e.length;++r)e[r]!=n&&(t||(t=[])).push(e[r]);return t}function In(e,n){if(n.full)return null;var t=Ze(e,n.from.line)&&Ke(e,n.from.line).markedSpans,r=Ze(e,n.to.line)&&Ke(e,n.to.line).markedSpans;if(!t&&!r)return null;var o=n.from.ch,i=n.to.ch,a=0==tn(n.from,n.to),s=function(e,n,t){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=n:i.from<n)||i.from==n&&"bookmark"==a.type&&(!t||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=n:i.to>n);(r||(r=[])).push(new Sn(a,i.from,s?null:i.to))}}return r}(t,o,a),l=function(e,n,t){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=n:i.to>n)||i.from==n&&"bookmark"==a.type&&(!t||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=n:i.from<n);(r||(r=[])).push(new Sn(a,s?null:i.from-n,null==i.to?null:i.to-n))}}return r}(r,i,a),c=1==n.text.length,u=X(n.text).length+(c?o:0);if(s)for(var d=0;d<s.length;++d){var p=s[d];if(null==p.to){var h=Ln(l,p.marker);h?c&&(p.to=null==h.to?null:h.to+u):p.to=o}}if(l)for(var f=0;f<l.length;++f){var m=l[f];null!=m.to&&(m.to+=u),null==m.from?Ln(s,m.marker)||(m.from=u,c&&(s||(s=[])).push(m)):(m.from+=u,c&&(s||(s=[])).push(m))}s&&(s=An(s)),l&&l!=s&&(l=An(l));var g=[s];if(!c){var v,y=n.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new Sn(s[b].marker,null,null));for(var k=0;k<y;++k)g.push(v);g.push(l)}return g}function An(e){for(var n=0;n<e.length;++n){var t=e[n];null!=t.from&&t.from==t.to&&!1!==t.marker.clearWhenEmpty&&e.splice(n--,1)}return e.length?e:null}function Mn(e){var n=e.markedSpans;if(n){for(var t=0;t<n.length;++t)n[t].marker.detachLine(e);e.markedSpans=null}}function Nn(e,n){if(n){for(var t=0;t<n.length;++t)n[t].marker.attachLine(e);e.markedSpans=n}}function En(e){return e.inclusiveLeft?-1:0}function _n(e){return e.inclusiveRight?1:0}function Rn(e,n){var t=e.lines.length-n.lines.length;if(0!=t)return t;var r=e.find(),o=n.find(),i=tn(r.from,o.from)||En(e)-En(n);if(i)return-i;var a=tn(r.to,o.to)||_n(e)-_n(n);return a||n.id-e.id}function Pn(e,n){var t,r=xn&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)(o=r[i]).marker.collapsed&&null==(n?o.from:o.to)&&(!t||Rn(t,o.marker)<0)&&(t=o.marker);return t}function Bn(e){return Pn(e,!0)}function Wn(e){return Pn(e,!1)}function Hn(e,n){var t,r=xn&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<n)&&(null==i.to||i.to>n)&&(!t||Rn(t,i.marker)<0)&&(t=i.marker)}return t}function Dn(e,n,t,r,o){var i=Ke(e,n),a=xn&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=tn(c.from,t)||En(l.marker)-En(o),d=tn(c.to,r)||_n(l.marker)-_n(o);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?tn(c.to,t)>=0:tn(c.to,t)>0)||u>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?tn(c.from,r)<=0:tn(c.from,r)<0)))return!0}}}function Fn(e){for(var n;n=Bn(e);)e=n.find(-1,!0).line;return e}function Un(e,n){var t=Ke(e,n),r=Fn(t);return t==r?n:$e(r)}function jn(e,n){if(n>e.lastLine())return n;var t,r=Ke(e,n);if(!zn(e,r))return n;for(;t=Wn(r);)r=t.find(1,!0).line;return $e(r)+1}function zn(e,n){var t=xn&&n.markedSpans;if(t)for(var r=void 0,o=0;o<t.length;++o)if((r=t[o]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Gn(e,n,r))return!0}}function Gn(e,n,t){if(null==t.to){var r=t.marker.find(1,!0);return Gn(e,r.line,Ln(r.line.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==n.text.length)return!0;for(var o=void 0,i=0;i<n.markedSpans.length;++i)if((o=n.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==t.to&&(null==o.to||o.to!=t.from)&&(o.marker.inclusiveLeft||t.marker.inclusiveRight)&&Gn(e,n,o))return!0}function qn(e){for(var n=0,t=(e=Fn(e)).parent,r=0;r<t.lines.length;++r){var o=t.lines[r];if(o==e)break;n+=o.height}for(var i=t.parent;i;i=(t=i).parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==t)break;n+=s.height}return n}function Vn(e){if(0==e.height)return 0;for(var n,t=e.text.length,r=e;n=Bn(r);){var o=n.find(0,!0);r=o.from.line,t+=o.from.ch-o.to.ch}for(r=e;n=Wn(r);){var i=n.find(0,!0);t-=r.text.length-i.from.ch,t+=(r=i.to.line).text.length-i.to.ch}return t}function Kn(e){var n=e.display,t=e.doc;n.maxLine=Ke(t,t.first),n.maxLineLength=Vn(n.maxLine),n.maxLineChanged=!0,t.iter(function(e){var t=Vn(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}var Yn=function(e,n,t){this.text=e,Nn(this,n),this.height=t?t(this):1};function Xn(e){e.parent=null,Mn(e)}Yn.prototype.lineNo=function(){return $e(this)},be(Yn);var Qn={},$n={};function Jn(e,n){if(!e||/^\s*$/.test(e))return null;var t=n.addModeClass?$n:Qn;return t[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function Zn(e,n){var t=M("span",null,null,l?"padding-right: .1px":null),r={pre:M("pre",[t],"CodeMirror-line"),content:t,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};n.measure={};for(var o=0;o<=(n.rest?n.rest.length:0);o++){var i=o?n.rest[o-1]:n.line,a=void 0;r.pos=0,r.addToken=nt,Me(e.display.measure)&&(a=ue(i,e.doc.direction))&&(r.addToken=tt(r.addToken,a)),r.map=[],ot(i,r,fn(e,i,n!=e.display.externalMeasured&&$e(i))),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=R(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=R(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ae(e.display.measure))),0==o?(n.measure.map=r.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(r.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(l){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return me(e,"renderLine",e,n.line,r.pre),r.pre.className&&(r.textClass=R(r.pre.className,r.textClass||"")),r}function et(e){var n=A("span","•","cm-invalidchar");return n.title="\\u"+e.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function nt(e,n,t,r,o,i,l){if(n){var c,u=e.splitSpaces?function(e,n){if(e.length>1&&!/  /.test(e))return e;for(var t=n,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!t||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),r+=i,t=" "==i}return r}(n,e.trailingSpace):n,d=e.cm.state.specialChars,p=!1;if(d.test(n)){c=document.createDocumentFragment();for(var h=0;;){d.lastIndex=h;var f=d.exec(n),m=f?f.index-h:n.length-h;if(m){var g=document.createTextNode(u.slice(h,h+m));a&&s<9?c.appendChild(A("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;h+=m+1;var v=void 0;if("\t"==f[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=c.appendChild(A("span",Y(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==f[0]||"\n"==f[0]?((v=c.appendChild(A("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),a&&s<9?c.appendChild(A("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=n.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+n.length,c),a&&s<9&&(p=!0),e.pos+=n.length;if(e.trailingSpace=32==u.charCodeAt(n.length-1),t||r||o||p||i){var k=t||"";r&&(k+=r),o&&(k+=o);var w=A("span",[c],k,i);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,l[C]);return e.content.appendChild(w)}e.content.appendChild(c)}}function tt(e,n){return function(t,r,o,i,a,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=t.pos,u=c+r.length;;){for(var d=void 0,p=0;p<n.length&&!((d=n[p]).to>c&&d.from<=c);p++);if(d.to>=u)return e(t,r,o,i,a,s,l);e(t,r.slice(0,d.to-c),o,i,null,s,l),i=null,r=r.slice(d.to-c),c=d.to}}}function rt(e,n,t,r){var o=!r&&t.widgetNode;o&&e.map.push(e.pos,e.pos+n,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",t.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=n,e.trailingSpace=!1}function ot(e,n,t){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,s,l,c,u,d,p,h=o.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=s="",p=null,d=null,v=1/0;for(var y=[],b=void 0,k=0;k<r.length;++k){var w=r[k],C=w.marker;if("bookmark"==C.type&&w.from==f&&C.widgetNode)y.push(C);else if(w.from<=f&&(null==w.to||w.to>f||C.collapsed&&w.to==f&&w.from==f)){if(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&w.from==f&&(u+=" "+C.startStyle),C.endStyle&&w.to==v&&(b||(b=[])).push(C.endStyle,w.to),C.title&&((p||(p={})).title=C.title),C.attributes)for(var T in C.attributes)(p||(p={}))[T]=C.attributes[T];C.collapsed&&(!d||Rn(d.marker,C)<0)&&(d=w)}else w.from>f&&v>w.from&&(v=w.from)}if(b)for(var x=0;x<b.length;x+=2)b[x+1]==v&&(c+=" "+b[x]);if(!d||d.from==f)for(var S=0;S<y.length;++S)rt(n,0,y[S]);if(d&&(d.from||0)==f){if(rt(n,(null==d.to?h+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=h)break;for(var L=Math.min(h,v);;){if(g){var O=f+g.length;if(!d){var I=O>L?g.slice(0,L-f):g;n.addToken(n,I,a?a+l:l,u,f+I.length==v?c:"",s,p)}if(O>=L){g=g.slice(L-f),f=L;break}f=O,u=""}g=o.slice(i,i=t[m++]),a=Jn(t[m++],n.cm.options)}}else for(var A=1;A<t.length;A+=2)n.addToken(n,o.slice(i,i=t[A]),Jn(t[A+1],n.cm.options))}function it(e,n,t){this.line=n,this.rest=function(e){for(var n,t;n=Wn(e);)e=n.find(1,!0).line,(t||(t=[])).push(e);return t}(n),this.size=this.rest?$e(X(this.rest))-t+1:1,this.node=this.text=null,this.hidden=zn(e,n)}function at(e,n,t){for(var r,o=[],i=n;i<t;i=r){var a=new it(e.doc,Ke(e.doc,i),i);r=i+a.size,o.push(a)}return o}var st=null,lt=null;function ct(e,n){var t=he(e,n);if(t.length){var r,o=Array.prototype.slice.call(arguments,2);st?r=st.delayedCallbacks:lt?r=lt:(r=lt=[],setTimeout(ut,0));for(var i=function(e){r.push(function(){return t[e].apply(null,o)})},a=0;a<t.length;++a)i(a)}}function ut(){var e=lt;lt=null;for(var n=0;n<e.length;++n)e[n]()}function dt(e,n,t,r){for(var o=0;o<n.changes.length;o++){var i=n.changes[o];"text"==i?ft(e,n):"gutter"==i?gt(e,n,t,r):"class"==i?mt(e,n):"widget"==i&&vt(e,n,r)}n.changes=null}function pt(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function ht(e,n){var t=e.display.externalMeasured;return t&&t.line==n.line?(e.display.externalMeasured=null,n.measure=t.measure,t.built):Zn(e,n)}function ft(e,n){var t=n.text.className,r=ht(e,n);n.text==n.node&&(n.node=r.pre),n.text.parentNode.replaceChild(r.pre,n.text),n.text=r.pre,r.bgClass!=n.bgClass||r.textClass!=n.textClass?(n.bgClass=r.bgClass,n.textClass=r.textClass,mt(e,n)):t&&(n.text.className=t)}function mt(e,n){!function(e,n){var t=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),n.background)t?n.background.className=t:(n.background.parentNode.removeChild(n.background),n.background=null);else if(t){var r=pt(n);n.background=r.insertBefore(A("div",null,t),r.firstChild),e.display.input.setUneditable(n.background)}}(e,n),n.line.wrapClass?pt(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var t=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=t||""}function gt(e,n,t,r){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var o=pt(n);n.gutterBackground=A("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(n.gutterBackground),o.insertBefore(n.gutterBackground,n.text)}var i=n.line.gutterMarkers;if(e.options.lineNumbers||i){var a=pt(n),s=n.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,n.text),n.line.gutterClass&&(s.className+=" "+n.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(n.lineNumber=s.appendChild(A("div",en(e.options,t),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=i.hasOwnProperty(c)&&i[c];u&&s.appendChild(A("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function vt(e,n,t){n.alignable&&(n.alignable=null);for(var r=n.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,"CodeMirror-linewidget"==r.className&&n.node.removeChild(r);bt(e,n,t)}function yt(e,n,t,r){var o=ht(e,n);return n.text=n.node=o.pre,o.bgClass&&(n.bgClass=o.bgClass),o.textClass&&(n.textClass=o.textClass),mt(e,n),gt(e,n,t,r),bt(e,n,r),n.node}function bt(e,n,t){if(kt(e,n.line,n,t,!0),n.rest)for(var r=0;r<n.rest.length;r++)kt(e,n.rest[r],n,t,!1)}function kt(e,n,t,r,o){if(n.widgets)for(var i=pt(t),a=0,s=n.widgets;a<s.length;++a){var l=s[a],c=A("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),wt(l,c,t,r),e.display.input.setUneditable(c),o&&l.above?i.insertBefore(c,t.gutter||t.text):i.appendChild(c),ct(l,"redraw")}}function wt(e,n,t,r){if(e.noHScroll){(t.alignable||(t.alignable=[])).push(n);var o=r.wrapperWidth;n.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,n.style.paddingLeft=r.gutterTotalWidth+"px"),n.style.width=o+"px"}e.coverGutter&&(n.style.zIndex=5,n.style.position="relative",e.noHScroll||(n.style.marginLeft=-r.gutterTotalWidth+"px"))}function Ct(e){if(null!=e.height)return e.height;var n=e.doc.cm;if(!n)return 0;if(!N(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),e.noHScroll&&(t+="width: "+n.display.wrapper.clientWidth+"px;"),I(n.display.measure,A("div",[e.node],null,t))}return e.height=e.node.parentNode.offsetHeight}function Tt(e,n){for(var t=xe(n);t!=e.wrapper;t=t.parentNode)if(!t||1==t.nodeType&&"true"==t.getAttribute("cm-ignore-events")||t.parentNode==e.sizer&&t!=e.mover)return!0}function xt(e){return e.lineSpace.offsetTop}function St(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Lt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var n=I(e.measure,A("pre","x","CodeMirror-line-like")),t=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,r={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Ot(e){return U-e.display.nativeBarWidth}function It(e){return e.display.scroller.clientWidth-Ot(e)-e.display.barWidth}function At(e){return e.display.scroller.clientHeight-Ot(e)-e.display.barHeight}function Mt(e,n,t){if(e.line==n)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==n)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if($e(e.rest[o])>t)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Nt(e,n,t,r){return Rt(e,_t(e,n),t,r)}function Et(e,n){if(n>=e.display.viewFrom&&n<e.display.viewTo)return e.display.view[dr(e,n)];var t=e.display.externalMeasured;return t&&n>=t.lineN&&n<t.lineN+t.size?t:void 0}function _t(e,n){var t=$e(n),r=Et(e,t);r&&!r.text?r=null:r&&r.changes&&(dt(e,r,t,ar(e)),e.curOp.forceUpdate=!0),r||(r=function(e,n){var t=$e(n=Fn(n)),r=e.display.externalMeasured=new it(e.doc,n,t);r.lineN=t;var o=r.built=Zn(e,r);return r.text=o.pre,I(e.display.lineMeasure,o.pre),r}(e,n));var o=Mt(r,n,t);return{line:n,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Rt(e,n,t,r,o){n.before&&(t=-1);var i,l=t+(r||"");return n.cache.hasOwnProperty(l)?i=n.cache[l]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(function(e,n,t){var r=e.options.lineWrapping,o=r&&It(e);if(!n.measure.heights||r&&n.measure.width!=o){var i=n.measure.heights=[];if(r){n.measure.width=o;for(var a=n.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&i.push((l.bottom+c.top)/2-t.top)}}i.push(t.bottom-t.top)}}(e,n.view,n.rect),n.hasHeights=!0),(i=function(e,n,t,r){var o,i=Wt(n.map,t,r),l=i.node,c=i.start,u=i.end,d=i.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;c&&oe(n.line.text.charAt(i.coverStart+c));)--c;for(;i.coverStart+u<i.coverEnd&&oe(n.line.text.charAt(i.coverStart+u));)++u;if((o=a&&s<9&&0==c&&u==i.coverEnd-i.coverStart?l.parentNode.getBoundingClientRect():Ht(S(l,c,u).getClientRects(),r)).left||o.right||0==c)break;u=c,c-=1,d="right"}a&&s<11&&(o=function(e,n){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Pe)return Pe;var n=I(e,A("span","x")),t=n.getBoundingClientRect(),r=S(n,0,1).getBoundingClientRect();return Pe=Math.abs(t.left-r.left)>1}(e))return n;var t=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*t,right:n.right*t,top:n.top*r,bottom:n.bottom*r}}(e.display.measure,o))}else{var h;c>0&&(d=r="right"),o=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==r?h.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!o||!o.left&&!o.right)){var f=l.parentNode.getClientRects()[0];o=f?{left:f.left,right:f.left+ir(e.display),top:f.top,bottom:f.bottom}:Bt}for(var m=o.top-n.rect.top,g=o.bottom-n.rect.top,v=(m+g)/2,y=n.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var k=b?y[b-1]:0,w=y[b],C={left:("right"==d?o.right:o.left)-n.rect.left,right:("left"==d?o.left:o.right)-n.rect.left,top:k,bottom:w};return o.left||o.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}(e,n,t,r)).bogus||(n.cache[l]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var Pt,Bt={left:0,right:0,top:0,bottom:0};function Wt(e,n,t){for(var r,o,i,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],n<s?(o=0,i=1,a="left"):n<l?i=1+(o=n-s):(c==e.length-3||n==l&&e[c+3]>n)&&(o=(i=l-s)-1,n>=l&&(a="right")),null!=o){if(r=e[c+2],s==l&&t==(r.insertLeft?"left":"right")&&(a=t),"left"==t&&0==o)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],a="left";if("right"==t&&o==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:s,coverEnd:l}}function Ht(e,n){var t=Bt;if("left"==n)for(var r=0;r<e.length&&(t=e[r]).left==t.right;r++);else for(var o=e.length-1;o>=0&&(t=e[o]).left==t.right;o--);return t}function Dt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var n=0;n<e.rest.length;n++)e.measure.caches[n]={}}function Ft(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Dt(e.display.view[n])}function Ut(e){Ft(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function jt(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function zt(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Gt(e){var n=0;if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].above&&(n+=Ct(e.widgets[t]));return n}function qt(e,n,t,r,o){if(!o){var i=Gt(n);t.top+=i,t.bottom+=i}if("line"==r)return t;r||(r="local");var a=qn(n);if("local"==r?a+=xt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:zt());var l=s.left+("window"==r?0:jt());t.left+=l,t.right+=l}return t.top+=a,t.bottom+=a,t}function Vt(e,n,t){if("div"==t)return n;var r=n.left,o=n.top;if("page"==t)r-=jt(),o-=zt();else if("local"==t||!t){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function Kt(e,n,t,r,o){return r||(r=Ke(e.doc,n.line)),qt(e,r,Nt(e,r,n.ch,o),t)}function Yt(e,n,t,r,o,i){function a(n,a){var s=Rt(e,o,n,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,qt(e,r,s,t)}r=r||Ke(e.doc,n.line),o||(o=_t(e,r));var s=ue(r,e.doc.direction),l=n.ch,c=n.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(e,n,t){return a(t?e-1:e,1==s[n].level!=t)}var d=le(s,l,c),p=se,h=u(l,d,"before"==c);return null!=p&&(h.other=u(l,p,"before"!=c)),h}function Xt(e,n){var t=0;n=cn(e.doc,n),e.options.lineWrapping||(t=ir(e.display)*n.ch);var r=Ke(e.doc,n.line),o=qn(r)+xt(e.display);return{left:t,right:t,top:o,bottom:o+r.height}}function Qt(e,n,t,r,o){var i=nn(e,n,t);return i.xRel=o,r&&(i.outside=r),i}function $t(e,n,t){var r=e.doc;if((t+=e.display.viewOffset)<0)return Qt(r.first,0,null,-1,-1);var o=Je(r,t),i=r.first+r.size-1;if(o>i)return Qt(r.first+r.size-1,Ke(r,i).text.length,null,1,1);n<0&&(n=0);for(var a=Ke(r,o);;){var s=nr(e,a,o,n,t),l=Hn(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==o)return c;a=Ke(r,o=c.line)}}function Jt(e,n,t,r){r-=Gt(n);var o=n.text.length,i=ae(function(n){return Rt(e,t,n-1).bottom<=r},o,0);return{begin:i,end:o=ae(function(n){return Rt(e,t,n).top>r},i,o)}}function Zt(e,n,t,r){return t||(t=_t(e,n)),Jt(e,n,t,qt(e,n,Rt(e,t,r),"line").top)}function er(e,n,t,r){return!(e.bottom<=t)&&(e.top>t||(r?e.left:e.right)>n)}function nr(e,n,t,r,o){o-=qn(n);var i=_t(e,n),a=Gt(n),s=0,l=n.text.length,c=!0,u=ue(n,e.doc.direction);if(u){var d=(e.options.lineWrapping?rr:tr)(e,n,t,i,u,r,o);s=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var p,h,f=null,m=null,g=ae(function(n){var t=Rt(e,i,n);return t.top+=a,t.bottom+=a,!!er(t,r,o,!1)&&(t.top<=o&&t.left<=r&&(f=n,m=t),!0)},s,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==c;g=f+(b?0:1),h=b?"after":"before",p=y?m.left:m.right}else{c||g!=l&&g!=s||g++,h=0==g?"after":g==n.text.length?"before":Rt(e,i,g-(c?1:0)).bottom+a<=o==c?"after":"before";var k=Yt(e,nn(t,g,h),"line",n,i);p=k.left,v=o<k.top?-1:o>=k.bottom?1:0}return Qt(t,g=ie(n.text,g,1),h,v,r-p)}function tr(e,n,t,r,o,i,a){var s=ae(function(s){var l=o[s],c=1!=l.level;return er(Yt(e,nn(t,c?l.to:l.from,c?"before":"after"),"line",n,r),i,a,!0)},0,o.length-1),l=o[s];if(s>0){var c=1!=l.level,u=Yt(e,nn(t,c?l.from:l.to,c?"after":"before"),"line",n,r);er(u,i,a,!0)&&u.top>a&&(l=o[s-1])}return l}function rr(e,n,t,r,o,i,a){var s=Jt(e,n,r,a),l=s.begin,c=s.end;/\s/.test(n.text.charAt(c-1))&&c--;for(var u=null,d=null,p=0;p<o.length;p++){var h=o[p];if(!(h.from>=c||h.to<=l)){var f=Rt(e,r,1!=h.level?Math.min(c,h.to)-1:Math.max(l,h.from)).right,m=f<i?i-f+1e9:f-i;(!u||d>m)&&(u=h,d=m)}}return u||(u=o[o.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function or(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pt){Pt=A("pre",null,"CodeMirror-line-like");for(var n=0;n<49;++n)Pt.appendChild(document.createTextNode("x")),Pt.appendChild(A("br"));Pt.appendChild(document.createTextNode("x"))}I(e.measure,Pt);var t=Pt.offsetHeight/50;return t>3&&(e.cachedTextHeight=t),O(e.measure),t||1}function ir(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var n=A("span","xxxxxxxxxx"),t=A("pre",[n],"CodeMirror-line-like");I(e.measure,t);var r=n.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function ar(e){for(var n=e.display,t={},r={},o=n.gutters.clientLeft,i=n.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=e.display.gutterSpecs[a].className;t[s]=i.offsetLeft+i.clientLeft+o,r[s]=i.clientWidth}return{fixedPos:sr(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:t,gutterWidth:r,wrapperWidth:n.wrapper.clientWidth}}function sr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function lr(e){var n=or(e.display),t=e.options.lineWrapping,r=t&&Math.max(5,e.display.scroller.clientWidth/ir(e.display)-3);return function(o){if(zn(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return t?i+(Math.ceil(o.text.length/r)||1)*n:i+n}}function cr(e){var n=e.doc,t=lr(e);n.iter(function(e){var n=t(e);n!=e.height&&Qe(e,n)})}function ur(e,n,t,r){var o=e.display;if(!t&&"true"==xe(n).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=n.clientX-s.left,a=n.clientY-s.top}catch(n){return null}var l,c=$t(e,i,a);if(r&&1==c.xRel&&(l=Ke(e.doc,c.line).text).length==c.ch){var u=H(l,l.length,e.options.tabSize)-l.length;c=nn(c.line,Math.max(0,Math.round((i-Lt(e.display).left)/ir(e.display))-u))}return c}function dr(e,n){if(n>=e.display.viewTo)return null;if((n-=e.display.viewFrom)<0)return null;for(var t=e.display.view,r=0;r<t.length;r++)if((n-=t[r].size)<0)return r}function pr(e,n,t,r){null==n&&(n=e.doc.first),null==t&&(t=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&t<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>n)&&(o.updateLineNumbers=n),e.curOp.viewChanged=!0,n>=o.viewTo)xn&&Un(e.doc,n)<o.viewTo&&fr(e);else if(t<=o.viewFrom)xn&&jn(e.doc,t+r)>o.viewFrom?fr(e):(o.viewFrom+=r,o.viewTo+=r);else if(n<=o.viewFrom&&t>=o.viewTo)fr(e);else if(n<=o.viewFrom){var i=mr(e,t,t+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):fr(e)}else if(t>=o.viewTo){var a=mr(e,n,n,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):fr(e)}else{var s=mr(e,n,n,-1),l=mr(e,t,t+r,1);s&&l?(o.view=o.view.slice(0,s.index).concat(at(e,s.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=r):fr(e)}var c=o.externalMeasured;c&&(t<c.lineN?c.lineN+=r:n<c.lineN+c.size&&(o.externalMeasured=null))}function hr(e,n,t){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&n>=o.lineN&&n<o.lineN+o.size&&(r.externalMeasured=null),!(n<r.viewFrom||n>=r.viewTo)){var i=r.view[dr(e,n)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==F(a,t)&&a.push(t)}}}function fr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function mr(e,n,t,r){var o,i=dr(e,n),a=e.display.view;if(!xn||t==e.doc.first+e.doc.size)return{index:i,lineN:t};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=n){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-n,i++}else o=s-n;n+=o,t+=o}for(;Un(e.doc,t)!=t;){if(i==(r<0?0:a.length-1))return null;t+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:t}}function gr(e){for(var n=e.display.view,t=0,r=0;r<n.length;r++){var o=n[r];o.hidden||o.node&&!o.changes||++t}return t}function vr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function yr(e,n){void 0===n&&(n=!0);for(var t=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<t.sel.ranges.length;a++)if(n||a!=t.sel.primIndex){var s=t.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&br(e,s.head,o),l||wr(e,s,i)}}return r}function br(e,n,t){var r=Yt(e,n,"div",null,null,!e.options.singleCursorHeightPerLine),o=t.appendChild(A("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var i=t.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=r.other.left+"px",i.style.top=r.other.top+"px",i.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function kr(e,n){return e.top-n.top||e.left-n.left}function wr(e,n,t){var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=Lt(e.display),s=a.left,l=Math.max(r.sizerWidth,It(e)-r.sizer.offsetLeft)-a.right,c="ltr"==o.direction;function u(e,n,t,r){n<0&&(n=0),n=Math.round(n),r=Math.round(r),i.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+n+"px; width: "+(null==t?l-e:t)+"px;\n                             height: "+(r-n)+"px"))}function d(n,t,r){var i,a,d=Ke(o,n),p=d.text.length;function h(t,r){return Kt(e,nn(n,t),"div",d,r)}function f(n,t,r){var o=Zt(e,d,null,n),i="ltr"==t==("after"==r)?"left":"right";return h("after"==r?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1),i)[i]}var m=ue(d,o.direction);return function(e,n,t,r){if(!e)return r(n,t,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<t&&a.to>n||n==t&&a.to==n)&&(r(Math.max(a.from,n),Math.min(a.to,t),1==a.level?"rtl":"ltr",i),o=!0)}o||r(n,t,"ltr")}(m,t||0,null==r?p:r,function(e,n,o,d){var g="ltr"==o,v=h(e,g?"left":"right"),y=h(n-1,g?"right":"left"),b=null==t&&0==e,k=null==r&&n==p,w=0==d,C=!m||d==m.length-1;if(y.top-v.top<=3){var T=(c?k:b)&&C,x=(c?b:k)&&w?s:(g?v:y).left,S=T?l:(g?y:v).right;u(x,v.top,S-x,v.bottom)}else{var L,O,I,A;g?(L=c&&b&&w?s:v.left,O=c?l:f(e,o,"before"),I=c?s:f(n,o,"after"),A=c&&k&&C?l:y.right):(L=c?f(e,o,"before"):s,O=!c&&b&&w?l:v.right,I=!c&&k&&C?s:y.left,A=c?f(n,o,"after"):l),u(L,v.top,O-L,v.bottom),v.bottom<y.top&&u(s,v.bottom,null,y.top),u(I,y.top,A-I,y.bottom)}(!i||kr(v,i)<0)&&(i=v),kr(y,i)<0&&(i=y),(!a||kr(v,a)<0)&&(a=v),kr(y,a)<0&&(a=y)}),{start:i,end:a}}var p=n.from(),h=n.to();if(p.line==h.line)d(p.line,p.ch,h.ch);else{var f=Ke(o,p.line),m=Ke(o,h.line),g=Fn(f)==Fn(m),v=d(p.line,p.ch,g?f.text.length+1:null).end,y=d(h.line,g?0:null,h.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(s,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(s,v.bottom,null,y.top)}t.appendChild(i)}function Cr(e){if(e.state.focused){var n=e.display;clearInterval(n.blinker);var t=!0;n.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?n.blinker=setInterval(function(){return n.cursorDiv.style.visibility=(t=!t)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function Tr(e){e.state.focused||(e.display.input.focus(),Sr(e))}function xr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Lr(e))},100)}function Sr(e,n){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(me(e,"focus",e,n),e.state.focused=!0,_(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Cr(e))}function Lr(e,n){e.state.delayingBlurEvent||(e.state.focused&&(me(e,"blur",e,n),e.state.focused=!1,L(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Or(e){for(var n=e.display,t=n.lineDiv.offsetTop,r=0;r<n.view.length;r++){var o=n.view[r],i=e.options.lineWrapping,l=void 0,c=0;if(!o.hidden){if(a&&s<8){var u=o.node.offsetTop+o.node.offsetHeight;l=u-t,t=u}else{var d=o.node.getBoundingClientRect();l=d.bottom-d.top,!i&&o.text.firstChild&&(c=o.text.firstChild.getBoundingClientRect().right-d.left-1)}var p=o.line.height-l;if((p>.005||p<-.005)&&(Qe(o.line,l),Ir(o.line),o.rest))for(var h=0;h<o.rest.length;h++)Ir(o.rest[h]);if(c>e.display.sizerWidth){var f=Math.ceil(c/ir(e.display));f>e.display.maxLineLength&&(e.display.maxLineLength=f,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function Ir(e){if(e.widgets)for(var n=0;n<e.widgets.length;++n){var t=e.widgets[n],r=t.node.parentNode;r&&(t.height=r.offsetHeight)}}function Ar(e,n,t){var r=t&&null!=t.top?Math.max(0,t.top):e.scroller.scrollTop;r=Math.floor(r-xt(e));var o=t&&null!=t.bottom?t.bottom:r+e.wrapper.clientHeight,i=Je(n,r),a=Je(n,o);if(t&&t.ensure){var s=t.ensure.from.line,l=t.ensure.to.line;s<i?(i=s,a=Je(n,qn(Ke(n,s))+e.wrapper.clientHeight)):Math.min(l,n.lastLine())>=a&&(i=Je(n,qn(Ke(n,l))-e.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function Mr(e,n){var t=e.display,r=or(e.display);n.top<0&&(n.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:t.scroller.scrollTop,i=At(e),a={};n.bottom-n.top>i&&(n.bottom=n.top+i);var s=e.doc.height+St(t),l=n.top<r,c=n.bottom>s-r;if(n.top<o)a.scrollTop=l?0:n.top;else if(n.bottom>o+i){var u=Math.min(n.top,(c?s:n.bottom)-i);u!=o&&(a.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:t.scroller.scrollLeft,p=It(e)-(e.options.fixedGutter?t.gutters.offsetWidth:0),h=n.right-n.left>p;return h&&(n.right=n.left+p),n.left<10?a.scrollLeft=0:n.left<d?a.scrollLeft=Math.max(0,n.left-(h?0:10)):n.right>p+d-3&&(a.scrollLeft=n.right+(h?0:10)-p),a}function Nr(e,n){null!=n&&(Rr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Er(e){Rr(e);var n=e.getCursor();e.curOp.scrollToPos={from:n,to:n,margin:e.options.cursorScrollMargin}}function _r(e,n,t){null==n&&null==t||Rr(e),null!=n&&(e.curOp.scrollLeft=n),null!=t&&(e.curOp.scrollTop=t)}function Rr(e){var n=e.curOp.scrollToPos;n&&(e.curOp.scrollToPos=null,Pr(e,Xt(e,n.from),Xt(e,n.to),n.margin))}function Pr(e,n,t,r){var o=Mr(e,{left:Math.min(n.left,t.left),top:Math.min(n.top,t.top)-r,right:Math.max(n.right,t.right),bottom:Math.max(n.bottom,t.bottom)+r});_r(e,o.scrollLeft,o.scrollTop)}function Br(e,n){Math.abs(e.doc.scrollTop-n)<2||(t||lo(e,{top:n}),Wr(e,n,!0),t&&lo(e),ro(e,100))}function Wr(e,n,t){n=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,n),(e.display.scroller.scrollTop!=n||t)&&(e.doc.scrollTop=n,e.display.scrollbars.setScrollTop(n),e.display.scroller.scrollTop!=n&&(e.display.scroller.scrollTop=n))}function Hr(e,n,t,r){n=Math.min(n,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(t?n==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-n)<2)&&!r||(e.doc.scrollLeft=n,po(e),e.display.scroller.scrollLeft!=n&&(e.display.scroller.scrollLeft=n),e.display.scrollbars.setScrollLeft(n))}function Dr(e){var n=e.display,t=n.gutters.offsetWidth,r=Math.round(e.doc.height+St(e.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:e.options.fixedGutter?t:0,docHeight:r,scrollHeight:r+Ot(e)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:t}}var Fr=function(e,n,t){this.cm=t;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),pe(r,"scroll",function(){r.clientHeight&&n(r.scrollTop,"vertical")}),pe(o,"scroll",function(){o.clientWidth&&n(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fr.prototype.update=function(e){var n=e.scrollWidth>e.clientWidth+1,t=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(t){this.vert.style.display="block",this.vert.style.bottom=n?r+"px":"0";var o=e.viewHeight-(n?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(n){this.horiz.style.display="block",this.horiz.style.right=t?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(t?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:t?r:0,bottom:n?r:0}},Fr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fr.prototype.zeroWidthHack=function(){var e=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new D,this.disableVert=new D},Fr.prototype.enableZeroWidthBar=function(e,n,t){e.style.pointerEvents="auto",n.set(1e3,function r(){var o=e.getBoundingClientRect();("vert"==t?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":n.set(1e3,r)})},Fr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ur=function(){};function jr(e,n){n||(n=Dr(e));var t=e.display.barWidth,r=e.display.barHeight;zr(e,n);for(var o=0;o<4&&t!=e.display.barWidth||r!=e.display.barHeight;o++)t!=e.display.barWidth&&e.options.lineWrapping&&Or(e),zr(e,Dr(e)),t=e.display.barWidth,r=e.display.barHeight}function zr(e,n){var t=e.display,r=t.scrollbars.update(n);t.sizer.style.paddingRight=(t.barWidth=r.right)+"px",t.sizer.style.paddingBottom=(t.barHeight=r.bottom)+"px",t.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=r.bottom+"px",t.scrollbarFiller.style.width=r.right+"px"):t.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=r.bottom+"px",t.gutterFiller.style.width=n.gutterWidth+"px"):t.gutterFiller.style.display=""}Ur.prototype.update=function(){return{bottom:0,right:0}},Ur.prototype.setScrollLeft=function(){},Ur.prototype.setScrollTop=function(){},Ur.prototype.clear=function(){};var Gr={native:Fr,null:Ur};function qr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Gr[e.options.scrollbarStyle](function(n){e.display.wrapper.insertBefore(n,e.display.scrollbarFiller),pe(n,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),n.setAttribute("cm-not-content","true")},function(n,t){"horizontal"==t?Hr(e,n):Br(e,n)},e),e.display.scrollbars.addClass&&_(e.display.wrapper,e.display.scrollbars.addClass)}var Vr=0;function Kr(e){var n;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vr},n=e.curOp,st?st.ops.push(n):n.ownsGroup=st={ops:[n],delayedCallbacks:[]}}function Yr(e){var n=e.curOp;n&&function(e,n){var t=e.ownsGroup;if(t)try{!function(e){var n=e.delayedCallbacks,t=0;do{for(;t<n.length;t++)n[t].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(t<n.length)}(t)}finally{st=null,n(t)}}(n,function(e){for(var n=0;n<e.ops.length;n++)e.ops[n].cm.curOp=null;!function(e){for(var n=e.ops,t=0;t<n.length;t++)Xr(n[t]);for(var r=0;r<n.length;r++)(o=n[r]).updatedDisplay=o.mustUpdate&&ao(o.cm,o.update);for(var o,i=0;i<n.length;i++)Qr(n[i]);for(var a=0;a<n.length;a++)$r(n[a]);for(var s=0;s<n.length;s++)Jr(n[s])}(e)})}function Xr(e){var n=e.cm,t=n.display;!function(e){var n=e.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Ot(e)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Ot(e)+"px",n.scrollbarsClipped=!0)}(n),e.updateMaxLine&&Kn(n),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<t.viewFrom||e.scrollToPos.to.line>=t.viewTo)||t.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new io(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Qr(e){var n=e.cm,t=n.display;e.updatedDisplay&&Or(n),e.barMeasure=Dr(n),t.maxLineChanged&&!n.options.lineWrapping&&(e.adjustWidthTo=Nt(n,t.maxLine,t.maxLine.text.length).left+3,n.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(t.scroller.clientWidth,t.sizer.offsetLeft+e.adjustWidthTo+Ot(n)+n.display.barWidth),e.maxScrollLeft=Math.max(0,t.sizer.offsetLeft+e.adjustWidthTo-It(n))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=t.input.prepareSelection())}function $r(e){var n=e.cm;null!=e.adjustWidthTo&&(n.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<n.doc.scrollLeft&&Hr(n,Math.min(n.display.scroller.scrollLeft,e.maxScrollLeft),!0),n.display.maxLineChanged=!1);var t=e.focus&&e.focus==E();e.preparedSelection&&n.display.input.showSelection(e.preparedSelection,t),(e.updatedDisplay||e.startHeight!=n.doc.height)&&jr(n,e.barMeasure),e.updatedDisplay&&uo(n,e.barMeasure),e.selectionChanged&&Cr(n),n.state.focused&&e.updateInput&&n.display.input.reset(e.typing),t&&Tr(e.cm)}function Jr(e){var n=e.cm,t=n.display,r=n.doc;e.updatedDisplay&&so(n,e.update),null==t.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(t.wheelStartX=t.wheelStartY=null),null!=e.scrollTop&&Wr(n,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Hr(n,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,n){if(!ge(e,"scrollCursorIntoView")){var t=e.display,r=t.sizer.getBoundingClientRect(),o=null;if(n.top+r.top<0?o=!0:n.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!f){var i=A("div","​",null,"position: absolute;\n                         top: "+(n.top-t.viewOffset-xt(e.display))+"px;\n                         height: "+(n.bottom-n.top+Ot(e)+t.barHeight)+"px;\n                         left: "+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(o),e.display.lineSpace.removeChild(i)}}}(n,function(e,n,t,r){var o;null==r&&(r=0),e.options.lineWrapping||n!=t||(t="before"==(n=n.ch?nn(n.line,"before"==n.sticky?n.ch-1:n.ch,"after"):n).sticky?nn(n.line,n.ch+1,"before"):n);for(var i=0;i<5;i++){var a=!1,s=Yt(e,n),l=t&&t!=n?Yt(e,t):s,c=Mr(e,o={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Br(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(Hr(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return o}(n,cn(r,e.scrollToPos.from),cn(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||me(o[a],"hide");if(i)for(var s=0;s<i.length;++s)i[s].lines.length&&me(i[s],"unhide");t.wrapper.offsetHeight&&(r.scrollTop=n.display.scroller.scrollTop),e.changeObjs&&me(n,"changes",n,e.changeObjs),e.update&&e.update.finish()}function Zr(e,n){if(e.curOp)return n();Kr(e);try{return n()}finally{Yr(e)}}function eo(e,n){return function(){if(e.curOp)return n.apply(e,arguments);Kr(e);try{return n.apply(e,arguments)}finally{Yr(e)}}}function no(e){return function(){if(this.curOp)return e.apply(this,arguments);Kr(this);try{return e.apply(this,arguments)}finally{Yr(this)}}}function to(e){return function(){var n=this.cm;if(!n||n.curOp)return e.apply(this,arguments);Kr(n);try{return e.apply(this,arguments)}finally{Yr(n)}}}function ro(e,n){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(n,B(oo,e))}function oo(e){var n=e.doc;if(!(n.highlightFrontier>=e.display.viewTo)){var t=+new Date+e.options.workTime,r=mn(e,n.highlightFrontier),o=[];n.iter(r.line,Math.min(n.first+n.size,e.display.viewTo+500),function(i){if(r.line>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength?ze(n.mode,r.state):null,l=hn(e,i,r,!0);s&&(r.state=s),i.styles=l.styles;var c=i.styleClasses,u=l.classes;u?i.styleClasses=u:c&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!d&&p<a.length;++p)d=a[p]!=i.styles[p];d&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&gn(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>t)return ro(e,e.options.workDelay),!0}),n.highlightFrontier=r.line,n.modeFrontier=Math.max(n.modeFrontier,r.line),o.length&&Zr(e,function(){for(var n=0;n<o.length;n++)hr(e,o[n],"text")})}}var io=function(e,n,t){var r=e.display;this.viewport=n,this.visible=Ar(r,e.doc,n),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=It(e),this.force=t,this.dims=ar(e),this.events=[]};function ao(e,n){var t=e.display,r=e.doc;if(n.editorIsHidden)return fr(e),!1;if(!n.force&&n.visible.from>=t.viewFrom&&n.visible.to<=t.viewTo&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo)&&t.renderedView==t.view&&0==gr(e))return!1;ho(e)&&(fr(e),n.dims=ar(e));var o=r.first+r.size,i=Math.max(n.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,n.visible.to+e.options.viewportMargin);t.viewFrom<i&&i-t.viewFrom<20&&(i=Math.max(r.first,t.viewFrom)),t.viewTo>a&&t.viewTo-a<20&&(a=Math.min(o,t.viewTo)),xn&&(i=Un(e.doc,i),a=jn(e.doc,a));var s=i!=t.viewFrom||a!=t.viewTo||t.lastWrapHeight!=n.wrapperHeight||t.lastWrapWidth!=n.wrapperWidth;!function(e,n,t){var r=e.display;0==r.view.length||n>=r.viewTo||t<=r.viewFrom?(r.view=at(e,n,t),r.viewFrom=n):(r.viewFrom>n?r.view=at(e,n,r.viewFrom).concat(r.view):r.viewFrom<n&&(r.view=r.view.slice(dr(e,n))),r.viewFrom=n,r.viewTo<t?r.view=r.view.concat(at(e,r.viewTo,t)):r.viewTo>t&&(r.view=r.view.slice(0,dr(e,t)))),r.viewTo=t}(e,i,a),t.viewOffset=qn(Ke(e.doc,t.viewFrom)),e.display.mover.style.top=t.viewOffset+"px";var c=gr(e);if(!s&&0==c&&!n.force&&t.renderedView==t.view&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var n=E();if(!n||!N(e.display.lineDiv,n))return null;var t={activeElt:n};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(t.anchorNode=r.anchorNode,t.anchorOffset=r.anchorOffset,t.focusNode=r.focusNode,t.focusOffset=r.focusOffset)}return t}(e);return c>4&&(t.lineDiv.style.display="none"),function(e,n,t){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function s(n){var t=n.nextSibling;return l&&y&&e.display.currentWheelTarget==n?n.style.display="none":n.parentNode.removeChild(n),t}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var p=c[d];if(p.hidden);else if(p.node&&p.node.parentNode==i){for(;a!=p.node;)a=s(a);var h=o&&null!=n&&n<=u&&p.lineNumber;p.changes&&(F(p.changes,"gutter")>-1&&(h=!1),dt(e,p,u,t)),h&&(O(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(en(e.options,u)))),a=p.node.nextSibling}else{var f=yt(e,p,u,t);i.insertBefore(f,a)}u+=p.size}for(;a;)a=s(a)}(e,t.updateLineNumbers,n.dims),c>4&&(t.lineDiv.style.display=""),t.renderedView=t.view,function(e){if(e&&e.activeElt&&e.activeElt!=E()&&(e.activeElt.focus(),e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var n=window.getSelection(),t=document.createRange();t.setEnd(e.anchorNode,e.anchorOffset),t.collapse(!1),n.removeAllRanges(),n.addRange(t),n.extend(e.focusNode,e.focusOffset)}}(u),O(t.cursorDiv),O(t.selectionDiv),t.gutters.style.height=t.sizer.style.minHeight=0,s&&(t.lastWrapHeight=n.wrapperHeight,t.lastWrapWidth=n.wrapperWidth,ro(e,400)),t.updateLineNumbers=null,!0}function so(e,n){for(var t=n.viewport,r=!0;(r&&e.options.lineWrapping&&n.oldDisplayWidth!=It(e)||(t&&null!=t.top&&(t={top:Math.min(e.doc.height+St(e.display)-At(e),t.top)}),n.visible=Ar(e.display,e.doc,t),!(n.visible.from>=e.display.viewFrom&&n.visible.to<=e.display.viewTo)))&&ao(e,n);r=!1){Or(e);var o=Dr(e);vr(e),jr(e,o),uo(e,o),n.force=!1}n.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(n.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function lo(e,n){var t=new io(e,n);if(ao(e,t)){Or(e),so(e,t);var r=Dr(e);vr(e),jr(e,r),uo(e,r),t.finish()}}function co(e){var n=e.gutters.offsetWidth;e.sizer.style.marginLeft=n+"px"}function uo(e,n){e.display.sizer.style.minHeight=n.docHeight+"px",e.display.heightForcer.style.top=n.docHeight+"px",e.display.gutters.style.height=n.docHeight+e.display.barHeight+Ot(e)+"px"}function po(e){var n=e.display,t=n.view;if(n.alignWidgets||n.gutters.firstChild&&e.options.fixedGutter){for(var r=sr(n)-n.scroller.scrollLeft+e.doc.scrollLeft,o=n.gutters.offsetWidth,i=r+"px",a=0;a<t.length;a++)if(!t[a].hidden){e.options.fixedGutter&&(t[a].gutter&&(t[a].gutter.style.left=i),t[a].gutterBackground&&(t[a].gutterBackground.style.left=i));var s=t[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(n.gutters.style.left=r+o+"px")}}function ho(e){if(!e.options.lineNumbers)return!1;var n=e.doc,t=en(e.options,n.first+n.size-1),r=e.display;if(t.length!=r.lineNumChars){var o=r.measure.appendChild(A("div",[A("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?t.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",co(e.display),!0}return!1}function fo(e,n){for(var t=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!n)continue;r=!0}t.push({className:i,style:a})}return n&&!r&&t.push({className:"CodeMirror-linenumbers",style:null}),t}function mo(e){var n=e.gutters,t=e.gutterSpecs;O(n),e.lineGutter=null;for(var r=0;r<t.length;++r){var o=t[r],i=o.className,a=o.style,s=n.appendChild(A("div",null,"CodeMirror-gutter "+i));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}n.style.display=t.length?"":"none",co(e)}function go(e){mo(e.display),pr(e),po(e)}function vo(e,n,r,o){var i=this;this.input=r,i.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=M("div",null,"CodeMirror-code"),i.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=A("div",null,"CodeMirror-cursors"),i.measure=A("div",null,"CodeMirror-measure"),i.lineMeasure=A("div",null,"CodeMirror-measure"),i.lineSpace=M("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var c=M("div",[i.lineSpace],"CodeMirror-lines");i.mover=A("div",[c],null,"position: relative"),i.sizer=A("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=A("div",null,null,"position: absolute; height: "+U+"px; width: 1px;"),i.gutters=A("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=A("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=A("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||t&&v||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=n.first,i.reportedViewFrom=i.reportedViewTo=n.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=fo(o.gutters,o.lineNumbers),mo(i),r.init(i)}io.prototype.signal=function(e,n){ye(e,n)&&this.events.push(arguments)},io.prototype.finish=function(){for(var e=0;e<this.events.length;e++)me.apply(null,this.events[e])};var yo=0,bo=null;function ko(e){var n=e.wheelDeltaX,t=e.wheelDeltaY;return null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==t&&e.detail&&e.axis==e.VERTICAL_AXIS?t=e.detail:null==t&&(t=e.wheelDelta),{x:n,y:t}}function wo(e){var n=ko(e);return n.x*=bo,n.y*=bo,n}function Co(e,n){var r=ko(n),o=r.x,i=r.y,a=e.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(o&&c||i&&u){if(i&&y&&l)e:for(var p=n.target,h=a.view;p!=s;p=p.parentNode)for(var f=0;f<h.length;f++)if(h[f].node==p){e.display.currentWheelTarget=p;break e}if(o&&!t&&!d&&null!=bo)return i&&u&&Br(e,Math.max(0,s.scrollTop+i*bo)),Hr(e,Math.max(0,s.scrollLeft+o*bo)),(!i||i&&u)&&ke(n),void(a.wheelStartX=null);if(i&&null!=bo){var m=i*bo,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),lo(e,{top:g,bottom:v})}yo<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,n=s.scrollTop-a.wheelStartY,t=n&&a.wheelDY&&n/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,t&&(bo=(bo*yo+t)/(yo+1),++yo)}},200)):(a.wheelDX+=o,a.wheelDY+=i))}}a?bo=-.53:t?bo=15:u?bo=-.7:p&&(bo=-1/3);var To=function(e,n){this.ranges=e,this.primIndex=n};To.prototype.primary=function(){return this.ranges[this.primIndex]},To.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var t=this.ranges[n],r=e.ranges[n];if(!rn(t.anchor,r.anchor)||!rn(t.head,r.head))return!1}return!0},To.prototype.deepCopy=function(){for(var e=[],n=0;n<this.ranges.length;n++)e[n]=new xo(on(this.ranges[n].anchor),on(this.ranges[n].head));return new To(e,this.primIndex)},To.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},To.prototype.contains=function(e,n){n||(n=e);for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t];if(tn(n,r.from())>=0&&tn(e,r.to())<=0)return t}return-1};var xo=function(e,n){this.anchor=e,this.head=n};function So(e,n,t){var r=e&&e.options.selectionsMayTouch,o=n[t];n.sort(function(e,n){return tn(e.from(),n.from())}),t=F(n,o);for(var i=1;i<n.length;i++){var a=n[i],s=n[i-1],l=tn(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var c=sn(s.from(),a.from()),u=an(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;i<=t&&--t,n.splice(--i,2,new xo(d?u:c,d?c:u))}}return new To(n,t)}function Lo(e,n){return new To([new xo(e,n||e)],0)}function Oo(e){return e.text?nn(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Io(e,n){if(tn(e,n.from)<0)return e;if(tn(e,n.to)<=0)return Oo(n);var t=e.line+n.text.length-(n.to.line-n.from.line)-1,r=e.ch;return e.line==n.to.line&&(r+=Oo(n).ch-n.to.ch),nn(t,r)}function Ao(e,n){for(var t=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];t.push(new xo(Io(o.anchor,n),Io(o.head,n)))}return So(e.cm,t,e.sel.primIndex)}function Mo(e,n,t){return e.line==n.line?nn(t.line,e.ch-n.ch+t.ch):nn(t.line+(e.line-n.line),e.ch)}function No(e){e.doc.mode=Fe(e.options,e.doc.modeOption),Eo(e)}function Eo(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ro(e,100),e.state.modeGen++,e.curOp&&pr(e)}function _o(e,n){return 0==n.from.ch&&0==n.to.ch&&""==X(n.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ro(e,n,t,r){function o(e){return t?t[e]:null}function i(e,t,o){!function(e,n,t,r){e.text=n,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Mn(e),Nn(e,t);var o=r?r(e):1;o!=e.height&&Qe(e,o)}(e,t,o,r),ct(e,"change",e,n)}function a(e,n){for(var t=[],i=e;i<n;++i)t.push(new Yn(c[i],o(i),r));return t}var s=n.from,l=n.to,c=n.text,u=Ke(e,s.line),d=Ke(e,l.line),p=X(c),h=o(c.length-1),f=l.line-s.line;if(n.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(_o(e,n)){var m=a(0,c.length-1);i(d,d.text,h),f&&e.remove(s.line,f),m.length&&e.insert(s.line,m)}else if(u==d)if(1==c.length)i(u,u.text.slice(0,s.ch)+p+u.text.slice(l.ch),h);else{var g=a(1,c.length-1);g.push(new Yn(p+u.text.slice(l.ch),h,r)),i(u,u.text.slice(0,s.ch)+c[0],o(0)),e.insert(s.line+1,g)}else if(1==c.length)i(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),o(0)),e.remove(s.line+1,f);else{i(u,u.text.slice(0,s.ch)+c[0],o(0)),i(d,p+d.text.slice(l.ch),h);var v=a(1,c.length-1);f>1&&e.remove(s.line+1,f-1),e.insert(s.line+1,v)}ct(e,"change",e,n)}function Po(e,n,t){!function e(r,o,i){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=o){var l=i&&s.sharedHist;t&&!l||(n(s.doc,l),e(s.doc,r,l))}}}(e,null,!0)}function Bo(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,cr(e),No(e),Wo(e),e.options.lineWrapping||Kn(e),e.options.mode=n.modeOption,pr(e)}function Wo(e){("rtl"==e.doc.direction?_:L)(e.display.lineDiv,"CodeMirror-rtl")}function Ho(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Do(e,n){var t={from:on(n.from),to:Oo(n),text:Ye(e,n.from,n.to)};return Go(e,t,n.from.line,n.to.line+1),Po(e,function(e){return Go(e,t,n.from.line,n.to.line+1)},!0),t}function Fo(e){for(;e.length&&X(e).ranges;)e.pop()}function Uo(e,n,t,r){var o=e.history;o.undone.length=0;var i,a,s=+new Date;if((o.lastOp==r||o.lastOrigin==n.origin&&n.origin&&("+"==n.origin.charAt(0)&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==n.origin.charAt(0)))&&(i=function(e,n){return n?(Fo(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}(o,o.lastOp==r)))a=X(i.changes),0==tn(n.from,n.to)&&0==tn(n.from,a.to)?a.to=Oo(n):i.changes.push(Do(e,n));else{var l=X(o.done);for(l&&l.ranges||zo(e.sel,o.done),i={changes:[Do(e,n)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(t),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=n.origin,a||me(e,"historyAdded")}function jo(e,n,t,r){var o=e.history,i=r&&r.origin;t==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||function(e,n,t,r){var o=n.charAt(0);return"*"==o||"+"==o&&t.ranges.length==r.ranges.length&&t.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,i,X(o.done),n))?o.done[o.done.length-1]=n:zo(n,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=t,r&&!1!==r.clearRedo&&Fo(o.undone)}function zo(e,n){var t=X(n);t&&t.ranges&&t.equals(e)||n.push(e)}function Go(e,n,t,r){var o=n["spans_"+e.id],i=0;e.iter(Math.max(e.first,t),Math.min(e.first+e.size,r),function(t){t.markedSpans&&((o||(o=n["spans_"+e.id]={}))[i]=t.markedSpans),++i})}function qo(e){if(!e)return null;for(var n,t=0;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function Vo(e,n){var t=function(e,n){var t=n["spans_"+e.id];if(!t)return null;for(var r=[],o=0;o<n.text.length;++o)r.push(qo(t[o]));return r}(e,n),r=In(e,n);if(!t)return r;if(!r)return t;for(var o=0;o<t.length;++o){var i=t[o],a=r[o];if(i&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<i.length;++c)if(i[c].marker==l.marker)continue e;i.push(l)}else a&&(t[o]=a)}return t}function Ko(e,n,t){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(t?To.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),n)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&F(n,Number(u[1]))>-1&&(X(s)[d]=c[d],delete c[d])}}}return r}function Yo(e,n,t,r){if(r){var o=e.anchor;if(t){var i=tn(n,o)<0;i!=tn(t,o)<0?(o=n,n=t):i!=tn(n,t)<0&&(n=t)}return new xo(o,n)}return new xo(t||n,n)}function Xo(e,n,t,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),ei(e,new To([Yo(e.sel.primary(),n,t,o)],0),r)}function Qo(e,n,t){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=Yo(e.sel.ranges[i],n[i],null,o);ei(e,So(e.cm,r,e.sel.primIndex),t)}function $o(e,n,t,r){var o=e.sel.ranges.slice(0);o[n]=t,ei(e,So(e.cm,o,e.sel.primIndex),r)}function Jo(e,n,t,r){ei(e,Lo(n,t),r)}function Zo(e,n,t){var r=e.history.done,o=X(r);o&&o.ranges?(r[r.length-1]=n,ni(e,n,t)):ei(e,n,t)}function ei(e,n,t){ni(e,n,t),jo(e,e.sel,e.cm?e.cm.curOp.id:NaN,t)}function ni(e,n,t){(ye(e,"beforeSelectionChange")||e.cm&&ye(e.cm,"beforeSelectionChange"))&&(n=function(e,n,t){var r={ranges:n.ranges,update:function(n){this.ranges=[];for(var t=0;t<n.length;t++)this.ranges[t]=new xo(cn(e,n[t].anchor),cn(e,n[t].head))},origin:t&&t.origin};return me(e,"beforeSelectionChange",e,r),e.cm&&me(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=n.ranges?So(e.cm,r.ranges,r.ranges.length-1):n}(e,n,t));var r=t&&t.bias||(tn(n.primary().head,e.sel.primary().head)<0?-1:1);ti(e,oi(e,n,r,!0)),t&&!1===t.scroll||!e.cm||Er(e.cm)}function ti(e,n){n.equals(e.sel)||(e.sel=n,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ve(e.cm)),ct(e,"cursorActivity",e))}function ri(e){ti(e,oi(e,e.sel,null,!1))}function oi(e,n,t,r){for(var o,i=0;i<n.ranges.length;i++){var a=n.ranges[i],s=n.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=ai(e,a.anchor,s&&s.anchor,t,r),c=ai(e,a.head,s&&s.head,t,r);(o||l!=a.anchor||c!=a.head)&&(o||(o=n.ranges.slice(0,i)),o[i]=new xo(l,c))}return o?So(e.cm,o,n.primIndex):n}function ii(e,n,t,r,o){var i=Ke(e,n.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=n.ch:s.from<n.ch))&&(null==s.to||(u?s.to>=n.ch:s.to>n.ch))){if(o&&(me(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(t){var d=l.find(r<0?1:-1),p=void 0;if((r<0?u:c)&&(d=si(e,d,-r,d&&d.line==n.line?i:null)),d&&d.line==n.line&&(p=tn(d,t))&&(r<0?p<0:p>0))return ii(e,d,n,r,o)}var h=l.find(r<0?-1:1);return(r<0?c:u)&&(h=si(e,h,r,h.line==n.line?i:null)),h?ii(e,h,n,r,o):null}}return n}function ai(e,n,t,r,o){var i=r||1,a=ii(e,n,t,i,o)||!o&&ii(e,n,t,i,!0)||ii(e,n,t,-i,o)||!o&&ii(e,n,t,-i,!0);return a||(e.cantEdit=!0,nn(e.first,0))}function si(e,n,t,r){return t<0&&0==n.ch?n.line>e.first?cn(e,nn(n.line-1)):null:t>0&&n.ch==(r||Ke(e,n.line)).text.length?n.line<e.first+e.size-1?nn(n.line+1,0):null:new nn(n.line,n.ch+t)}function li(e){e.setSelection(nn(e.firstLine(),0),nn(e.lastLine()),z)}function ci(e,n,t){var r={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return r.canceled=!0}};return t&&(r.update=function(n,t,o,i){n&&(r.from=cn(e,n)),t&&(r.to=cn(e,t)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),me(e,"beforeChange",e,r),e.cm&&me(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ui(e,n,t){if(e.cm){if(!e.cm.curOp)return eo(e.cm,ui)(e,n,t);if(e.cm.state.suppressEdits)return}if(!(ye(e,"beforeChange")||e.cm&&ye(e.cm,"beforeChange"))||(n=ci(e,n,!0))){var r=Tn&&!t&&function(e,n,t){var r=null;if(e.iter(n.line,t.line+1,function(e){if(e.markedSpans)for(var n=0;n<e.markedSpans.length;++n){var t=e.markedSpans[n].marker;!t.readOnly||r&&-1!=F(r,t)||(r||(r=[])).push(t)}}),!r)return null;for(var o=[{from:n,to:t}],i=0;i<r.length;++i)for(var a=r[i],s=a.find(0),l=0;l<o.length;++l){var c=o[l];if(!(tn(c.to,s.from)<0||tn(c.from,s.to)>0)){var u=[l,1],d=tn(c.from,s.from),p=tn(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&u.push({from:s.to,to:c.to}),o.splice.apply(o,u),l+=u.length-3}}return o}(e,n.from,n.to);if(r)for(var o=r.length-1;o>=0;--o)di(e,{from:r[o].from,to:r[o].to,text:o?[""]:n.text,origin:n.origin});else di(e,n)}}function di(e,n){if(1!=n.text.length||""!=n.text[0]||0!=tn(n.from,n.to)){var t=Ao(e,n);Uo(e,n,t,e.cm?e.cm.curOp.id:NaN),fi(e,n,t,In(e,n));var r=[];Po(e,function(e,t){t||-1!=F(r,e.history)||(yi(e.history,n),r.push(e.history)),fi(e,n,null,In(e,n))})}}function pi(e,n,t){var r=e.cm&&e.cm.state.suppressEdits;if(!r||t){for(var o,i=e.history,a=e.sel,s="undo"==n?i.done:i.undone,l="undo"==n?i.undone:i.done,c=0;c<s.length&&(o=s[c],t?!o.ranges||o.equals(e.sel):o.ranges);c++);if(c!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(r)return void s.push(o);break}if(zo(o,l),t&&!o.equals(e.sel))return void ei(e,o,{clearRedo:!1});a=o}var u=[];zo(a,l),l.push({changes:u,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=ye(e,"beforeChange")||e.cm&&ye(e.cm,"beforeChange"),p=function(t){var r=o.changes[t];if(r.origin=n,d&&!ci(e,r,!1))return s.length=0,{};u.push(Do(e,r));var i=t?Ao(e,r):X(s);fi(e,r,i,Vo(e,r)),!t&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Oo(r)});var a=[];Po(e,function(e,n){n||-1!=F(a,e.history)||(yi(e.history,r),a.push(e.history)),fi(e,r,null,Vo(e,r))})},h=o.changes.length-1;h>=0;--h){var f=p(h);if(f)return f.v}}}}function hi(e,n){if(0!=n&&(e.first+=n,e.sel=new To(Q(e.sel.ranges,function(e){return new xo(nn(e.anchor.line+n,e.anchor.ch),nn(e.head.line+n,e.head.ch))}),e.sel.primIndex),e.cm)){pr(e.cm,e.first,e.first-n,n);for(var t=e.cm.display,r=t.viewFrom;r<t.viewTo;r++)hr(e.cm,r,"gutter")}}function fi(e,n,t,r){if(e.cm&&!e.cm.curOp)return eo(e.cm,fi)(e,n,t,r);if(n.to.line<e.first)hi(e,n.text.length-1-(n.to.line-n.from.line));else if(!(n.from.line>e.lastLine())){if(n.from.line<e.first){var o=n.text.length-1-(e.first-n.from.line);hi(e,o),n={from:nn(e.first,0),to:nn(n.to.line+o,n.to.ch),text:[X(n.text)],origin:n.origin}}var i=e.lastLine();n.to.line>i&&(n={from:n.from,to:nn(i,Ke(e,i).text.length),text:[n.text[0]],origin:n.origin}),n.removed=Ye(e,n.from,n.to),t||(t=Ao(e,n)),e.cm?function(e,n,t){var r=e.doc,o=e.display,i=n.from,a=n.to,s=!1,l=i.line;e.options.lineWrapping||(l=$e(Fn(Ke(r,i.line))),r.iter(l,a.line+1,function(e){if(e==o.maxLine)return s=!0,!0})),r.sel.contains(n.from,n.to)>-1&&ve(e),Ro(r,n,t,lr(e)),e.options.lineWrapping||(r.iter(l,i.line+n.text.length,function(e){var n=Vn(e);n>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=n,o.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),function(e,n){if(e.modeFrontier=Math.min(e.modeFrontier,n),!(e.highlightFrontier<n-10)){for(var t=e.first,r=n-1;r>t;r--){var o=Ke(e,r).stateAfter;if(o&&(!(o instanceof dn)||r+o.lookAhead<n)){t=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,t)}}(r,i.line),ro(e,400);var c=n.text.length-(a.line-i.line)-1;n.full?pr(e):i.line!=a.line||1!=n.text.length||_o(e.doc,n)?pr(e,i.line,a.line+1,c):hr(e,i.line,"text");var u=ye(e,"changes"),d=ye(e,"change");if(d||u){var p={from:i,to:a,text:n.text,removed:n.removed,origin:n.origin};d&&ct(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}(e.cm,n,r):Ro(e,n,r),ni(e,t,z),e.cantEdit&&ai(e,nn(e.firstLine(),0))&&(e.cantEdit=!1)}}function mi(e,n,t,r,o){var i;r||(r=t),tn(r,t)<0&&(t=(i=[r,t])[0],r=i[1]),"string"==typeof n&&(n=e.splitLines(n)),ui(e,{from:t,to:r,text:n,origin:o})}function gi(e,n,t,r){t<e.line?e.line+=r:n<e.line&&(e.line=n,e.ch=0)}function vi(e,n,t,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||((i=e[o]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)gi(i.ranges[s].anchor,n,t,r),gi(i.ranges[s].head,n,t,r)}else{for(var l=0;l<i.changes.length;++l){var c=i.changes[l];if(t<c.from.line)c.from=nn(c.from.line+r,c.from.ch),c.to=nn(c.to.line+r,c.to.ch);else if(n<=c.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function yi(e,n){var t=n.from.line,r=n.to.line,o=n.text.length-(r-t)-1;vi(e.done,t,r,o),vi(e.undone,t,r,o)}function bi(e,n,t,r){var o=n,i=n;return"number"==typeof n?i=Ke(e,ln(e,n)):o=$e(n),null==o?null:(r(i,o)&&e.cm&&hr(e.cm,o,t),i)}function ki(e){this.lines=e,this.parent=null;for(var n=0,t=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function wi(e){this.children=e;for(var n=0,t=0,r=0;r<e.length;++r){var o=e[r];n+=o.chunkSize(),t+=o.height,o.parent=this}this.size=n,this.height=t,this.parent=null}xo.prototype.from=function(){return sn(this.anchor,this.head)},xo.prototype.to=function(){return an(this.anchor,this.head)},xo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ki.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,n){for(var t=e,r=e+n;t<r;++t){var o=this.lines[t];this.height-=o.height,Xn(o),ct(o,"delete")}this.lines.splice(e,n)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,n,t){this.height+=t,this.lines=this.lines.slice(0,e).concat(n).concat(this.lines.slice(e));for(var r=0;r<n.length;++r)n[r].parent=this},iterN:function(e,n,t){for(var r=e+n;e<r;++e)if(t(this.lines[e]))return!0}},wi.prototype={chunkSize:function(){return this.size},removeInner:function(e,n){this.size-=n;for(var t=0;t<this.children.length;++t){var r=this.children[t],o=r.chunkSize();if(e<o){var i=Math.min(n,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(t--,1),r.parent=null),0==(n-=i))break;e=0}else e-=o}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof ki))){var s=[];this.collapse(s),this.children=[new ki(s)],this.children[0].parent=this}},collapse:function(e){for(var n=0;n<this.children.length;++n)this.children[n].collapse(e)},insertInner:function(e,n,t){this.size+=n.length,this.height+=t;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,n,t),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,s=a;s<o.lines.length;){var l=new ki(o.lines.slice(s,s+=25));o.height-=l.height,this.children.splice(++r,0,l),l.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var n=new wi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=n.size,e.height-=n.height;var t=F(e.parent.children,e);e.parent.children.splice(t+1,0,n)}else{var r=new wi(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,n,t){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var a=Math.min(n,i-e);if(o.iterN(e,a,t))return!0;if(0==(n-=a))break;e=0}else e-=i}}};var Ci=function(e,n,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);this.doc=e,this.node=n};function Ti(e,n,t){qn(n)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Nr(e,t)}Ci.prototype.clear=function(){var e=this.doc.cm,n=this.line.widgets,t=this.line,r=$e(t);if(null!=r&&n){for(var o=0;o<n.length;++o)n[o]==this&&n.splice(o--,1);n.length||(t.widgets=null);var i=Ct(this);Qe(t,Math.max(0,t.height-i)),e&&(Zr(e,function(){Ti(e,t,-i),hr(e,r,"widget")}),ct(e,"lineWidgetCleared",e,this,r))}},Ci.prototype.changed=function(){var e=this,n=this.height,t=this.doc.cm,r=this.line;this.height=null;var o=Ct(this)-n;o&&(zn(this.doc,r)||Qe(r,r.height+o),t&&Zr(t,function(){t.curOp.forceUpdate=!0,Ti(t,r,o),ct(t,"lineWidgetChanged",t,e,$e(r))}))},be(Ci);var xi=0,Si=function(e,n){this.lines=[],this.type=n,this.doc=e,this.id=++xi};function Li(e,n,t,r,o){if(r&&r.shared)return function(e,n,t,r,o){(r=W(r)).shared=!1;var i=[Li(e,n,t,r,o)],a=i[0],s=r.widgetNode;return Po(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),i.push(Li(e,cn(e,n),cn(e,t),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=X(i)}),new Oi(i,a)}(e,n,t,r,o);if(e.cm&&!e.cm.curOp)return eo(e.cm,Li)(e,n,t,r,o);var i=new Si(e,o),a=tn(n,t);if(r&&W(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=M("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Dn(e,n.line,n,t,i)||n.line!=t.line&&Dn(e,t.line,n,t,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");xn=!0}i.addToHistory&&Uo(e,{from:n,to:t,origin:"markText"},e.sel,NaN);var s,l=n.line,c=e.cm;if(e.iter(l,t.line+1,function(e){c&&i.collapsed&&!c.options.lineWrapping&&Fn(e)==c.display.maxLine&&(s=!0),i.collapsed&&l!=n.line&&Qe(e,0),function(e,n){e.markedSpans=e.markedSpans?e.markedSpans.concat([n]):[n],n.marker.attachLine(e)}(e,new Sn(i,l==n.line?n.ch:null,l==t.line?t.ch:null)),++l}),i.collapsed&&e.iter(n.line,t.line+1,function(n){zn(e,n)&&Qe(n,0)}),i.clearOnEnter&&pe(i,"beforeCursorEnter",function(){return i.clear()}),i.readOnly&&(Tn=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++xi,i.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),i.collapsed)pr(c,n.line,t.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var u=n.line;u<=t.line;u++)hr(c,u,"text");i.atomic&&ri(c.doc),ct(c,"markerAdded",c,i)}return i}Si.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,n=e&&!e.curOp;if(n&&Kr(e),ye(this,"clear")){var t=this.find();t&&ct(this,"clear",t.from,t.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=Ln(a.markedSpans,this);e&&!this.collapsed?hr(e,$e(a),"text"):e&&(null!=s.to&&(o=$e(a)),null!=s.from&&(r=$e(a))),a.markedSpans=On(a.markedSpans,s),null==s.from&&this.collapsed&&!zn(this.doc,a)&&e&&Qe(a,or(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Fn(this.lines[l]),u=Vn(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&pr(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ri(e.doc)),e&&ct(e,"markerCleared",e,this,r,o),n&&Yr(e),this.parent&&this.parent.clear()}},Si.prototype.find=function(e,n){var t,r;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=Ln(i.markedSpans,this);if(null!=a.from&&(t=nn(n?i:$e(i),a.from),-1==e))return t;if(null!=a.to&&(r=nn(n?i:$e(i),a.to),1==e))return r}return t&&{from:t,to:r}},Si.prototype.changed=function(){var e=this,n=this.find(-1,!0),t=this,r=this.doc.cm;n&&r&&Zr(r,function(){var o=n.line,i=$e(n.line),a=Et(r,i);if(a&&(Dt(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!zn(t.doc,o)&&null!=t.height){var s=t.height;t.height=null;var l=Ct(t)-s;l&&Qe(o,o.height+l)}ct(r,"markerChanged",r,e)})},Si.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;n.maybeHiddenMarkers&&-1!=F(n.maybeHiddenMarkers,this)||(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Si.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},be(Si);var Oi=function(e,n){this.markers=e,this.primary=n;for(var t=0;t<e.length;++t)e[t].parent=this};function Ii(e){return e.findMarks(nn(e.first,0),e.clipPos(nn(e.lastLine())),function(e){return e.parent})}function Ai(e){for(var n=function(n){var t=e[n],r=[t.primary.doc];Po(t.primary.doc,function(e){return r.push(e)});for(var o=0;o<t.markers.length;o++){var i=t.markers[o];-1==F(r,i.doc)&&(i.parent=null,t.markers.splice(o--,1))}},t=0;t<e.length;t++)n(t)}Oi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ct(this,"clear")}},Oi.prototype.find=function(e,n){return this.primary.find(e,n)},be(Oi);var Mi=0,Ni=function(e,n,t,r,o){if(!(this instanceof Ni))return new Ni(e,n,t,r,o);null==t&&(t=0),wi.call(this,[new ki([new Yn("",null)])]),this.first=t,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=t;var i=nn(t,0);this.sel=Lo(i),this.history=new Ho(null),this.id=++Mi,this.modeOption=n,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ro(this,{from:i,to:i,text:e}),ei(this,Lo(i),z)};Ni.prototype=J(wi.prototype,{constructor:Ni,iter:function(e,n,t){t?this.iterN(e-this.first,n-e,t):this.iterN(this.first,this.first+this.size,e)},insert:function(e,n){for(var t=0,r=0;r<n.length;++r)t+=n[r].height;this.insertInner(e-this.first,n,t)},remove:function(e,n){this.removeInner(e-this.first,n)},getValue:function(e){var n=Xe(this,this.first,this.first+this.size);return!1===e?n:n.join(e||this.lineSeparator())},setValue:to(function(e){var n=nn(this.first,0),t=this.first+this.size-1;ui(this,{from:n,to:nn(t,Ke(this,t).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&_r(this.cm,0,0),ei(this,Lo(n),z)}),replaceRange:function(e,n,t,r){mi(this,e,n=cn(this,n),t=t?cn(this,t):n,r)},getRange:function(e,n,t){var r=Ye(this,cn(this,e),cn(this,n));return!1===t?r:r.join(t||this.lineSeparator())},getLine:function(e){var n=this.getLineHandle(e);return n&&n.text},getLineHandle:function(e){if(Ze(this,e))return Ke(this,e)},getLineNumber:function(e){return $e(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ke(this,e)),Fn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return cn(this,e)},getCursor:function(e){var n=this.sel.primary();return null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:to(function(e,n,t){Jo(this,cn(this,"number"==typeof e?nn(e,n||0):e),null,t)}),setSelection:to(function(e,n,t){Jo(this,cn(this,e),cn(this,n||e),t)}),extendSelection:to(function(e,n,t){Xo(this,cn(this,e),n&&cn(this,n),t)}),extendSelections:to(function(e,n){Qo(this,un(this,e),n)}),extendSelectionsBy:to(function(e,n){Qo(this,un(this,Q(this.sel.ranges,e)),n)}),setSelections:to(function(e,n,t){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new xo(cn(this,e[o].anchor),cn(this,e[o].head));null==n&&(n=Math.min(e.length-1,this.sel.primIndex)),ei(this,So(this.cm,r,n),t)}}),addSelection:to(function(e,n,t){var r=this.sel.ranges.slice(0);r.push(new xo(cn(this,e),cn(this,n||e))),ei(this,So(this.cm,r,r.length-1),t)}),getSelection:function(e){for(var n,t=this.sel.ranges,r=0;r<t.length;r++){var o=Ye(this,t[r].from(),t[r].to());n=n?n.concat(o):o}return!1===e?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var n=[],t=this.sel.ranges,r=0;r<t.length;r++){var o=Ye(this,t[r].from(),t[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),n[r]=o}return n},replaceSelection:function(e,n,t){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,n,t||"+input")},replaceSelections:to(function(e,n,t){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:t}}for(var s=n&&"end"!=n&&function(e,n,t){for(var r=[],o=nn(e.first,0),i=o,a=0;a<n.length;a++){var s=n[a],l=Mo(s.from,o,i),c=Mo(Oo(s),o,i);if(o=s.to,i=c,"around"==t){var u=e.sel.ranges[a],d=tn(u.head,u.anchor)<0;r[a]=new xo(d?c:l,d?l:c)}else r[a]=new xo(l,l)}return new To(r,e.sel.primIndex)}(this,r,n),l=r.length-1;l>=0;l--)ui(this,r[l]);s?Zo(this,s):this.cm&&Er(this.cm)}),undo:to(function(){pi(this,"undo")}),redo:to(function(){pi(this,"redo")}),undoSelection:to(function(){pi(this,"undo",!0)}),redoSelection:to(function(){pi(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,n=0,t=0,r=0;r<e.done.length;r++)e.done[r].ranges||++n;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++t;return{undo:n,redo:t}},clearHistory:function(){this.history=new Ho(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ko(this.history.done),undone:Ko(this.history.undone)}},setHistory:function(e){var n=this.history=new Ho(this.history.maxGeneration);n.done=Ko(e.done.slice(0),null,!0),n.undone=Ko(e.undone.slice(0),null,!0)},setGutterMarker:to(function(e,n,t){return bi(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[n]=t,!t&&te(r)&&(e.gutterMarkers=null),!0})}),clearGutter:to(function(e){var n=this;this.iter(function(t){t.gutterMarkers&&t.gutterMarkers[e]&&bi(n,t,"gutter",function(){return t.gutterMarkers[e]=null,te(t.gutterMarkers)&&(t.gutterMarkers=null),!0})})}),lineInfo:function(e){var n;if("number"==typeof e){if(!Ze(this,e))return null;if(n=e,!(e=Ke(this,e)))return null}else if(null==(n=$e(e)))return null;return{line:n,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:to(function(e,n,t){return bi(this,e,"gutter"==n?"gutter":"class",function(e){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(e[r]){if(x(t).test(e[r]))return!1;e[r]+=" "+t}else e[r]=t;return!0})}),removeLineClass:to(function(e,n,t){return bi(this,e,"gutter"==n?"gutter":"class",function(e){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==t)e[r]=null;else{var i=o.match(x(t));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:to(function(e,n,t){return function(e,n,t,r){var o=new Ci(e,t,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),bi(e,n,"widget",function(n){var t=n.widgets||(n.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=n,i&&!zn(e,n)){var r=qn(n)<e.scrollTop;Qe(n,n.height+Ct(o)),r&&Nr(i,o.height),i.curOp.forceUpdate=!0}return!0}),i&&ct(i,"lineWidgetAdded",i,o,"number"==typeof n?n:$e(n)),o}(this,e,n,t)}),removeLineWidget:function(e){e.clear()},markText:function(e,n,t){return Li(this,cn(this,e),cn(this,n),t,t&&t.type||"range")},setBookmark:function(e,n){var t={replacedWith:n&&(null==n.nodeType?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return Li(this,e=cn(this,e),e,t,"bookmark")},findMarksAt:function(e){var n=[],t=Ke(this,(e=cn(this,e)).line).markedSpans;if(t)for(var r=0;r<t.length;++r){var o=t[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&n.push(o.marker.parent||o.marker)}return n},findMarks:function(e,n,t){e=cn(this,e),n=cn(this,n);var r=[],o=e.line;return this.iter(e.line,n.line+1,function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==n.line&&l.from>=n.ch||t&&!t(l.marker)||r.push(l.marker.parent||l.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(n){var t=n.markedSpans;if(t)for(var r=0;r<t.length;++r)null!=t[r].from&&e.push(t[r].marker)}),e},posFromIndex:function(e){var n,t=this.first,r=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+r;if(i>e)return n=e,!0;e-=i,++t}),cn(this,nn(t,n))},indexFromPos:function(e){var n=(e=cn(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var t=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){n+=e.text.length+t}),n},copy:function(e){var n=new Ni(Xe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,e&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(e){e||(e={});var n=this.first,t=this.first+this.size;null!=e.from&&e.from>n&&(n=e.from),null!=e.to&&e.to<t&&(t=e.to);var r=new Ni(Xe(this,n,t),e.mode||this.modeOption,n,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(tn(i,a)){var s=Li(e,i,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,Ii(this)),r},unlinkDoc:function(e){if(e instanceof Oa&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n)if(this.linked[n].doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Ai(Ii(this));break}if(e.history==this.history){var t=[e.id];Po(e,function(e){return t.push(e.id)},!0),e.history=new Ho(null),e.history.done=Ko(this.history.done,t),e.history.undone=Ko(this.history.undone,t)}},iterLinkedDocs:function(e){Po(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ee(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:to(function(e){var n;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Zr(n=this.cm,function(){Wo(n),pr(n)}))})}),Ni.prototype.eachLine=Ni.prototype.iter;var Ei=0;function _i(e){var n=this;if(Ri(n),!ge(n,e)&&!Tt(n.display,e)){ke(e),a&&(Ei=+new Date);var t=ur(n,e,!0),r=e.dataTransfer.files;if(t&&!n.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),s=0,l=function(e,r){if(!n.options.allowDropFileTypes||-1!=F(n.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=eo(n,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),i[r]=e,++s==o){var l={from:t=cn(n.doc,t),to:t,text:n.doc.splitLines(i.join(n.doc.lineSeparator())),origin:"paste"};ui(n.doc,l),Zo(n.doc,Lo(t,Oo(l)))}}),a.readAsText(e)}},c=0;c<o;++c)l(r[c],c);else{if(n.state.draggingText&&n.doc.sel.contains(t)>-1)return n.state.draggingText(e),void setTimeout(function(){return n.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var d;if(n.state.draggingText&&!n.state.draggingText.copy&&(d=n.listSelections()),ni(n.doc,Lo(t,t)),d)for(var p=0;p<d.length;++p)mi(n.doc,"",d[p].anchor,d[p].head,"drag");n.replaceSelection(u,"around","paste"),n.display.input.focus()}}catch(e){}}}}function Ri(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Pi(e){if(document.getElementsByClassName){for(var n=document.getElementsByClassName("CodeMirror"),t=[],r=0;r<n.length;r++){var o=n[r].CodeMirror;o&&t.push(o)}t.length&&t[0].operation(function(){for(var n=0;n<t.length;n++)e(t[n])})}}var Bi=!1;function Wi(){var e;Bi||(pe(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Pi(Hi)},100))}),pe(window,"blur",function(){return Pi(Lr)}),Bi=!0)}function Hi(e){var n=e.display;n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,e.setSize()}for(var Di={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fi=0;Fi<10;Fi++)Di[Fi+48]=Di[Fi+96]=String(Fi);for(var Ui=65;Ui<=90;Ui++)Di[Ui]=String.fromCharCode(Ui);for(var ji=1;ji<=12;ji++)Di[ji+111]=Di[ji+63235]="F"+ji;var zi={};function Gi(e){var n,t,r,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))t=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return n&&(e="Alt-"+e),t&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function qi(e){var n={};for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==r){delete e[t];continue}for(var o=Q(t.split(" "),Gi),i=0;i<o.length;i++){var a=void 0,s=void 0;i==o.length-1?(s=o.join(" "),a=r):(s=o.slice(0,i+1).join(" "),a="...");var l=n[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else n[s]=a}delete e[t]}for(var c in n)e[c]=n[c];return e}function Vi(e,n,t,r){var o=(n=Qi(n)).call?n.call(e,r):n[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&t(o))return"handled";if(n.fallthrough){if("[object Array]"!=Object.prototype.toString.call(n.fallthrough))return Vi(e,n.fallthrough,t,r);for(var i=0;i<n.fallthrough.length;i++){var a=Vi(e,n.fallthrough[i],t,r);if(a)return a}}}function Ki(e){var n="string"==typeof e?e:Di[e.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function Yi(e,n,t){var r=e;return n.altKey&&"Alt"!=r&&(e="Alt-"+e),(C?n.metaKey:n.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(C?n.ctrlKey:n.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!t&&n.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Xi(e,n){if(d&&34==e.keyCode&&e.char)return!1;var t=Di[e.keyCode];return null!=t&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(t=e.code),Yi(t,e,n))}function Qi(e){return"string"==typeof e?zi[e]:e}function $i(e,n){for(var t=e.doc.sel.ranges,r=[],o=0;o<t.length;o++){for(var i=n(t[o]);r.length&&tn(i.from,X(r).to)<=0;){var a=r.pop();if(tn(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Zr(e,function(){for(var n=r.length-1;n>=0;n--)mi(e.doc,"",r[n].from,r[n].to,"+delete");Er(e)})}function Ji(e,n,t){var r=ie(e.text,n+t,t);return r<0||r>e.text.length?null:r}function Zi(e,n,t){var r=Ji(e,n.ch,t);return null==r?null:new nn(n.line,r,t<0?"after":"before")}function ea(e,n,t,r,o){if(e){var i=ue(t,n.doc.direction);if(i){var a,s=o<0?X(i):i[0],l=o<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==n.doc.direction){var c=_t(n,t);a=o<0?t.text.length-1:0;var u=Rt(n,c,a).top;a=ae(function(e){return Rt(n,c,e).top==u},o<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Ji(t,a,1))}else a=o<0?s.to:s.from;return new nn(r,a,l)}}return new nn(r,o<0?t.text.length:0,o<0?"before":"after")}zi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zi.default=y?zi.macDefault:zi.pcDefault;var na={selectAll:li,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),z)},killLine:function(e){return $i(e,function(n){if(n.empty()){var t=Ke(e.doc,n.head.line).text.length;return n.head.ch==t&&n.head.line<e.lastLine()?{from:n.head,to:nn(n.head.line+1,0)}:{from:n.head,to:nn(n.head.line,t)}}return{from:n.from(),to:n.to()}})},deleteLine:function(e){return $i(e,function(n){return{from:nn(n.from().line,0),to:cn(e.doc,nn(n.to().line+1,0))}})},delLineLeft:function(e){return $i(e,function(e){return{from:nn(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return $i(e,function(n){var t=e.charCoords(n.head,"div").top+5;return{from:e.coordsChar({left:0,top:t},"div"),to:n.from()}})},delWrappedLineRight:function(e){return $i(e,function(n){var t=e.charCoords(n.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div");return{from:n.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(nn(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(nn(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(n){return ta(e,n.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(n){return ra(e,n.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(n){return function(e,n){var t=Ke(e.doc,n),r=function(e){for(var n;n=Wn(e);)e=n.find(1,!0).line;return e}(t);return r!=t&&(n=$e(r)),ea(!0,e,t,n,-1)}(e,n.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(n){var t=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div")},q)},goLineLeft:function(e){return e.extendSelectionsBy(function(n){var t=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:0,top:t},"div")},q)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(n){var t=e.cursorCoords(n.head,"div").top+5,r=e.coordsChar({left:0,top:t},"div");return r.ch<e.getLine(r.line).search(/\S/)?ra(e,n.head):r},q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var n=[],t=e.listSelections(),r=e.options.tabSize,o=0;o<t.length;o++){var i=t[o].from(),a=H(e.getLine(i.line),i.ch,r);n.push(Y(r-a%r))}e.replaceSelections(n)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Zr(e,function(){for(var n=e.listSelections(),t=[],r=0;r<n.length;r++)if(n[r].empty()){var o=n[r].head,i=Ke(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new nn(o.line,o.ch-1)),o.ch>0)o=new nn(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),nn(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Ke(e.doc,o.line-1).text;a&&(o=new nn(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),nn(o.line-1,a.length-1),o,"+transpose"))}t.push(new xo(o,o))}e.setSelections(t)})},newlineAndIndent:function(e){return Zr(e,function(){for(var n=e.listSelections(),t=n.length-1;t>=0;t--)e.replaceRange(e.doc.lineSeparator(),n[t].anchor,n[t].head,"+input");n=e.listSelections();for(var r=0;r<n.length;r++)e.indentLine(n[r].from().line,null,!0);Er(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ta(e,n){var t=Ke(e.doc,n),r=Fn(t);return r!=t&&(n=$e(r)),ea(!0,e,r,n,1)}function ra(e,n){var t=ta(e,n.line),r=Ke(e.doc,t.line),o=ue(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(0,r.text.search(/\S/)),a=n.line==t.line&&n.ch<=i&&n.ch;return nn(t.line,a?0:i,t.sticky)}return t}function oa(e,n,t){if("string"==typeof n&&!(n=na[n]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),t&&(e.display.shift=!1),o=n(e)!=j}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}var ia=new D;function aa(e,n,t,r){var o=e.state.keySeq;if(o){if(Ki(n))return"handled";if(/\'$/.test(n)?e.state.keySeq=null:ia.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),sa(e,o+" "+n,t,r))return!0}return sa(e,n,t,r)}function sa(e,n,t,r){var o=function(e,n,t){for(var r=0;r<e.state.keyMaps.length;r++){var o=Vi(n,e.state.keyMaps[r],t,e);if(o)return o}return e.options.extraKeys&&Vi(n,e.options.extraKeys,t,e)||Vi(n,e.options.keyMap,t,e)}(e,n,r);return"multi"==o&&(e.state.keySeq=n),"handled"==o&&ct(e,"keyHandled",e,n,t),"handled"!=o&&"multi"!=o||(ke(t),Cr(e)),!!o}function la(e,n){var t=Xi(n,!0);return!!t&&(n.shiftKey&&!e.state.keySeq?aa(e,"Shift-"+t,n,function(n){return oa(e,n,!0)})||aa(e,t,n,function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return oa(e,n)}):aa(e,t,n,function(n){return oa(e,n)}))}var ca=null;function ua(e){var n=this;if(n.curOp.focus=E(),!ge(n,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;n.display.shift=16==t||e.shiftKey;var r=la(n,e);d&&(ca=r?t:null,!r&&88==t&&!Re&&(y?e.metaKey:e.ctrlKey)&&n.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)||function(e){var n=e.display.lineDiv;function t(e){18!=e.keyCode&&e.altKey||(L(n,"CodeMirror-crosshair"),fe(document,"keyup",t),fe(document,"mouseover",t))}_(n,"CodeMirror-crosshair"),pe(document,"keyup",t),pe(document,"mouseover",t)}(n)}}function da(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function pa(e){var n=this;if(!(Tt(n.display,e)||ge(n,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var t=e.keyCode,r=e.charCode;if(d&&t==ca)return ca=null,void ke(e);if(!d||e.which&&!(e.which<10)||!la(n,e)){var o=String.fromCharCode(null==r?t:r);"\b"!=o&&(function(e,n,t){return aa(e,"'"+t+"'",n,function(n){return oa(e,n,!0)})}(n,e,o)||n.display.input.onKeyPress(e))}}}var ha,fa,ma=function(e,n,t){this.time=e,this.pos=n,this.button=t};function ga(e){var n=this,t=n.display;if(!(ge(n,e)||t.activeTouch&&t.input.supportsTouch()))if(t.input.ensurePolled(),t.shift=e.shiftKey,Tt(t,e))l||(t.scroller.draggable=!1,setTimeout(function(){return t.scroller.draggable=!0},100));else if(!ba(n,e)){var r=ur(n,e),o=Se(e),i=r?function(e,n){var t=+new Date;return fa&&fa.compare(t,e,n)?(ha=fa=null,"triple"):ha&&ha.compare(t,e,n)?(fa=new ma(t,e,n),ha=null,"double"):(ha=new ma(t,e,n),fa=null,"single")}(r,o):"single";window.focus(),1==o&&n.state.selectingText&&n.state.selectingText(e),r&&function(e,n,t,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),aa(e,Yi(i=(1==n?"Left":2==n?"Middle":"Right")+i,o),o,function(n){if("string"==typeof n&&(n=na[n]),!n)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=n(e,t)!=j}finally{e.state.suppressEdits=!1}return r})}(n,o,r,i,e)||(1==o?r?function(e,n,t,r){a?setTimeout(B(Tr,e),0):e.curOp.focus=E();var o,i=function(e,n,t){var r=e.getOption("configureMouse"),o=r?r(e,n,t):{};if(null==o.unit){var i=b?t.shiftKey&&t.metaKey:t.altKey;o.unit=i?"rectangle":"single"==n?"char":"double"==n?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||t.shiftKey),null==o.addNew&&(o.addNew=y?t.metaKey:t.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?t.altKey:t.ctrlKey)),o}(e,t,r),c=e.doc.sel;e.options.dragDrop&&Ie&&!e.isReadOnly()&&"single"==t&&(o=c.contains(n))>-1&&(tn((o=c.ranges[o]).from(),n)<0||n.xRel>0)&&(tn(o.to(),n)>0||n.xRel<0)?function(e,n,t,r){var o=e.display,i=!1,c=eo(e,function(n){l&&(o.scroller.draggable=!1),e.state.draggingText=!1,fe(o.wrapper.ownerDocument,"mouseup",c),fe(o.wrapper.ownerDocument,"mousemove",u),fe(o.scroller,"dragstart",d),fe(o.scroller,"drop",c),i||(ke(n),r.addNew||Xo(e.doc,t,null,null,r.extend),l||a&&9==s?setTimeout(function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()},20):o.input.focus())}),u=function(e){i=i||Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)>=10},d=function(){return i=!0};l&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),pe(o.wrapper.ownerDocument,"mouseup",c),pe(o.wrapper.ownerDocument,"mousemove",u),pe(o.scroller,"dragstart",d),pe(o.scroller,"drop",c),xr(e),setTimeout(function(){return o.input.focus()},20)}(e,r,n,i):function(e,n,t,r){var o=e.display,i=e.doc;ke(n);var a,s,l=i.sel,c=l.ranges;if(r.addNew&&!r.extend?(s=i.sel.contains(t),a=s>-1?c[s]:new xo(t,t)):(a=i.sel.primary(),s=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new xo(t,t)),t=ur(e,n,!0,!0),s=-1;else{var u=va(e,t,r.unit);a=r.extend?Yo(a,u.anchor,u.head,r.extend):u}r.addNew?-1==s?(s=c.length,ei(i,So(e,c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==r.unit&&!r.extend?(ei(i,So(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=i.sel):$o(i,s,a,G):(s=0,ei(i,new To([a],0),G),l=i.sel);var d=t;function p(n){if(0!=tn(d,n))if(d=n,"rectangle"==r.unit){for(var o=[],c=e.options.tabSize,u=H(Ke(i,t.line).text,t.ch,c),p=H(Ke(i,n.line).text,n.ch,c),h=Math.min(u,p),f=Math.max(u,p),m=Math.min(t.line,n.line),g=Math.min(e.lastLine(),Math.max(t.line,n.line));m<=g;m++){var v=Ke(i,m).text,y=V(v,h,c);h==f?o.push(new xo(nn(m,y),nn(m,y))):v.length>y&&o.push(new xo(nn(m,y),nn(m,V(v,f,c))))}o.length||o.push(new xo(t,t)),ei(i,So(e,l.ranges.slice(0,s).concat(o),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(n)}else{var b,k=a,w=va(e,n,r.unit),C=k.anchor;tn(w.anchor,C)>0?(b=w.head,C=sn(k.from(),w.anchor)):(b=w.anchor,C=an(k.to(),w.head));var T=l.ranges.slice(0);T[s]=function(e,n){var t=n.anchor,r=n.head,o=Ke(e.doc,t.line);if(0==tn(t,r)&&t.sticky==r.sticky)return n;var i=ue(o);if(!i)return n;var a=le(i,t.ch,t.sticky),s=i[a];if(s.from!=t.ch&&s.to!=t.ch)return n;var l,c=a+(s.from==t.ch==(1!=s.level)?0:1);if(0==c||c==i.length)return n;if(r.line!=t.line)l=(r.line-t.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=le(i,r.ch,r.sticky),d=u-a||(r.ch-t.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var p=i[c+(l?-1:0)],h=l==(1==p.level),f=h?p.from:p.to,m=h?"after":"before";return t.ch==f&&t.sticky==m?n:new xo(new nn(t.line,f,m),r)}(e,new xo(cn(i,C),b)),ei(i,So(e,T,s),G)}}var h=o.wrapper.getBoundingClientRect(),f=0;function m(n){e.state.selectingText=!1,f=1/0,n&&(ke(n),o.input.focus()),fe(o.wrapper.ownerDocument,"mousemove",g),fe(o.wrapper.ownerDocument,"mouseup",v),i.history.lastSelOrigin=null}var g=eo(e,function(n){0!==n.buttons&&Se(n)?function n(t){var a=++f,s=ur(e,t,!0,"rectangle"==r.unit);if(s)if(0!=tn(s,d)){e.curOp.focus=E(),p(s);var l=Ar(o,i);(s.line>=l.to||s.line<l.from)&&setTimeout(eo(e,function(){f==a&&n(t)}),150)}else{var c=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;c&&setTimeout(eo(e,function(){f==a&&(o.scroller.scrollTop+=c,n(t))}),50)}}(n):m(n)}),v=eo(e,m);e.state.selectingText=v,pe(o.wrapper.ownerDocument,"mousemove",g),pe(o.wrapper.ownerDocument,"mouseup",v)}(e,r,n,i)}(n,r,i,e):xe(e)==t.scroller&&ke(e):2==o?(r&&Xo(n.doc,r),setTimeout(function(){return t.input.focus()},20)):3==o&&(T?n.display.input.onContextMenu(e):xr(n)))}}function va(e,n,t){if("char"==t)return new xo(n,n);if("word"==t)return e.findWordAt(n);if("line"==t)return new xo(nn(n.line,0),cn(e.doc,nn(n.line+1,0)));var r=t(e,n);return new xo(r.from,r.to)}function ya(e,n,t,r){var o,i;if(n.touches)o=n.touches[0].clientX,i=n.touches[0].clientY;else try{o=n.clientX,i=n.clientY}catch(n){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ke(n);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!ye(e,t))return Ce(n);i-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o)return me(e,t,e,Je(e.doc,i),e.display.gutterSpecs[l].className,n),Ce(n)}}function ba(e,n){return ya(e,n,"gutterClick",!0)}function ka(e,n){Tt(e.display,n)||function(e,n){return!!ye(e,"gutterContextMenu")&&ya(e,n,"gutterContextMenu",!1)}(e,n)||ge(e,n,"contextmenu")||T||e.display.input.onContextMenu(n)}function wa(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ut(e)}ma.prototype.compare=function(e,n,t){return this.time+400>e&&0==tn(n,this.pos)&&t==this.button};var Ca={toString:function(){return"CodeMirror.Init"}},Ta={},xa={};function Sa(e,n,t){if(!n!=!(t&&t!=Ca)){var r=e.display.dragFunctions,o=n?pe:fe;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function La(e){e.options.lineWrapping?(_(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(L(e.display.wrapper,"CodeMirror-wrap"),Kn(e)),cr(e),pr(e),Ut(e),setTimeout(function(){return jr(e)},100)}function Oa(e,n){var t=this;if(!(this instanceof Oa))return new Oa(e,n);this.options=n=n?W(n):{},W(Ta,n,!1);var r=n.value;"string"==typeof r?r=new Ni(r,n.mode,null,n.lineSeparator,n.direction):n.mode&&(r.modeOption=n.mode),this.doc=r;var o=new Oa.inputStyles[n.inputStyle](this),i=this.display=new vo(e,r,o,n);for(var c in i.wrapper.CodeMirror=this,wa(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),qr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new D,keySeq:null,specialChars:null},n.autofocus&&!v&&i.input.focus(),a&&s<11&&setTimeout(function(){return t.display.input.reset(!0)},20),function(e){var n=e.display;pe(n.scroller,"mousedown",eo(e,ga)),pe(n.scroller,"dblclick",a&&s<11?eo(e,function(n){if(!ge(e,n)){var t=ur(e,n);if(t&&!ba(e,n)&&!Tt(e.display,n)){ke(n);var r=e.findWordAt(t);Xo(e.doc,r.anchor,r.head)}}}):function(n){return ge(e,n)||ke(n)}),pe(n.scroller,"contextmenu",function(n){return ka(e,n)});var t,r={end:0};function o(){n.activeTouch&&(t=setTimeout(function(){return n.activeTouch=null},1e3),(r=n.activeTouch).end=+new Date)}function i(e,n){if(null==n.left)return!0;var t=n.left-e.left,r=n.top-e.top;return t*t+r*r>400}pe(n.scroller,"touchstart",function(o){if(!ge(e,o)&&!function(e){if(1!=e.touches.length)return!1;var n=e.touches[0];return n.radiusX<=1&&n.radiusY<=1}(o)&&!ba(e,o)){n.input.ensurePolled(),clearTimeout(t);var i=+new Date;n.activeTouch={start:i,moved:!1,prev:i-r.end<=300?r:null},1==o.touches.length&&(n.activeTouch.left=o.touches[0].pageX,n.activeTouch.top=o.touches[0].pageY)}}),pe(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),pe(n.scroller,"touchend",function(t){var r=n.activeTouch;if(r&&!Tt(n,t)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=e.coordsChar(n.activeTouch,"page");a=!r.prev||i(r,r.prev)?new xo(s,s):!r.prev.prev||i(r,r.prev.prev)?e.findWordAt(s):new xo(nn(s.line,0),cn(e.doc,nn(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),ke(t)}o()}),pe(n.scroller,"touchcancel",o),pe(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Br(e,n.scroller.scrollTop),Hr(e,n.scroller.scrollLeft,!0),me(e,"scroll",e))}),pe(n.scroller,"mousewheel",function(n){return Co(e,n)}),pe(n.scroller,"DOMMouseScroll",function(n){return Co(e,n)}),pe(n.wrapper,"scroll",function(){return n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),n.dragFunctions={enter:function(n){ge(e,n)||Te(n)},over:function(n){ge(e,n)||(function(e,n){var t=ur(e,n);if(t){var r=document.createDocumentFragment();br(e,t,r),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),I(e.display.dragCursor,r)}}(e,n),Te(n))},start:function(n){return function(e,n){if(a&&(!e.state.draggingText||+new Date-Ei<100))Te(n);else if(!ge(e,n)&&!Tt(e.display,n)&&(n.dataTransfer.setData("Text",e.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!p)){var t=A("img",null,null,"position: fixed; left: 0; top: 0;");t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(t.width=t.height=1,e.display.wrapper.appendChild(t),t._top=t.offsetTop),n.dataTransfer.setDragImage(t,0,0),d&&t.parentNode.removeChild(t)}}(e,n)},drop:eo(e,_i),leave:function(n){ge(e,n)||Ri(e)}};var l=n.input.getField();pe(l,"keyup",function(n){return da.call(e,n)}),pe(l,"keydown",eo(e,ua)),pe(l,"keypress",eo(e,pa)),pe(l,"focus",function(n){return Sr(e,n)}),pe(l,"blur",function(n){return Lr(e,n)})}(this),Wi(),Kr(this),this.curOp.forceUpdate=!0,Bo(this,r),n.autofocus&&!v||this.hasFocus()?setTimeout(B(Sr,this),20):Lr(this),xa)xa.hasOwnProperty(c)&&xa[c](t,n[c],Ca);ho(this),n.finishInit&&n.finishInit(this);for(var u=0;u<Ia.length;++u)Ia[u](t);Yr(this),l&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}Oa.defaults=Ta,Oa.optionHandlers=xa;var Ia=[];function Aa(e,n,t,r){var o,i=e.doc;null==t&&(t="add"),"smart"==t&&(i.mode.indent?o=mn(e,n).state:t="prev");var a=e.options.tabSize,s=Ke(i,n),l=H(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==t&&((c=i.mode.indent(o,s.text.slice(u.length),s.text))==j||c>150)){if(!r)return;t="prev"}}else c=0,t="not";"prev"==t?c=n>i.first?H(Ke(i,n-1).text,null,a):0:"add"==t?c=l+e.options.indentUnit:"subtract"==t?c=l-e.options.indentUnit:"number"==typeof t&&(c=l+t),c=Math.max(0,c);var d="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)p+=a,d+="\t";if(p<c&&(d+=Y(c-p)),d!=u)return mi(i,d,nn(n,0),nn(n,u.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<i.sel.ranges.length;f++){var m=i.sel.ranges[f];if(m.head.line==n&&m.head.ch<u.length){var g=nn(n,u.length);$o(i,f,new xo(g,g));break}}}Oa.defineInitHook=function(e){return Ia.push(e)};var Ma=null;function Na(e){Ma=e}function Ea(e,n,t,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,s="paste"==o||e.state.pasteIncoming>a,l=Ee(n),c=null;if(s&&r.ranges.length>1)if(Ma&&Ma.text.join("\n")==n){if(r.ranges.length%Ma.text.length==0){c=[];for(var u=0;u<Ma.text.length;u++)c.push(i.splitLines(Ma.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=Q(l,function(e){return[e]}));for(var d=e.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var h=r.ranges[p],f=h.from(),m=h.to();h.empty()&&(t&&t>0?f=nn(f.line,f.ch-t):e.state.overwrite&&!s?m=nn(m.line,Math.min(Ke(i,m.line).text.length,m.ch+X(l).length)):s&&Ma&&Ma.lineWise&&Ma.text.join("\n")==n&&(f=m=nn(f.line,0)));var g={from:f,to:m,text:c?c[p%c.length]:l,origin:o||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};ui(e.doc,g),ct(e,"inputRead",e,g)}n&&!s&&Ra(e,n),Er(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function _a(e,n){var t=e.clipboardData&&e.clipboardData.getData("Text");if(t)return e.preventDefault(),n.isReadOnly()||n.options.disableInput||Zr(n,function(){return Ea(n,t,0,null,"paste")}),!0}function Ra(e,n){if(e.options.electricChars&&e.options.smartIndent)for(var t=e.doc.sel,r=t.ranges.length-1;r>=0;r--){var o=t.ranges[r];if(!(o.head.ch>100||r&&t.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(n.indexOf(i.electricChars.charAt(s))>-1){a=Aa(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Ke(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Aa(e,o.head.line,"smart"));a&&ct(e,"electricInput",e,o.head.line)}}}function Pa(e){for(var n=[],t=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:nn(o,0),head:nn(o+1,0)};t.push(i),n.push(e.getRange(i.anchor,i.head))}return{text:n,ranges:t}}function Ba(e,n,t,r){e.setAttribute("autocorrect",t?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!n)}function Wa(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),n=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ba(e),n}function Ha(e,n,t,r,o){var i=n,a=t,s=Ke(e,n.line);function l(r){var i,a;if(null==(i=o?function(e,n,t,r){var o=ue(n,e.doc.direction);if(!o)return Zi(n,t,r);t.ch>=n.text.length?(t.ch=n.text.length,t.sticky="before"):t.ch<=0&&(t.ch=0,t.sticky="after");var i=le(o,t.ch,t.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>t.ch:a.from<t.ch))return Zi(n,t,r);var s,l=function(e,t){return Ji(n,e instanceof nn?e.ch:e,t)},c=function(t){return e.options.lineWrapping?(s=s||_t(e,n),Zt(e,n,s,t)):{begin:0,end:n.text.length}},u=c("before"==t.sticky?l(t,-1):t.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,p=l(t,d?1:-1);if(null!=p&&(d?p<=a.to&&p<=u.end:p>=a.from&&p>=u.begin)){var h=d?"before":"after";return new nn(t.line,p,h)}}var f=function(e,n,r){for(var i=function(e,n){return n?new nn(t.line,l(e,1),"before"):new nn(t.line,e,"after")};e>=0&&e<o.length;e+=n){var a=o[e],s=n>0==(1!=a.level),c=s?r.begin:l(r.end,-1);if(a.from<=c&&c<a.to)return i(c,s);if(c=s?a.from:l(a.to,-1),r.begin<=c&&c<r.end)return i(c,s)}},m=f(i+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==n.text.length||!(m=f(r>0?0:o.length-1,r,c(g)))?null:m}(e.cm,s,n,t):Zi(s,n,t))){if(r||(a=n.line+t)<e.first||a>=e.first+e.size||(n=new nn(a,n.ch,n.sticky),!(s=Ke(e,a))))return!1;n=ea(o,e.cm,s,n.line,t)}else n=i;return!0}if("char"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var c=null,u="group"==r,d=e.cm&&e.cm.getHelper(n,"wordChars"),p=!0;!(t<0)||l(!p);p=!1){var h=s.text.charAt(n.ch)||"\n",f=ne(h,d)?"w":u&&"\n"==h?"n":!u||/\s/.test(h)?null:"p";if(!u||p||f||(f="s"),c&&c!=f){t<0&&(t=1,l(),n.sticky="after");break}if(f&&(c=f),t>0&&!l(!p))break}var m=ai(e,n,i,a,!0);return rn(i,m)&&(m.hitSide=!0),m}function Da(e,n,t,r){var o,i,a=e.doc,s=n.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*or(e.display),3);o=(t>0?n.bottom:n.top)+t*c}else"line"==r&&(o=t>0?n.bottom+3:n.top-3);for(;(i=$t(e,s,o)).outside;){if(t<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*t}return i}var Fa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new D,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ua(e,n){var t=Et(e,n.line);if(!t||t.hidden)return null;var r=Ke(e.doc,n.line),o=Mt(t,r,n.line),i=ue(r,e.doc.direction),a="left";i&&(a=le(i,n.ch)%2?"right":"left");var s=Wt(o.map,n.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function ja(e,n){return n&&(e.bad=!0),e}function za(e,n,t){var r;if(n==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[t]))return ja(e.clipPos(nn(e.display.viewTo-1)),!0);n=null,t=0}else for(r=n;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return Ga(i,n,t)}}function Ga(e,n,t){var r=e.text.firstChild,o=!1;if(!n||!N(r,n))return ja(nn($e(e.line),0),!0);if(n==r&&(o=!0,n=r.childNodes[t],t=0,!n)){var i=e.rest?X(e.rest):e.line;return ja(nn($e(i),i.text.length),o)}var a=3==n.nodeType?n:null,s=n;for(a||1!=n.childNodes.length||3!=n.firstChild.nodeType||(a=n.firstChild,t&&(t=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,c=l.maps;function u(n,t,r){for(var o=-1;o<(c?c.length:0);o++)for(var i=o<0?l.map:c[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==n||s==t){var u=$e(o<0?e.line:e.rest[o]),d=i[a]+r;return(r<0||s!=n)&&(d=i[a+(r?1:0)]),nn(u,d)}}}var d=u(a,s,t);if(d)return ja(d,o);for(var p=s.nextSibling,h=a?a.nodeValue.length-t:0;p;p=p.nextSibling){if(d=u(p,p.firstChild,0))return ja(nn(d.line,d.ch-h),o);h+=p.textContent.length}for(var f=s.previousSibling,m=t;f;f=f.previousSibling){if(d=u(f,f.firstChild,-1))return ja(nn(d.line,d.ch+m),o);m+=f.textContent.length}}Fa.prototype.init=function(e){var n=this,t=this,r=t.cm,o=t.div=e.lineDiv;function i(e){if(!ge(r,e)){if(r.somethingSelected())Na({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var n=Pa(r);Na({lineWise:!0,text:n.text}),"cut"==e.type&&r.operation(function(){r.setSelections(n.ranges,0,z),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var i=Ma.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var a=Wa(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Ma.text.join("\n");var l=document.activeElement;P(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==o&&t.showPrimarySelection()},50)}}Ba(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(o,"paste",function(e){ge(r,e)||_a(e,r)||s<=11&&setTimeout(eo(r,function(){return n.updateFromDOM()}),20)}),pe(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),pe(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),pe(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),pe(o,"touchstart",function(){return t.forceCompositionEnd()}),pe(o,"input",function(){n.composing||n.readFromDOMSoon()}),pe(o,"copy",i),pe(o,"cut",i)},Fa.prototype.prepareSelection=function(){var e=yr(this.cm,!1);return e.focus=this.cm.state.focused,e},Fa.prototype.showSelection=function(e,n){e&&this.cm.display.view.length&&((e.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Fa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Fa.prototype.showPrimarySelection=function(){var e=this.getSelection(),n=this.cm,r=n.doc.sel.primary(),o=r.from(),i=r.to();if(n.display.viewTo==n.display.viewFrom||o.line>=n.display.viewTo||i.line<n.display.viewFrom)e.removeAllRanges();else{var a=za(n,e.anchorNode,e.anchorOffset),s=za(n,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=tn(sn(a,s),o)||0!=tn(an(a,s),i)){var l=n.display.view,c=o.line>=n.display.viewFrom&&Ua(n,o)||{node:l[0].measure.map[2],offset:0},u=i.line<n.display.viewTo&&Ua(n,i);if(!u){var d=l[l.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(c&&u){var h,f=e.rangeCount&&e.getRangeAt(0);try{h=S(c.node,c.offset,u.offset,u.node)}catch(e){}h&&(!t&&n.state.focused?(e.collapse(c.node,c.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),f&&null==e.anchorNode?e.addRange(f):t&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Fa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Fa.prototype.showMultipleSelections=function(e){I(this.cm.display.cursorDiv,e.cursors),I(this.cm.display.selectionDiv,e.selection)},Fa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Fa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var n=e.getRangeAt(0).commonAncestorContainer;return N(this.div,n)},Fa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Fa.prototype.blur=function(){this.div.blur()},Fa.prototype.getField=function(){return this.div},Fa.prototype.supportsTouch=function(){return!0},Fa.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Zr(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function n(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,n))})},Fa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Fa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),n=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var n=e;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var t=za(n,e.anchorNode,e.anchorOffset),r=za(n,e.focusNode,e.focusOffset);t&&r&&Zr(n,function(){ei(n.doc,Lo(t,r),z),(t.bad||r.bad)&&(n.curOp.selectionChanged=!0)})}}},Fa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,n,t,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),s=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=nn(a.line-1,Ke(r.doc,a.line-1).length)),s.ch==Ke(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=nn(s.line+1,0)),a.line<o.viewFrom||s.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=dr(r,a.line))?(n=$e(o.view[0].line),t=o.view[0].node):(n=$e(o.view[e].line),t=o.view[e-1].node.nextSibling);var l,c,u=dr(r,s.line);if(u==o.view.length-1?(l=o.viewTo-1,c=o.lineDiv.lastChild):(l=$e(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!t)return!1;for(var d=r.doc.splitLines(function(e,n,t,r,o){var i="",a=!1,s=e.doc.lineSeparator(),l=!1;function c(){a&&(i+=s,l&&(i+=s),a=l=!1)}function u(e){e&&(c(),i+=e)}function d(n){if(1==n.nodeType){var t=n.getAttribute("cm-text");if(t)return void u(t);var i,p=n.getAttribute("cm-marker");if(p){var h=e.findMarks(nn(r,0),nn(o+1,0),(g=+p,function(e){return e.id==g}));return void(h.length&&(i=h[0].find(0))&&u(Ye(e.doc,i.from,i.to).join(s)))}if("false"==n.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(n.nodeName);if(!/^br$/i.test(n.nodeName)&&0==n.textContent.length)return;f&&c();for(var m=0;m<n.childNodes.length;m++)d(n.childNodes[m]);/^(pre|p)$/i.test(n.nodeName)&&(l=!0),f&&(a=!0)}else 3==n.nodeType&&u(n.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(n),n!=t;)n=n.nextSibling,l=!1;return i}(r,t,c,n,l)),p=Ye(r.doc,nn(n,0),nn(l,Ke(r.doc,l).text.length));d.length>1&&p.length>1;)if(X(d)==X(p))d.pop(),p.pop(),l--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),n++}for(var h=0,f=0,m=d[0],g=p[0],v=Math.min(m.length,g.length);h<v&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=X(d),b=X(p),k=Math.min(y.length-(1==d.length?h:0),b.length-(1==p.length?h:0));f<k&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;if(1==d.length&&1==p.length&&n==a.line)for(;h&&h>a.ch&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)h--,f++;d[d.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var w=nn(n,h),C=nn(l,p.length?X(p).length-f:0);return d.length>1||d[0]||tn(w,C)?(mi(r.doc,d,w,C,"+input"),!0):void 0},Fa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Fa.prototype.reset=function(){this.forceCompositionEnd()},Fa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Fa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Fa.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Zr(this.cm,function(){return pr(e.cm)})},Fa.prototype.setUneditable=function(e){e.contentEditable="false"},Fa.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||eo(this.cm,Ea)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Fa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Fa.prototype.onContextMenu=function(){},Fa.prototype.resetPosition=function(){},Fa.prototype.needsContentAttribute=!0;var qa=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new D,this.hasSelection=!1,this.composing=null};qa.prototype.init=function(e){var n=this,t=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!ge(r,e)){if(r.somethingSelected())Na({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var n=Pa(r);Na({lineWise:!0,text:n.text}),"cut"==e.type?r.setSelections(n.ranges,null,z):(t.prevInput="",o.value=n.text.join("\n"),P(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(o.style.width="0px"),pe(o,"input",function(){a&&s>=9&&n.hasSelection&&(n.hasSelection=null),t.poll()}),pe(o,"paste",function(e){ge(r,e)||_a(e,r)||(r.state.pasteIncoming=+new Date,t.fastPoll())}),pe(o,"cut",i),pe(o,"copy",i),pe(e.scroller,"paste",function(n){if(!Tt(e,n)&&!ge(r,n)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void t.focus();var i=new Event("paste");i.clipboardData=n.clipboardData,o.dispatchEvent(i)}}),pe(e.lineSpace,"selectstart",function(n){Tt(e,n)||ke(n)}),pe(o,"compositionstart",function(){var e=r.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),pe(o,"compositionend",function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})},qa.prototype.createField=function(e){this.wrapper=Wa(),this.textarea=this.wrapper.firstChild},qa.prototype.prepareSelection=function(){var e=this.cm,n=e.display,t=e.doc,r=yr(e);if(e.options.moveInputWithCursor){var o=Yt(e,t.sel.primary().head,"div"),i=n.wrapper.getBoundingClientRect(),a=n.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},qa.prototype.showSelection=function(e){var n=this.cm.display;I(n.cursorDiv,e.cursors),I(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qa.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var n=this.cm;if(n.somethingSelected()){this.prevInput="";var t=n.getSelection();this.textarea.value=t,n.state.focused&&P(this.textarea),a&&s>=9&&(this.hasSelection=t)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},qa.prototype.getField=function(){return this.textarea},qa.prototype.supportsTouch=function(){return!1},qa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||E()!=this.textarea))try{this.textarea.focus()}catch(e){}},qa.prototype.blur=function(){this.textarea.blur()},qa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qa.prototype.receivedFocus=function(){this.slowPoll()},qa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},qa.prototype.fastPoll=function(){var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,function t(){n.poll()||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))})},qa.prototype.poll=function(){var e=this,n=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!n.state.focused||_e(t)&&!r&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var o=t.value;if(o==r&&!n.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,o.length);l<c&&r.charCodeAt(l)==o.charCodeAt(l);)++l;return Zr(n,function(){Ea(n,o.slice(l),r.length-l,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?t.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=n.markText(e.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},qa.prototype.onContextMenu=function(e){var n=this,t=n.cm,r=t.display,o=n.textarea;n.contextMenuPending&&n.contextMenuPending();var i=ur(t,e),c=r.scroller.scrollTop;if(i&&!d){t.options.resetSelectionOnContextMenu&&-1==t.doc.sel.contains(i)&&eo(t,ei)(t.doc,Lo(i),z);var u,p=o.style.cssText,h=n.wrapper.style.cssText,f=n.wrapper.offsetParent.getBoundingClientRect();if(n.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),r.input.focus(),l&&window.scrollTo(null,u),r.input.reset(),t.somethingSelected()||(o.value=n.prevInput=" "),n.contextMenuPending=v,r.selForContextMenu=t.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&g(),T){Te(e);var m=function(){fe(window,"mouseup",m),setTimeout(v,20)};pe(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=o.selectionStart){var e=t.somethingSelected(),i="​"+(e?o.value:"");o.value="⇚",o.value=i,n.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=t.doc.sel}}function v(){if(n.contextMenuPending==v&&(n.contextMenuPending=!1,n.wrapper.style.cssText=h,o.style.cssText=p,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=o.selectionStart)){(!a||a&&s<9)&&g();var e=0,i=function(){r.selForContextMenu==t.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==n.prevInput?eo(t,li)(t):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},qa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},qa.prototype.setUneditable=function(){},qa.prototype.needsContentAttribute=!1,function(e){var n=e.optionHandlers;function t(t,r,o,i){e.defaults[t]=r,o&&(n[t]=i?function(e,n,t){t!=Ca&&o(e,n,t)}:o)}e.defineOption=t,e.Init=Ca,t("value","",function(e,n){return e.setValue(n)},!0),t("mode",null,function(e,n){e.doc.modeOption=n,No(e)},!0),t("indentUnit",2,No,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Eo(e),Ut(e),pr(e)},!0),t("lineSeparator",null,function(e,n){if(e.doc.lineSep=n,n){var t=[],r=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var i=e.text.indexOf(n,o);if(-1==i)break;o=i+n.length,t.push(nn(r,i))}r++});for(var o=t.length-1;o>=0;o--)mi(e.doc,n,t[o],nn(t[o].line,t[o].ch+n.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,n,t){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),t!=Ca&&e.refresh()}),t("specialCharPlaceholder",et,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,n){return e.getInputField().spellcheck=n},!0),t("autocorrect",!1,function(e,n){return e.getInputField().autocorrect=n},!0),t("autocapitalize",!1,function(e,n){return e.getInputField().autocapitalize=n},!0),t("rtlMoveVisually",!k),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){wa(e),go(e)},!0),t("keyMap","default",function(e,n,t){var r=Qi(n),o=t!=Ca&&Qi(t);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,La,!0),t("gutters",[],function(e,n){e.display.gutterSpecs=fo(n,e.options.lineNumbers),go(e)},!0),t("fixedGutter",!0,function(e,n){e.display.gutters.style.left=n?sr(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return jr(e)},!0),t("scrollbarStyle","native",function(e){qr(e),jr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e,n){e.display.gutterSpecs=fo(e.options.gutters,n),go(e)},!0),t("firstLineNumber",1,go,!0),t("lineNumberFormatter",function(e){return e},go,!0),t("showCursorWhenSelecting",!1,vr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,n){"nocursor"==n&&(Lr(e),e.display.input.blur()),e.display.input.readOnlyChanged(n)}),t("disableInput",!1,function(e,n){n||e.display.input.reset()},!0),t("dragDrop",!0,Sa),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,vr,!0),t("singleCursorHeightPerLine",!0,vr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Eo,!0),t("addModeClass",!1,Eo,!0),t("pollInterval",100),t("undoDepth",200,function(e,n){return e.doc.history.undoDepth=n}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Eo,!0),t("moveInputWithCursor",!0,function(e,n){n||e.display.input.resetPosition()}),t("tabindex",null,function(e,n){return e.display.input.getField().tabIndex=n||""}),t("autofocus",null),t("direction","ltr",function(e,n){return e.doc.setDirection(n)},!0),t("phrases",null)}(Oa),function(e){var n=e.optionHandlers,t=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,o=r[e];r[e]==t&&"mode"!=e||(r[e]=t,n.hasOwnProperty(e)&&eo(this,n[e])(this,t,o),me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,n){this.state.keyMaps[n?"push":"unshift"](Qi(e))},removeKeyMap:function(e){for(var n=this.state.keyMaps,t=0;t<n.length;++t)if(n[t]==e||n[t].name==e)return n.splice(t,1),!0},addOverlay:no(function(n,t){var r=n.token?n:e.getMode(this.options,n);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,n,t){for(var r=0,o=t(n);r<e.length&&t(e[r])<=o;)r++;e.splice(r,0,n)}(this.state.overlays,{mode:r,modeSpec:n,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,pr(this)}),removeOverlay:no(function(e){for(var n=this.state.overlays,t=0;t<n.length;++t){var r=n[t].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return n.splice(t,1),this.state.modeGen++,void pr(this)}}),indentLine:no(function(e,n,t){"string"!=typeof n&&"number"!=typeof n&&(n=null==n?this.options.smartIndent?"smart":"prev":n?"add":"subtract"),Ze(this.doc,e)&&Aa(this,e,n,t)}),indentSelection:no(function(e){for(var n=this.doc.sel.ranges,t=-1,r=0;r<n.length;r++){var o=n[r];if(o.empty())o.head.line>t&&(Aa(this,o.head.line,e,!0),t=o.head.line,r==this.doc.sel.primIndex&&Er(this));else{var i=o.from(),a=o.to(),s=Math.max(t,i.line);t=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<t;++l)Aa(this,l,e);var c=this.doc.sel.ranges;0==i.ch&&n.length==c.length&&c[r].from().ch>0&&$o(this.doc,r,new xo(i,c[r].to()),z)}}}),getTokenAt:function(e,n){return kn(this,e,n)},getLineTokens:function(e,n){return kn(this,nn(e),n,!0)},getTokenTypeAt:function(e){e=cn(this.doc,e);var n,t=fn(this,Ke(this.doc,e.line)),r=0,o=(t.length-1)/2,i=e.ch;if(0==i)n=t[2];else for(;;){var a=r+o>>1;if((a?t[2*a-1]:0)>=i)o=a;else{if(!(t[2*a+1]<i)){n=t[2*a+2];break}r=a+1}}var s=n?n.indexOf("overlay "):-1;return s<0?n:0==s?null:n.slice(0,s-1)},getModeAt:function(n){var t=this.doc.mode;return t.innerMode?e.innerMode(t,this.getTokenAt(n).state).mode:t},getHelper:function(e,n){return this.getHelpers(e,n)[0]},getHelpers:function(e,n){var r=[];if(!t.hasOwnProperty(n))return r;var o=t[n],i=this.getModeAt(e);if("string"==typeof i[n])o[i[n]]&&r.push(o[i[n]]);else if(i[n])for(var a=0;a<i[n].length;a++){var s=o[i[n][a]];s&&r.push(s)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var l=0;l<o._global.length;l++){var c=o._global[l];c.pred(i,this)&&-1==F(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,n){var t=this.doc;return mn(this,(e=ln(t,null==e?t.first+t.size-1:e))+1,n).state},cursorCoords:function(e,n){var t=this.doc.sel.primary();return Yt(this,null==e?t.head:"object"==typeof e?cn(this.doc,e):e?t.from():t.to(),n||"page")},charCoords:function(e,n){return Kt(this,cn(this.doc,e),n||"page")},coordsChar:function(e,n){return $t(this,(e=Vt(this,e,n||"page")).left,e.top)},lineAtHeight:function(e,n){return e=Vt(this,{top:e,left:0},n||"page").top,Je(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,n,t){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=Ke(this.doc,e)}else r=e;return qt(this,r,{top:0,left:0},n||"page",t||o).top+(o?this.doc.height-qn(r):0)},defaultTextHeight:function(){return or(this.display)},defaultCharWidth:function(){return ir(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,n,t,r,o){var i,a,s,l=this.display,c=(e=Yt(this,cn(this.doc,e))).bottom,u=e.left;if(n.style.position="absolute",n.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(n),l.sizer.appendChild(n),"over"==r)c=e.top;else if("above"==r||"near"==r){var d=Math.max(l.wrapper.clientHeight,this.doc.height),p=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+n.offsetHeight>d)&&e.top>n.offsetHeight?c=e.top-n.offsetHeight:e.bottom+n.offsetHeight<=d&&(c=e.bottom),u+n.offsetWidth>p&&(u=p-n.offsetWidth)}n.style.top=c+"px",n.style.left=n.style.right="","right"==o?(u=l.sizer.clientWidth-n.offsetWidth,n.style.right="0px"):("left"==o?u=0:"middle"==o&&(u=(l.sizer.clientWidth-n.offsetWidth)/2),n.style.left=u+"px"),t&&(i=this,a={left:u,top:c,right:u+n.offsetWidth,bottom:c+n.offsetHeight},null!=(s=Mr(i,a)).scrollTop&&Br(i,s.scrollTop),null!=s.scrollLeft&&Hr(i,s.scrollLeft))},triggerOnKeyDown:no(ua),triggerOnKeyPress:no(pa),triggerOnKeyUp:da,triggerOnMouseDown:no(ga),execCommand:function(e){if(na.hasOwnProperty(e))return na[e].call(null,this)},triggerElectric:no(function(e){Ra(this,e)}),findPosH:function(e,n,t,r){var o=1;n<0&&(o=-1,n=-n);for(var i=cn(this.doc,e),a=0;a<n&&!(i=Ha(this.doc,i,o,t,r)).hitSide;++a);return i},moveH:no(function(e,n){var t=this;this.extendSelectionsBy(function(r){return t.display.shift||t.doc.extend||r.empty()?Ha(t.doc,r.head,e,n,t.options.rtlMoveVisually):e<0?r.from():r.to()},q)}),deleteH:no(function(e,n){var t=this.doc.sel,r=this.doc;t.somethingSelected()?r.replaceSelection("",null,"+delete"):$i(this,function(t){var o=Ha(r,t.head,e,n,!1);return e<0?{from:o,to:t.head}:{from:t.head,to:o}})}),findPosV:function(e,n,t,r){var o=1,i=r;n<0&&(o=-1,n=-n);for(var a=cn(this.doc,e),s=0;s<n;++s){var l=Yt(this,a,"div");if(null==i?i=l.left:l.left=i,(a=Da(this,l,o,t)).hitSide)break}return a},moveV:no(function(e,n){var t=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(i)return e<0?a.from():a.to();var s=Yt(t,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var l=Da(t,s,e,n);return"page"==n&&a==r.sel.primary()&&Nr(t,Kt(t,l,"div").top-s.top),l},q),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]}),findWordAt:function(e){var n=Ke(this.doc,e.line).text,t=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=n.length||!t?++r:--t;for(var i=n.charAt(t),a=ne(i,o)?function(e){return ne(e,o)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};t>0&&a(n.charAt(t-1));)--t;for(;r<n.length&&a(n.charAt(r));)++r}return new xo(nn(e.line,t),nn(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?_(this.display.cursorDiv,"CodeMirror-overwrite"):L(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:no(function(e,n){_r(this,e,n)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ot(this)-this.display.barHeight,width:e.scrollWidth-Ot(this)-this.display.barWidth,clientHeight:At(this),clientWidth:It(this)}},scrollIntoView:no(function(e,n){null==e?(e={from:this.doc.sel.primary().head,to:null},null==n&&(n=this.options.cursorScrollMargin)):"number"==typeof e?e={from:nn(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=n||0,null!=e.from.line?function(e,n){Rr(e),e.curOp.scrollToPos=n}(this,e):Pr(this,e.from,e.to,e.margin)}),setSize:no(function(e,n){var t=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=n&&(this.display.wrapper.style.height=r(n)),this.options.lineWrapping&&Ft(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var n=0;n<e.widgets.length;n++)if(e.widgets[n].noHScroll){hr(t,o,"widget");break}++o}),this.curOp.forceUpdate=!0,me(this,"refresh",this)}),operation:function(e){return Zr(this,e)},startOperation:function(){return Kr(this)},endOperation:function(){return Yr(this)},refresh:no(function(){var e=this.display.cachedTextHeight;pr(this),this.curOp.forceUpdate=!0,Ut(this),_r(this,this.doc.scrollLeft,this.doc.scrollTop),co(this.display),(null==e||Math.abs(e-or(this.display))>.5)&&cr(this),me(this,"refresh",this)}),swapDoc:no(function(e){var n=this.doc;return n.cm=null,this.state.selectingText&&this.state.selectingText(),Bo(this,e),Ut(this),this.display.input.reset(),_r(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ct(this,"swapDoc",this,n),n}),phrase:function(e){var n=this.options.phrases;return n&&Object.prototype.hasOwnProperty.call(n,e)?n[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},be(e),e.registerHelper=function(n,r,o){t.hasOwnProperty(n)||(t[n]=e[n]={_global:[]}),t[n][r]=o},e.registerGlobalHelper=function(n,r,o,i){e.registerHelper(n,r,i),t[n]._global.push({pred:o,val:i})}}(Oa);var Va="iter insert remove copy getEditor constructor".split(" ");for(var Ka in Ni.prototype)Ni.prototype.hasOwnProperty(Ka)&&F(Va,Ka)<0&&(Oa.prototype[Ka]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ni.prototype[Ka]));return be(Ni),Oa.inputStyles={textarea:qa,contenteditable:Fa},Oa.defineMode=function(e){Oa.defaults.mode||"null"==e||(Oa.defaults.mode=e),He.apply(this,arguments)},Oa.defineMIME=function(e,n){We[e]=n},Oa.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Oa.defineMIME("text/plain","null"),Oa.defineExtension=function(e,n){Oa.prototype[e]=n},Oa.defineDocExtension=function(e,n){Ni.prototype[e]=n},Oa.fromTextArea=function(e,n){if((n=n?W(n):{}).value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var t=E();n.autofocus=t==e||null!=e.getAttribute("autofocus")&&t==document.body}function r(){e.value=s.getValue()}var o;if(e.form&&(pe(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(e){}}n.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(fe(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var s=Oa(function(n){return e.parentNode.insertBefore(n,e.nextSibling)},n);return s},function(e){e.off=fe,e.on=pe,e.wheelEventPixels=wo,e.Doc=Ni,e.splitLines=Ee,e.countColumn=H,e.findColumn=V,e.isWordChar=ee,e.Pass=j,e.signal=me,e.Line=Yn,e.changeEnd=Oo,e.scrollbarModel=Gr,e.Pos=nn,e.cmpPos=tn,e.modes=Be,e.mimeModes=We,e.resolveMode=De,e.getMode=Fe,e.modeExtensions=Ue,e.extendMode=je,e.copyState=ze,e.startState=qe,e.innerMode=Ge,e.commands=na,e.keyMap=zi,e.keyName=Xi,e.isModifierKey=Ki,e.lookupKey=Vi,e.normalizeKeyMap=qi,e.StringStream=Ve,e.SharedTextMarker=Oi,e.TextMarker=Si,e.LineWidget=Ci,e.e_preventDefault=ke,e.e_stopPropagation=we,e.e_stop=Te,e.addClass=_,e.contains=N,e.rmClass=L,e.keyNames=Di}(Oa),Oa.version="5.48.4",Oa}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1);n.getInlineDescendants=function(e){return r.concat(e.map(function(e){return[e].concat(e.inlineDescendants())}))}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(6),a=t(5),s=t(0),l=t(1),c=t(13),u=function(){function e(e,n,t,r){this.header=e,this.rows=n,this.caption=t,this.sourceLineNumber=void 0,r&&(this.sourceLineNumber=r.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){var e=l.concat([this.caption?[this.caption]:[],this.header.cells].concat(this.rows.map(function(e){return e.allCellsStartingWithHeaderColumnCell})));return l.concat(e.map(function(e){return c.getInlineDescendants(e.children)}))},e.prototype.render=function(e){return e.table(this)},e}();n.Table=u,function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.TABLE_CAPTION=function(){},n}(i.InlineSyntaxNodeContainer);e.Caption=n;var t=function(e){function n(n,t){void 0===t&&(t=1);var r=e.call(this,n)||this;return r.countColumnsSpanned=t,r}return o(n,e),n.prototype.isNumeric=function(){var e=this.children.map(function(e){return e.textAppearingInline()}).join("");return r.test(e)&&!l.test(e)},n}(i.InlineSyntaxNodeContainer);e.Cell=t;var r=new RegExp(a.DIGIT),l=new RegExp(s.anyCharMatching(a.LETTER_CLASS,"_",a.WHITESPACE_CHAR)),c=function(e){this.cells=e};e.Header=c,function(n){var t=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.TABLE_HEADER_CELL=function(){},n}(e.Cell);n.Cell=t}(c=e.Header||(e.Header={}));var u=function(){function e(e,n){this.cells=e,this.headerColumnCell=n}return Object.defineProperty(e.prototype,"allCellsStartingWithHeaderColumnCell",{get:function(){var e=this.cells.slice();return this.headerColumnCell&&e.unshift(this.headerColumnCell),e},enumerable:!0,configurable:!0}),e}();e.Row=u,function(n){var t=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.TABLE_ROW_CELL=function(){},n}(e.Cell);n.Cell=t}(u=e.Row||(e.Row={}))}(u=n.Table||(n.Table={})),n.Table=u},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.sourceLineNumber=void 0,e&&(this.sourceLineNumber=e.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.thematicBreak(this)},e.prototype.THEMATIC_BREAK=function(){},e}();n.ThematicBreak=r},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(n,t,r){var o=e.call(this,n)||this;return o.url=t,o.sourceLineNumber=void 0,r&&(o.sourceLineNumber=r.sourceLineNumber),o}return o(n,e),n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.render=function(e){return e.link(this)},n}(t(4).RichInlineSyntaxNode);n.Link=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BACKSLASH="\\"},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(2);n.getIndentedBlock=function(e){for(var n=new r.LineConsumer(e),t=[],i=0;!n.done;){var a=n.consumeLineIfMatches(o.BLANK_PATTERN);if(a)t.push(a.line);else{var s=n.consumeLineIfMatches(o.INDENTED_PATTERN);if(!s)break;t.push(s.line),i=t.length}}if(!t.length)return null;var l=t.length-i>=2,c=l?i:t.length;return{lines:t.slice(0,i).map(function(e){return e.replace(o.INDENTED_PATTERN,"")}),countLinesConsumed:c,hasMultipleTrailingBlankLines:l}}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(7),a=t(20),s=t(21),l=t(74),c=t(1),u=function(e){function n(t,r){void 0===r&&(r=new n.TableOfContents);var o=e.call(this,t)||this;return o.tableOfContents=r,o}return o(n,e),n.create=function(e){var t=n.TableOfContents.createThenAssociateSectionLinksWithEntries(e),r=new n(e,t);return l.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers(r),r},n}(i.OutlineSyntaxNodeContainer);n.Document=u,function(e){var n=function(){function e(e){void 0===e&&(e=[]),this.entries=e}return e.createThenAssociateSectionLinksWithEntries=function(n){for(var t=e.getEntries(n),r=0;r<t.length;r++)t[r].ordinalInTableOfContents=r+1;for(var o=new e(t),i=0,a=c.concat(n.map(function(e){return e.inlineDescendants()}));i<a.length;i++){var l=a[i];l instanceof s.SectionLink&&l.referenceMostAppropriateTableOfContentsEntry(o)}return o},e.getEntries=function(e){return c.concat(e.map(function(e){return e instanceof a.Heading?[e]:e.descendantsToIncludeInTableOfContents()}))},e}();e.TableOfContents=n}(u=n.Document||(n.Document={})),n.Document=u},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(n,t){var r=e.call(this,n)||this;return r.ordinalInTableOfContents=void 0,r.sourceLineNumber=void 0,r.level=t.level,r.titleMarkup=t.titleMarkup,r.ordinalInTableOfContents=t.ordinalInTableOfContents,r.sourceLineNumber=t.sourceLineNumber,r}return o(n,e),n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.render=function(e){return e.heading(this)},n}(t(6).InlineSyntaxNodeContainer);n.Heading=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(37),o=t(38),i=t(13),a=function(){function e(e,n){this.markupSnippetFromSectionTitle=e,this.entry=n}return e.prototype.referenceMostAppropriateTableOfContentsEntry=function(e){if(this.markupSnippetFromSectionTitle)for(var n=0,t=e.entries;n<t.length;n++){var o=t[n];if(this.canMatch(o)){var i=o.titleMarkup,a=this.markupSnippetFromSectionTitle;if(r.isEqualIgnoringCapitalization(i,a))return void(this.entry=o);this.entry||r.containsStringIgnoringCapitalization({haystack:i,needle:a})&&(this.entry=o)}}},e.prototype.textAppearingInline=function(){return this.entry?o.getTextAppearingInline(this.entry.children):this.markupSnippetFromSectionTitle},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.sectionLink(this)},e.prototype.canMatch=function(e){return-1===i.getInlineDescendants(e.children).indexOf(this)},e}();n.SectionLink=a},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(6),a=t(7),s=t(1),l=function(){function e(e,n){this.items=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return s.concat(this.items.map(function(e){return e.descendantsToIncludeInTableOfContents()}))},e.prototype.inlineDescendants=function(){return s.concat(this.items.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.descriptionList(this)},e}();n.DescriptionList=l,function(e){var n=function(){function e(e,n){this.subjects=e,this.description=n}return e.prototype.descendantsToIncludeInTableOfContents=function(){return this.description.descendantsToIncludeInTableOfContents()},e.prototype.inlineDescendants=function(){return s.concat(this.subjects.concat([this.description]).map(function(e){return e.inlineDescendants()}))},e}();e.Item=n,function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.DESCRIPTION_LIST_ITEM_SUBJECT=function(){},n}(i.InlineSyntaxNodeContainer);e.Subject=n;var t=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.DESCRIPTION_LIST_ITEM_DESCRIPTION=function(){},n}(a.OutlineSyntaxNodeContainer);e.Description=t}(n=e.Item||(e.Item={}))}(l=n.DescriptionList||(n.DescriptionList={})),n.DescriptionList=l},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(n,t){var r=e.call(this,n)||this;return t&&(r.referenceNumber=t.referenceNumber),r}return o(n,e),n.prototype.textAppearingInline=function(){return""},n.prototype.render=function(e){return e.referenceToFootnote(this)},n}(t(4).RichInlineSyntaxNode);n.Footnote=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.revealableBlock(this)},n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.REVEALABLE_BLOCK=function(){},n}(t(25).RichOutlineSyntaxNode);n.RevealableBlock=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(n,t){var r=e.call(this,n)||this;return r.sourceLineNumber=void 0,t&&(r.sourceLineNumber=t.sourceLineNumber),r}return o(n,e),n}(t(7).OutlineSyntaxNodeContainer);n.RichOutlineSyntaxNode=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(6),a=t(1),s=function(){function e(e,n){this.lines=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return a.concat(this.lines.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.lineBlock(this)},e}();n.LineBlock=s,function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.LINE_BLOCK_LINE=function(){},n}(i.InlineSyntaxNodeContainer);e.Line=n}(s=n.LineBlock||(n.LineBlock={})),n.LineBlock=s},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(7),a=t(1),s=function(){function e(e,n){this.items=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.start=function(){return this.items[0].ordinal},e.prototype.order=function(){var n=this.items.filter(function(e){return null!=e.ordinal}).map(function(e){return e.ordinal}),t=n[0],r=n[1];return null!=t&&null!=r&&t>r?e.Order.Descending:e.Order.Ascending},e.prototype.descendantsToIncludeInTableOfContents=function(){return a.concat(this.items.map(function(e){return e.descendantsToIncludeInTableOfContents()}))},e.prototype.inlineDescendants=function(){return a.concat(this.items.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.numberedList(this)},e}();n.NumberedList=s,function(e){var n=function(e){function n(n,t){var r=e.call(this,n)||this;return r.children=n,r.ordinal=void 0,t&&(r.ordinal=t.ordinal),r}return o(n,e),n.prototype.NUMBERED_LIST_ITEM=function(){},n}(i.OutlineSyntaxNodeContainer);e.Item=n,function(e){e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(e.Order||(e.Order={}))}(s=n.NumberedList||(n.NumberedList={})),n.NumberedList=s},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(7),a=t(1),s=function(){function e(e,n){this.items=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return a.concat(this.items.map(function(e){return e.descendantsToIncludeInTableOfContents()}))},e.prototype.inlineDescendants=function(){return a.concat(this.items.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.bulletedList(this)},e}();n.BulletedList=s,function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.BULLETED_LIST_ITEM=function(){},n}(i.OutlineSyntaxNodeContainer);e.Item=n}(s=n.BulletedList||(n.BulletedList={})),n.BulletedList=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=function(){function e(){this.headingSignatures=[]}return e.prototype.registerHeadingAndGetLevel=function(e,n){var t=i(e)+(n?"with overline":"");return this.headingSignatures.indexOf(t)>=0||this.headingSignatures.push(t),this.getLevel(t)},e.prototype.getLevel=function(e){return this.headingSignatures.indexOf(e)+1},e}();function i(e){var n=e.trim().split("");return r.distinct.apply(void 0,n).sort().join("")}n.HeadingLeveler=o,n.isUnderlineConsistentWithOverline=function(e,n){return!e||i(e)===i(n)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(41),o=t(42),i=t(43),a=t(44),s=t(45),l=t(31),c=t(46),u=t(23),d=t(47),p=t(48),h=t(16),f=t(10);n.EMPHASIS={SyntaxNodeType:r.Emphasis,startTokenRole:f.TokenRole.EmphasisStart,endTokenRole:f.TokenRole.EmphasisEnd},n.STRESS={SyntaxNodeType:o.Stress,startTokenRole:f.TokenRole.StressStart,endTokenRole:f.TokenRole.StressEnd},n.ITALIC={SyntaxNodeType:i.Italic,startTokenRole:f.TokenRole.ItalicStart,endTokenRole:f.TokenRole.ItalicEnd},n.BOLD={SyntaxNodeType:a.Bold,startTokenRole:f.TokenRole.BoldStart,endTokenRole:f.TokenRole.BoldEnd},n.HIGHLIGHT={SyntaxNodeType:s.Highlight,startTokenRole:f.TokenRole.HighlightStart,endTokenRole:f.TokenRole.HighlightEnd},n.INLINE_QUOTE={SyntaxNodeType:c.InlineQuote,startTokenRole:f.TokenRole.InlineQuoteStart,endTokenRole:f.TokenRole.InlineQuoteEnd},n.FOOTNOTE={SyntaxNodeType:u.Footnote,startTokenRole:f.TokenRole.FootnoteStart,endTokenRole:f.TokenRole.FootnoteEnd},n.NORMAL_PARENTHETICAL={SyntaxNodeType:p.NormalParenthetical,startTokenRole:f.TokenRole.NormalParentheticalStart,endTokenRole:f.TokenRole.NormalParentheticalEnd},n.SQUARE_PARENTHETICAL={SyntaxNodeType:d.SquareParenthetical,startTokenRole:f.TokenRole.SquareParentheticalStart,endTokenRole:f.TokenRole.SquareParentheticalEnd},n.INLINE_REVEALABLE={SyntaxNodeType:l.InlineRevealable,startTokenRole:f.TokenRole.InlineRevealableStart,endTokenRole:f.TokenRole.InlineRevealableEnd},n.LINK={SyntaxNodeType:h.Link,startTokenRole:f.TokenRole.LinkStart,endTokenRole:f.TokenRole.LinkEndAndUrl}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.inlineRevealable(this)},n.prototype.INLINE_REVEALABLE=function(){},n}(t(4).RichInlineSyntaxNode);n.InlineRevealable=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.PARENTHETICAL_SYNTAX_NODE=function(){},n}(t(4).RichInlineSyntaxNode);n.ParentheticalSyntaxNode=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.text=e}return e.prototype.textAppearingInline=function(){return this.text},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.text(this)},e}();n.Text=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(58),o=t(59),i=t(40),a=t(60),s=t(62),l=t(29),c=[r.tryToParseBulletedList,o.tryToParseNumberedList,i.tryToParseThematicBreakStreak,a.tryToParseBlockquote,s.tryToParseCodeBlock],u=new l.HeadingLeveler,d=1;n.isLineFancyOutlineConvention=function(e,n){var t=[e];return c.some(function(e){return e({markupLines:t,settings:n,sourceLineNumber:d,headingLeveler:u,then:function(){}})})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=new(t(36).Up);n.parseAndRender=function(e,n){return r.parseAndRender(e,n)},n.parseAndRenderWithTableOfContents=function(e,n){return r.parseAndRenderWithTableOfContents(e,n)},n.parseAndRenderInline=function(e,n){return r.parseAndRenderInline(e,n)},n.parse=function(e,n){return r.parse(e,n)},n.parseInline=function(e,n){return r.parseInline(e,n)},n.render=function(e,n){return r.render(e,n)},n.renderWithTableOfContents=function(e,n){return r.renderWithTableOfContents(e,n)},n.renderInline=function(e,n){return r.renderInline(e,n)};var o=t(36);n.Up=o.Up;var i=t(19);n.Document=i.Document;var a=t(65);n.InlineDocument=a.InlineDocument;var s=t(50);n.Audio=s.Audio;var l=t(61);n.Blockquote=l.Blockquote;var c=t(44);n.Bold=c.Bold;var u=t(28);n.BulletedList=u.BulletedList;var d=t(63);n.CodeBlock=d.CodeBlock;var p=t(22);n.DescriptionList=p.DescriptionList;var h=t(41);n.Emphasis=h.Emphasis;var f=t(57);n.ExampleUserInput=f.ExampleUserInput;var m=t(23);n.Footnote=m.Footnote;var g=t(39);n.FootnoteBlock=g.FootnoteBlock;var v=t(20);n.Heading=v.Heading;var y=t(45);n.Highlight=y.Highlight;var b=t(51);n.Image=b.Image;var k=t(56);n.InlineCode=k.InlineCode;var w=t(46);n.InlineQuote=w.InlineQuote;var C=t(31);n.InlineRevealable=C.InlineRevealable;var T=t(43);n.Italic=T.Italic;var x=t(26);n.LineBlock=x.LineBlock;var S=t(16);n.Link=S.Link;var L=t(48);n.NormalParenthetical=L.NormalParenthetical;var O=t(27);n.NumberedList=O.NumberedList;var I=t(64);n.Paragraph=I.Paragraph;var A=t(24);n.RevealableBlock=A.RevealableBlock;var M=t(21);n.SectionLink=M.SectionLink;var N=t(47);n.SquareParenthetical=N.SquareParenthetical;var E=t(42);n.Stress=E.Stress;var _=t(14);n.Table=_.Table;var R=t(33);n.Text=R.Text;var P=t(15);n.ThematicBreak=P.ThematicBreak;var B=t(52);n.Video=B.Video;var W=t(6);n.InlineSyntaxNodeContainer=W.InlineSyntaxNodeContainer;var H=t(11);n.MediaSyntaxNode=H.MediaSyntaxNode;var D=t(7);n.OutlineSyntaxNodeContainer=D.OutlineSyntaxNodeContainer;var F=t(32);n.ParentheticalSyntaxNode=F.ParentheticalSyntaxNode;var U=t(4);n.RichInlineSyntaxNode=U.RichInlineSyntaxNode;var j=t(25);n.RichOutlineSyntaxNode=j.RichOutlineSyntaxNode,n.VERSION="38.0.1"},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(72),o=t(73),i=t(94),a=t(95),s=function(){function e(e){this.settings=new r.NormalizedSettings(e)}return e.prototype.parseAndRender=function(e,n){var t=l(n),r=t.parsing,o=t.rendering,i=this.parse(e,r);return this.render(i,o)},e.prototype.parseAndRenderWithTableOfContents=function(e,n){var t=l(n),r=t.parsing,o=t.rendering,i=this.parse(e,r);return this.renderWithTableOfContents(i,o)},e.prototype.parseAndRenderInline=function(e,n){var t=l(n),r=t.parsing,o=t.rendering,i=this.parseInline(e,r);return this.renderInline(i,o)},e.prototype.parse=function(e,n){return o.parse(e,this.getParsingSettings(n))},e.prototype.parseInline=function(e,n){return i.parseInline(e,this.getParsingSettings(n))},e.prototype.render=function(e,n){return this.getHtmlRenderer(n).document(e)},e.prototype.renderWithTableOfContents=function(e,n){var t=this.getHtmlRenderer(n);return{documentHtml:t.document(e),tableOfContentsHtml:t.tableOfContents(e.tableOfContents)}},e.prototype.renderInline=function(e,n){return this.getHtmlRenderer(n).inlineDocument(e)},e.prototype.getHtmlRenderer=function(e){return new a.HtmlRenderer(this.getRenderingSettings(e))},e.prototype.getParsingSettings=function(e){return this.settings.withChanges({parsing:e||{}}).parsing},e.prototype.getRenderingSettings=function(e){return this.settings.withChanges({rendering:e||{}}).rendering},e}();function l(e){return e||{parsing:{},rendering:{}}}n.Up=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0);n.repeat=function(e,n){return new Array(n+1).join(e)},n.isEqualIgnoringCapitalization=function(e,n){return new RegExp("^"+r.escapeForRegex(e)+"$","i").test(n)},n.containsStringIgnoringCapitalization=function(e){return new RegExp(r.escapeForRegex(e.needle),"i").test(e.haystack)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getTextAppearingInline=function(e){return e.map(function(e){return e.textAppearingInline()}).join("")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(13),o=function(){function e(e){this.footnotes=e}return Object.defineProperty(e.prototype,"sourceLineNumber",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return r.getInlineDescendants(this.footnotes)},e.prototype.render=function(e){return e.footnoteBlock(this)},e}();n.FootnoteBlock=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(15),i=t(2);n.tryToParseThematicBreakStreak=function(e){var n=new r.LineConsumer(e.markupLines);return!!n.consumeLineIfMatches(i.DIVIDER_STREAK_PATTERN)&&(e.then([new o.ThematicBreak],n.countLinesConsumed),!0)}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.emphasis(this)},n.prototype.EMPHASIS=function(){},n}(t(4).RichInlineSyntaxNode);n.Emphasis=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.stress(this)},n.prototype.STRESS=function(){},n}(t(4).RichInlineSyntaxNode);n.Stress=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.italic(this)},n.prototype.ITALIC=function(){},n}(t(4).RichInlineSyntaxNode);n.Italic=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.bold(this)},n.prototype.BOLD=function(){},n}(t(4).RichInlineSyntaxNode);n.Bold=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.highlight(this)},n.prototype.HIGHLIGHT=function(){},n}(t(4).RichInlineSyntaxNode);n.Highlight=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.inlineQuote(this)},n.prototype.INLINE_QUOTE=function(){},n}(t(31).InlineRevealable);n.InlineQuote=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.squareParenthetical(this)},n.prototype.SQUARE_PARENTHETICAL=function(){},n}(t(32).ParentheticalSyntaxNode);n.SquareParenthetical=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.normalParenthetical(this)},n.prototype.NORMAL_PARENTHETICAL=function(){},n}(t(32).ParentheticalSyntaxNode);n.NormalParenthetical=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(50),o=t(51),i=t(52),a=t(10);n.AUDIO={keyword:function(e){return e.audio},SyntaxNodeType:r.Audio,tokenRoleForStartAndDescription:a.TokenRole.AudioStartAndDescription},n.IMAGE={keyword:function(e){return e.image},SyntaxNodeType:o.Image,tokenRoleForStartAndDescription:a.TokenRole.ImageStartAndDescription},n.VIDEO={keyword:function(e){return e.video},SyntaxNodeType:i.Video,tokenRoleForStartAndDescription:a.TokenRole.VideoStartAndDescription}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.audio(this)},n.prototype.AUDIO=function(){},n}(t(11).MediaSyntaxNode);n.Audio=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.image(this)},n.prototype.IMAGE=function(){},n}(t(11).MediaSyntaxNode);n.Image=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.video(this)},n.prototype.VIDEO=function(){},n}(t(11).MediaSyntaxNode);n.Video=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.entireText=e,this.index=0}return Object.defineProperty(e.prototype,"remaining",{get:function(){return this._remaining},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e,this.updateComputedTextFields()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentChar",{get:function(){return this._currentChar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousChar",{get:function(){return this._previousChar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"done",{get:function(){return this._index>=this.entireText.length},enumerable:!0,configurable:!0}),e.prototype.consume=function(e){var n=e.exec(this._remaining);if(!n)return null;var t=n[0],r=n.slice(1),o=this.entireText[this._index+t.length];return this.index+=t.length,{match:t,charAfterMatch:o,captures:r}},e.prototype.updateComputedTextFields=function(){this._remaining=this.entireText.substr(this._index),this._currentChar=this._remaining[0],this._previousChar=this.entireText[this._index-1]},e}();n.TextConsumer=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){this.role=e,this.value=n}return e.prototype.enclosesContentBetweenItselfAnd=function(e){this.correspondingEnclosingToken=e,e.correspondingEnclosingToken=this},e}();n.Token=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(33),o=t(2);n.isWhitespace=function(e){return e instanceof r.Text&&o.BLANK_PATTERN.test(e.text)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.code=e}return e.prototype.textAppearingInline=function(){return this.code},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.inlineCode(this)},e}();n.InlineCode=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.userInput=e}return e.prototype.textAppearingInline=function(){return this.userInput},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.exampleUserInput(this)},e}();n.ExampleUserInput=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(28),i=t(8),a=t(18),s=t(0),l=t(5);n.tryToParseBulletedList=function(e){for(var n=new r.LineConsumer(e.markupLines),t=[];!n.done;){var s=[],l=e.sourceLineNumber+n.countLinesConsumed,u=n.consumeLineIfMatches(c);if(!u)break;s.push(u.line.replace(c,""));var d=a.getIndentedBlock(n.remaining()),p=!1;if(d&&(s.push.apply(s,d.lines),n.skipLines(d.countLinesConsumed),p=d.hasMultipleTrailingBlankLines),t.push(new o.BulletedList.Item(i.getOutlineSyntaxNodes({markupLines:s,sourceLineNumber:l,headingLeveler:e.headingLeveler,settings:e.settings}))),p)break}return!!t.length&&(e.then([new o.BulletedList(t)],n.countLinesConsumed),!0)};var c=s.patternStartingWith(s.optional(" ")+s.anyCharFrom("*","-","•")+l.INLINE_WHITESPACE_CHAR)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(27),i=t(8),a=t(0),s=t(5),l=t(2),c=t(18);n.tryToParseNumberedList=function(e){for(var n=new r.LineConsumer(e.markupLines),t=[];!n.done;){var a=n.countLinesConsumed,s=n.consumeLineIfMatches(p,{andIf:function(e){return!l.DIVIDER_STREAK_PATTERN.test(e.line)}});if(!s)break;var d=s.captures[0],m=new u({bullet:d,firstLineOfMarkup:s.line.replace(p,""),sourceLineNumber:e.sourceLineNumber+a}),g=c.getIndentedBlock(n.remaining()),v=!1;if(g&&((y=m.markupLines).push.apply(y,g.lines),n.skipLines(g.countLinesConsumed),v=g.hasMultipleTrailingBlankLines),t.push(m),v)break}if(!function(e){var n=e.length;return n>0&&(n>1||!h.test(e[0].bullet))}(t))return!1;var y,b=t.map(function(n){var t=i.getOutlineSyntaxNodes({markupLines:n.markupLines,sourceLineNumber:n.sourceLineNumber,headingLeveler:e.headingLeveler,settings:e.settings}),r=function(e){var n=f.exec(e.bullet);return n?parseInt(n[0],10):void 0}(n);return new o.NumberedList.Item(t,{ordinal:r})});return e.then([new o.NumberedList(b)],n.countLinesConsumed),!0};var u=function(e){this.markupLines=[],this.bullet=e.bullet,this.markupLines=[e.firstLineOfMarkup],this.sourceLineNumber=e.sourceLineNumber};n.INTEGER=a.optional(a.escapeForRegex("-"))+a.oneOrMore(s.DIGIT);var d=a.either("#",a.capture(a.either(n.INTEGER,"#")+a.anyCharFrom(".",")"))),p=a.patternStartingWith(a.optional(" ")+d+s.INLINE_WHITESPACE_CHAR),h=a.patternStartingWith(n.INTEGER+"\\."),f=new RegExp(n.INTEGER)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(61),i=t(8),a=t(0),s=t(5);n.tryToParseBlockquote=function(e){for(var n=new r.LineConsumer(e.markupLines),t=[];;){var a=n.consumeLineIfMatches(l);if(!a)break;t.push(a.line.replace(l,""))}if(!t.length)return!1;var s=e.sourceLineNumber,c=e.headingLeveler,u=i.getOutlineSyntaxNodes({markupLines:t,sourceLineNumber:s,headingLeveler:c,settings:e.settings});return e.then([new o.Blockquote(u)],n.countLinesConsumed),!0};var l=a.patternStartingWith(s.ANY_OPTIONAL_WHITESPACE+">"+a.optional(" "))},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(e){return e.blockquote(this)},n.prototype.BLOCKQUOTE=function(){},n}(t(25).RichOutlineSyntaxNode);n.Blockquote=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(63),i=t(0);n.tryToParseCodeBlock=function(e){var n=new r.LineConsumer(e.markupLines),t=n.consumeLineIfMatches(a);if(!t)return!1;for(var i=t.line.trim(),l=[];!n.done;){var c=n.consumeLineIfMatches(a);if(c){var u=c.line.trim();if(u.length===i.length)break;l.push(u)}else l.push(n.consumeLine())}return e.then([new o.CodeBlock(l.join(s))],n.countLinesConsumed),!0};var a=i.streakOf("`"),s="\n"},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){this.code=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.codeBlock(this)},e}();n.CodeBlock=r},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(n,t){var r=e.call(this,n)||this;return r.sourceLineNumber=void 0,t&&(r.sourceLineNumber=t.sourceLineNumber),r}return o(n,e),n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.render=function(e){return e.paragraph(this)},n.prototype.PARAGRAPH=function(){},n}(t(6).InlineSyntaxNodeContainer);n.Paragraph=i},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.INLINE_DOCUMENT=function(){},n}(t(6).InlineSyntaxNodeContainer);n.InlineDocument=i},function(e,n,t){"use strict";function r(e,n){return e.replace(n,function(e){return o[e]})}Object.defineProperty(n,"__esModule",{value:!0}),n.escapeHtmlContent=function(e){return r(e,/[&<]/g)},n.escapeHtmlAttrValue=function(e){return r(String(e),/[&"]/g)};var o={"&":"&amp;","<":"&lt;",'"':"&quot;"}},function(e,n){e.exports={parsing:{createSourceMap:!0},rendering:{idPrefix:""}}},function(e,n,t){var r=t(69);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(71)(r,o);r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(70)(!1)).push([e.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}#tab-container{align-items:center;display:flex;height:44px}#documentation-container{margin-left:510px;padding:0 15px}#documentation-container #table-of-contents{display:none}#documentation-container #documentation,#documentation-container #table-of-contents{margin:0 auto;max-width:580px;overflow-x:hidden}@media only screen and (min-width: 981px){#editor-container{border-right:1px solid #aaa;position:fixed;left:0;top:0;width:510px}#editor-container .CodeMirror{height:100vh}}@media only screen and (max-width: 980px){#editor-container{display:none}#documentation-container{margin-left:0}}.CodeMirror{font-size:14px;line-height:1.3;font-family:Menlo,Consolas,monospace !important}.CodeMirror .CodeMirror-scroll{-webkit-overflow-scrolling:touch}#tab-container{display:flex;justify-content:center}#tab-container span[role="tab"]{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);background-color:#c00;border-radius:3px;color:white;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px 12px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#tab-container span[role="tab"]:hover{background:#b00}#tab-container span[role="tab"]:active{background:#a00}#tab-container span[role="tab"][aria-selected="true"]{display:none}#documentation-container{font:1em/1.6 -apple-system,BlinkMacSystemFont,sans-serif}#documentation-container #table-of-contents{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#documentation-container #table-of-contents h1,#documentation-container #table-of-contents h2,#documentation-container #table-of-contents h3,#documentation-container #table-of-contents h4,#documentation-container #table-of-contents h5,#documentation-container #table-of-contents h6,#documentation-container #table-of-contents [role="heading"]{font-weight:normal;font-size:100%;margin:0;padding:0}#documentation-container #table-of-contents kbd{border-color:#aaa;box-shadow:0 .25em 0 rgba(13,13,13,0.2),.125em .25em 0 rgba(13,13,13,0.2),-.125em .25em 0 rgba(13,13,13,0.2);color:#444}#documentation-container #table-of-contents code{text-decoration:none}#documentation-container #table-of-contents small{display:none}#documentation-container #table-of-contents h1,#documentation-container #table-of-contents h2{font-weight:bold}#documentation-container #table-of-contents h1 small,#documentation-container #table-of-contents h2 small{display:inline}#documentation-container #table-of-contents a{box-sizing:border-box;color:black;display:inline-block;padding:3px 0 0 270px;text-decoration:none;width:100%}@media only screen and (max-width: 420px){#documentation-container #table-of-contents a{padding-left:180px}}#documentation-container #table-of-contents a:hover{text-decoration:underline}#documentation-container #table-of-contents h1 a{padding-left:0}@media only screen and (max-width: 420px){#documentation-container #table-of-contents h1 a{padding-left:0}}#documentation-container #table-of-contents h2 a{padding-left:0px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents h2 a{padding-left:0px}}#documentation-container #table-of-contents h3 a{padding-left:30px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents h3 a{padding-left:20px}}#documentation-container #table-of-contents h4 a{padding-left:60px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents h4 a{padding-left:40px}}#documentation-container #table-of-contents h5 a{padding-left:90px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents h5 a{padding-left:60px}}#documentation-container #table-of-contents h6 a{padding-left:120px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents h6 a{padding-left:80px}}#documentation-container #table-of-contents [aria-level="7"] a{padding-left:150px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents [aria-level="7"] a{padding-left:100px}}#documentation-container #table-of-contents [aria-level="8"] a{padding-left:180px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents [aria-level="8"] a{padding-left:120px}}#documentation-container #table-of-contents [aria-level="9"] a{padding-left:210px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents [aria-level="9"] a{padding-left:140px}}#documentation-container #table-of-contents [aria-level="10"] a{padding-left:240px}@media only screen and (max-width: 420px){#documentation-container #table-of-contents [aria-level="10"] a{padding-left:160px}}#documentation-container #table-of-contents h1 a{padding-top:25px;padding-bottom:6px}#documentation-container #table-of-contents h2 a{padding-top:10px}#documentation-container blockquote{border-left:20px solid #ddd;background-color:#fcfcfc;margin:15px 0;padding:5px 20px}#documentation-container blockquote blockquote{border-color:#d3d3d3;background-color:#f2f2f2}#documentation-container blockquote blockquote blockquote{border-color:#c9c9c9;background-color:#e8e8e8}#documentation-container blockquote blockquote blockquote blockquote{border-color:#bebebe;background-color:#ddd}#documentation-container pre,#documentation-container code{background:#234;color:white;font-family:Menlo,Consolas,monospace;font-size:87.5%}#documentation-container .up-inline-code{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);border-radius:.125em;font-weight:normal;margin:0 .0625em;padding:0 .2em;white-space:pre}#documentation-container a code{text-decoration:underline}#documentation-container a:hover code{text-decoration:none}#documentation-container pre{box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);border-radius:.1875em;line-height:1.5;margin:20px 0;overflow-x:auto;padding:7px 9px}@media only screen and (max-width: 420px){#documentation-container pre{font-size:85%;line-height:1.4}}#documentation-container pre>code{box-shadow:none;border-radius:0;padding:0}#documentation-container dl{margin-bottom:25px}#documentation-container dl dl{margin-bottom:0}#documentation-container dl dt{color:#000;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-weight:bold}#documentation-container dl dd{margin-left:20px}#documentation-container dl+dl{margin-top:45px}#documentation-container i i,#documentation-container i em,#documentation-container em i,#documentation-container em em,#documentation-container caption i,#documentation-container caption em{display:inline-block;transform:skewX(-20deg)}#documentation-container kbd{border-color:#aaa;box-shadow:0 .25em 0 rgba(13,13,13,0.2),.125em .25em 0 rgba(13,13,13,0.2),-.125em .25em 0 rgba(13,13,13,0.2);color:#444;border-radius:.25em;border-style:solid;border-width:.125em;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-size:70%;line-height:1.4;margin:0 .1em;padding:.1em .6em;text-shadow:0 .1em 0 white;white-space:nowrap}#documentation-container a kbd{border-color:#579;box-shadow:0 .25em 0 rgba(85,119,153,0.3),.125em .25em 0 rgba(85,119,153,0.3),-.125em .25em 0 rgba(85,119,153,0.3);color:#579}#documentation-container .up-footnote-reference a{font-size:110%;margin-left:.125em;text-decoration:none}#documentation-container .up-footnote-reference a:before{content:\'[\'}#documentation-container .up-footnote-reference a:after{content:\']\'}#documentation-container .up-footnotes{font-size:85%}#documentation-container .up-footnotes dt{font-weight:normal}#documentation-container .up-footnotes dt a:before{content:\'↑\'}#documentation-container img{max-width:100%}#documentation-container h1,#documentation-container h2,#documentation-container h3,#documentation-container h4,#documentation-container h5,#documentation-container h6,#documentation-container [role="heading"]{color:#000;font-family:-apple-system,BlinkMacSystemFont,sans-serif;line-height:1.5;overflow-x:auto;padding-top:10px}#documentation-container h1{font-size:180%;padding-bottom:15px;text-align:center}#documentation-container h2{font-size:140%}#documentation-container h3{font-size:120%}#documentation-container h4{font-size:110%}#documentation-container h5{font-size:100%}#documentation-container h6{font-size:90%}#documentation-container [role="heading"]{font-size:60%;margin:1.5em 0}#documentation-container [aria-level="7"]{font-size:85%}#documentation-container [aria-level="8"]{font-size:80%}#documentation-container [aria-level="9"]{font-size:75%}#documentation-container [aria-level="10"]{font-size:70%}#documentation-container mark{background-color:yellow;padding:.0625em}#documentation-container mark mark{background-color:gold}#documentation-container mark mark mark{background-color:orange}#documentation-container q{margin:0 .0625em;quotes:\'“\' \'”\' "‘" "’"}#documentation-container q:before,#documentation-container q:after{font-family:serif}#documentation-container q:before{content:open-quote}#documentation-container q:after{content:close-quote}#documentation-container .up-lines{text-align:center}#documentation-container .up-lines+.up-lines{margin-top:20px}#documentation-container .up-lines>div{margin-bottom:5px}#documentation-container a{color:#579}#documentation-container a:hover{text-decoration:none}#documentation-container ul+ul{margin-top:40px}#documentation-container ol+ol{margin-top:40px}#documentation-container small{font-size:100%;opacity:.5}#documentation-container .up-square-brackets{font-style:italic}@-webkit-keyframes reveal{0%{opacity:1}30%{opacity:.5}100%{opacity:1}}@keyframes reveal{0%{opacity:1}30%{opacity:.5}100%{opacity:1}}#documentation-container .up-revealable>label{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);background-color:#c00;border-radius:3px;color:white;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px 12px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#documentation-container .up-revealable>label:hover{background:#b00}#documentation-container .up-revealable>label:active{background:#a00}#documentation-container .up-revealable>input[type="radio"]{display:none}#documentation-container .up-revealable>input[type="radio"] ~ span,#documentation-container .up-revealable>input[type="radio"] ~ div{display:none}#documentation-container .up-revealable>input[type="radio"].up-hide:checked+label{display:none}#documentation-container .up-revealable>input[type="radio"].up-reveal:checked+label{display:none}#documentation-container .up-revealable>input[type="radio"].up-reveal:checked ~ span,#documentation-container .up-revealable>input[type="radio"].up-reveal:checked ~ div{-webkit-animation:1s reveal;animation:1s reveal}#documentation-container .up-revealable>input[type="radio"].up-reveal:checked ~ span{display:inline}#documentation-container .up-revealable>input[type="radio"].up-reveal:checked ~ div{display:block}#documentation-container .up-revealable>div{margin-left:20px}#documentation-container span.up-revealable>label{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);background-color:#c00;border-radius:3px;color:white;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px 12px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline;font-size:65%;margin:0 5px;padding:4px 12px 3px 12px}#documentation-container span.up-revealable>label:hover{background:#b00}#documentation-container span.up-revealable>label:active{background:#a00}#documentation-container div.up-revealable>label{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);background-color:#c00;border-radius:3px;color:white;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px 12px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#documentation-container div.up-revealable>label:hover{background:#b00}#documentation-container div.up-revealable>label:active{background:#a00}#documentation-container table{border-collapse:collapse;margin:20px 0}@media only screen and (max-width: 420px){#documentation-container table{font-size:80%}}#documentation-container table caption{font-style:italic}#documentation-container table tbody tr:hover td{background:#ddd}#documentation-container table tbody tr:nth-child(even) td{background-color:#eee}#documentation-container table tbody tr:nth-child(even):hover td{background-color:#ccc}#documentation-container table tbody tr:nth-child(even):hover td{border-color:#999}#documentation-container table td,#documentation-container table th{padding:10px;border:1px solid #bbb}#documentation-container table td.up-numeric,#documentation-container table th.up-numeric{text-align:right}#documentation-container table td[colspan],#documentation-container table th[colspan]{text-align:center}#documentation-container table th{border:0;color:#000;font-family:-apple-system,BlinkMacSystemFont,sans-serif}#documentation-container table th[scope="row"]{text-align:right}#documentation-container hr{border:0;padding-bottom:30px;text-align:center}#documentation-container hr:after{color:#ccc;content:\'☆ ☆ ☆\';font-size:10px}@media speech, braille{#documentation-container hr:after{content:none}}#documentation-container video{max-width:100%}@-webkit-keyframes clean{from{opacity:0.5;transition:0.5s}to{opacity:1}}@keyframes clean{from{opacity:0.5;transition:0.5s}to{opacity:1}}.dirty{opacity:0.5;transition:0.5s}.clean{-webkit-animation:0.2s clean;animation:0.2s clean}.CodeMirror{font-family:monospace;height:300px;color:black}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:white}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:black}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-webkit-keyframes blink{0%{}50%{background-color:transparent}100%{}}@keyframes blink{0%{}50%{background-color:transparent}100%{}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:bold}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:#f00}.cm-invalidchar{color:#f00}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,0.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px;*zoom:1;*display:inline}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none !important;border:none !important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:none}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,0.4)}.CodeMirror span{*vertical-align:text-bottom}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:\'\'}span.CodeMirror-selectedtext{background:none}\n',""])},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")});return[t].concat(i).concat([o]).join("\n")}var a,s,l;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2],"{").concat(t,"}"):t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&r[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="(".concat(s[2],") and (").concat(t,")")),n.push(s))}},n}},function(e,n,t){"use strict";var r,o={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}();function s(e,n){for(var t=[],r={},o=0;o<e.length;o++){var i=e[o],a=n.base?i[0]+n.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):t.push(r[a]={id:a,parts:[s]})}return t}function l(e,n){for(var t=0;t<e.length;t++){var r=e[t],i=o[r.id],a=0;if(i){for(i.refs++;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(g(r.parts[a],n))}else{for(var s=[];a<r.parts.length;a++)s.push(g(r.parts[a],n));o[r.id]={id:r.id,refs:1,parts:s}}}}function c(e){var n=document.createElement("style");if(void 0===e.attributes.nonce){var r=t.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach(function(t){n.setAttribute(t,e.attributes[t])}),"function"==typeof e.insert)e.insert(n);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}return n}var u,d=(u=[],function(e,n){return u[e]=n,u.filter(Boolean).join("\n")});function p(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function h(e,n,t){var r=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,m=0;function g(e,n){var t,r,o;if(n.singleton){var i=m++;t=f||(f=c(n)),r=p.bind(null,t,i,!1),o=p.bind(null,t,i,!0)}else t=c(n),r=h.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).attributes="object"==typeof n.attributes?n.attributes:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=i());var t=s(e,n);return l(t,n),function(e){for(var r=[],i=0;i<t.length;i++){var a=t[i],c=o[a.id];c&&(c.refs--,r.push(c))}e&&l(s(e,n),n);for(var u=0;u<r.length;u++){var d=r[u];if(0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete o[d.id]}}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(5),o=t(2),i=t(1),a=function(){function e(n){this.parsing=new e.Parsing,this.rendering=new e.Rendering,this.applySettings(n)}return e.prototype.withChanges=function(n){var t=new e;return t.parsing=this.parsing.clone(),t.rendering=this.rendering.clone(),t.applySettings(n),t},e.prototype.applySettings=function(e){e&&(this.parsing.applySettings(e.parsing),this.rendering.applySettings(e.rendering))},e}();function s(e){if(null==e)return[];var n=("string"==typeof e?[e]:e).filter(function(e){return!!e}).map(function(e){return e.trim()}).filter(function(e){return!!e});return i.distinct.apply(void 0,n)}n.NormalizedSettings=a,function(e){var n=function(){function e(){this.createSourceMap=!1,this.fancyEllipsis="…",this.keywords=new e.Keywords,this.defaultUrlScheme="https://",this.baseForUrlsStartingWithSlash="",this.baseForUrlsStartingWithHashMark=""}return e.prototype.clone=function(){var n=new e;return n.createSourceMap=this.createSourceMap,n.fancyEllipsis=this.fancyEllipsis,n.defaultUrlScheme=this.defaultUrlScheme,n.baseForUrlsStartingWithSlash=this.baseForUrlsStartingWithSlash,n.baseForUrlsStartingWithHashMark=this.baseForUrlsStartingWithHashMark,n.keywords=this.keywords.clone(),n},e.prototype.applySettings=function(e){e&&(this.createSourceMap=i.coalesce(e.createSourceMap,this.createSourceMap),this.fancyEllipsis=i.coalesce(e.fancyEllipsis,this.fancyEllipsis),this.defaultUrlScheme=i.coalesce(e.defaultUrlScheme,this.defaultUrlScheme),this.baseForUrlsStartingWithSlash=i.coalesce(e.baseForUrlsStartingWithSlash,this.baseForUrlsStartingWithSlash),this.baseForUrlsStartingWithHashMark=i.coalesce(e.baseForUrlsStartingWithHashMark,this.baseForUrlsStartingWithHashMark),this.keywords.applySettings(e.keywords))},e.prototype.applySettingsToUrl=function(e){switch((e=e.trim())[0]){case r.FORWARD_SLASH:return this.baseForUrlsStartingWithSlash+e;case r.HASH_MARK:return this.baseForUrlsStartingWithHashMark+e}return o.URL_SCHEME_PATTERN.test(e)?e:this.defaultUrlScheme+e},e}();e.Parsing=n,function(e){var n=function(){function e(){this._audio=[],this._image=[],this._revealable=[],this._sectionLink=[],this._table=[],this._video=[]}return Object.defineProperty(e.prototype,"audio",{get:function(){return i.distinct.apply(void 0,["audio"].concat(this._audio))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return i.distinct.apply(void 0,["image","img"].concat(this._image))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revealable",{get:function(){return i.distinct.apply(void 0,["spoiler","nsfw","nsfl","revealable"].concat(this._revealable))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sectionLink",{get:function(){return i.distinct.apply(void 0,["section","topic"].concat(this._sectionLink))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return i.distinct.apply(void 0,["table"].concat(this._table))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"video",{get:function(){return i.distinct.apply(void 0,["video","vid"].concat(this._video))},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var n=new e;return n._audio=this._audio,n._image=this._image,n._revealable=this._revealable,n._sectionLink=this._sectionLink,n._table=this._table,n._video=this._video,n},e.prototype.applySettings=function(e){e&&(this._audio=s(e.audio),this._image=s(e.image),this._revealable=s(e.revealable),this._sectionLink=s(e.sectionLink),this._table=s(e.table),this._video=s(e.video))},e}();e.Keywords=n}(n=e.Parsing||(e.Parsing={}));var t=function(){function e(){this.idPrefix="up",this.renderDangerousContent=!1,this.terms=new e.Terms}return e.prototype.clone=function(){var n=new e;return n.idPrefix=this.idPrefix,n.renderDangerousContent=this.renderDangerousContent,n.terms=this.terms.clone(),n},e.prototype.applySettings=function(e){e&&(this.idPrefix=i.coalesce(e.idPrefix,this.idPrefix),this.renderDangerousContent=i.coalesce(e.renderDangerousContent,this.renderDangerousContent),this.terms.applySettings(e.terms))},e}();e.Rendering=t,function(e){var n=function(){function e(){this.footnote="footnote",this.footnoteReference="footnote reference",this.hide="hide",this.reveal="reveal",this.sectionReferencedByTableOfContents="topic"}return e.prototype.clone=function(){var n=new e;return n.footnote=this.footnote,n.footnoteReference=this.footnoteReference,n.hide=this.hide,n.reveal=this.reveal,n.sectionReferencedByTableOfContents=this.sectionReferencedByTableOfContents,n},e.prototype.applySettings=function(e){e&&(this.footnote=i.coalesce(e.footnote,this.footnote),this.footnoteReference=i.coalesce(e.footnoteReference,this.footnoteReference),this.hide=i.coalesce(e.hide,this.hide),this.reveal=i.coalesce(e.reveal,this.reveal),this.sectionReferencedByTableOfContents=i.coalesce(e.sectionReferencedByTableOfContents,this.sectionReferencedByTableOfContents))},e}();e.Terms=n}(t=e.Rendering||(e.Rendering={}))}(a=n.NormalizedSettings||(n.NormalizedSettings={})),n.NormalizedSettings=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(19),o=t(29),i=t(8);n.parse=function(e,t){var a=i.getOutlineSyntaxNodes({markupLines:e.split(n.MARKUP_LINE_BREAK),sourceLineNumber:1,headingLeveler:new o.HeadingLeveler,settings:t});return r.Document.create(a)},n.MARKUP_LINE_BREAK="\n"},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t(7),i=t(6),a=t(22),s=t(39),l=t(23),c=t(4),u=t(24),d=t(26),p=t(27),h=t(28),f=t(14);n.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers=function(e){new m(e)};var m=function(){function e(e){this.currentFootnoteReferenceNumber=1,this.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers(e)}return e.prototype.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers=function(e){for(var n=[],t=0,r=e.children;t<r.length;t++){var o=r[t];n.push(o);var i=this.handleOutlineNodeAndGetBlocklessFootnotes(o);i.length&&n.push(this.getFootnoteBlock(i))}e.children=n},e.prototype.handleOutlineNodeAndGetBlocklessFootnotes=function(e){return e instanceof i.InlineSyntaxNodeContainer?this.getOutermostFootnotesAndAssignTheirReferenceNumbers(e.children):e instanceof u.RevealableBlock?(this.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers(e),[]):e instanceof o.OutlineSyntaxNodeContainer?this.getBlocklessFootnotesFromOutlineNodes(e.children):e instanceof h.BulletedList||e instanceof p.NumberedList?this.getBlocklessFootnotesFromOutlineContainers(e.items):e instanceof d.LineBlock?this.getBlocklessFootnotesFromInlineContainers(e.lines):e instanceof a.DescriptionList?this.getBlocklessFootnotesFromDescriptionList(e):e instanceof f.Table?this.getBlocklessFootnotesFromTable(e):[]},e.prototype.getOutermostFootnotesAndAssignTheirReferenceNumbers=function(e){for(var n=[],t=0,r=e;t<r.length;t++){var o=r[t];o instanceof l.Footnote?(o.referenceNumber=this.currentFootnoteReferenceNumber++,n.push(o)):o instanceof c.RichInlineSyntaxNode&&n.push.apply(n,this.getOutermostFootnotesAndAssignTheirReferenceNumbers(o.children))}return n},e.prototype.getBlocklessFootnotesFromInlineContainers=function(e){var n=this;return r.concat(e.map(function(e){return n.getOutermostFootnotesAndAssignTheirReferenceNumbers(e.children)}))},e.prototype.getBlocklessFootnotesFromOutlineContainers=function(e){var n=this;return r.concat(e.map(function(e){return n.getBlocklessFootnotesFromOutlineNodes(e.children)}))},e.prototype.getBlocklessFootnotesFromDescriptionList=function(e){var n=this;return r.concat(e.items.map(function(e){return n.getBlocklessFootnotesFromDescriptionListItem(e)}))},e.prototype.getBlocklessFootnotesFromDescriptionListItem=function(e){var n=this.getBlocklessFootnotesFromInlineContainers(e.subjects),t=this.getBlocklessFootnotesFromOutlineNodes(e.description.children);return n.concat(t)},e.prototype.getBlocklessFootnotesFromTable=function(e){var n=this;return r.concat([e.caption?[e.caption]:[],e.header.cells].concat(e.rows.map(function(e){return e.allCellsStartingWithHeaderColumnCell})).map(function(e){return n.getBlocklessFootnotesFromInlineContainers(e)}))},e.prototype.getBlocklessFootnotesFromOutlineNodes=function(e){var n=this;return r.concat(e.map(function(e){return n.handleOutlineNodeAndGetBlocklessFootnotes(e)}))},e.prototype.getFootnoteBlock=function(e){for(var n,t=new s.FootnoteBlock(e),r=0;r<t.footnotes.length;r++){var o=t.footnotes[r],i=this.getOutermostFootnotesAndAssignTheirReferenceNumbers(o.children);(n=t.footnotes).push.apply(n,i)}return t},e}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(20),i=t(2),a=t(9),s=t(34),l=t(29);n.tryToParseHeading=function(e){var n=new r.LineConsumer(e.markupLines),t=n.consumeLineIfMatches(i.DIVIDER_STREAK_PATTERN),c=t?t.line:null,u=n.consumeLineIfMatches(i.NON_BLANK_PATTERN);if(!u)return!1;var d=u.line,p=n.consumeLineIfMatches(i.DIVIDER_STREAK_PATTERN);if(!p)return!1;var h=p.line;if(!l.isUnderlineConsistentWithOverline(c,h))return!1;if(s.isLineFancyOutlineConvention(d,e.settings))return!1;var f=a.getInlineSyntaxNodes(d,e.settings),m=e.headingLeveler.registerHeadingAndGetLevel(h,c);return e.then([new o.Heading(f,{level:m,titleMarkup:d.trim()})],n.countLinesConsumed),!0}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(30),o=t(49),i=t(0),a=t(5),s=t(2),l=t(17),c=t(77),u=t(78),d=t(1),p=t(37),h=t(79),f=t(80),m=t(81),g=t(53),v=t(10),y=t(54),b=t(82),k=t(83),w=t(85);n.tokenize=function(e,n){return new L(e,n).result},n.tokenizeForInlineDocument=function(e,n){return new L(e,n,{isTokenizingInlineDocument:!0}).result};var C=new h.Bracket("(",")"),T=new h.Bracket("[","]"),x=[C,T],S=new h.Bracket("{","}"),L=function(){function e(e,n,t){var o=this;this.settings=n,this.bufferedContent="",this.tokens=[],this.openContexts=[],this.backtrackedConventionHelper=new f.BacktrackedConventionHelper,this.rawParentheticalBracketConventions=this.getRawParentheticalBracketConventions(),this.rawCurlyBracketConvention=this.getRawCurlyBracketConvention(),this.mediaUrlConventions=this.getMediaUrlConventions(),this.linkUrlConventions=this.getLinkUrlConventions(),this.bareUrlPathConvention=this.getBareUrlPathConvention(),this.forgivingConventionHandlers=[this.getInlineQuoteHandler(),this.getHighlightingHandler()].concat([{delimiterChar:"*",whenEnclosedWithinSingleChars:r.EMPHASIS,whenEnclosedWithinDoubleChars:r.STRESS},{delimiterChar:"_",whenEnclosedWithinSingleChars:r.ITALIC,whenEnclosedWithinDoubleChars:r.BOLD}].map(function(e){return o.getHandlerForForgivingConventionPair(e)}));var i=w.trimEscapedAndUnescapedOuterWhitespace(e);this.markupConsumer=new g.TextConsumer(i),this.configureConventions(null!=t&&t.isTokenizingInlineDocument),this.tokenize(),this.result=u.nestOverlappingConventions(this.tokens)}return Object.defineProperty(e.prototype,"justEnteredAConvention",{get:function(){return this.markupIndexWeLastOpenedAConvention===this.markupConsumer.index},enumerable:!0,configurable:!0}),e.prototype.indicateWeJustOpenedAConvention=function(){this.markupIndexWeLastOpenedAConvention=this.markupConsumer.index},e.prototype.configureConventions=function(e){var n=this;this.conventionVariations=this.getInlineRevealableConventions({richConvention:r.INLINE_REVEALABLE,keyword:this.settings.keywords.revealable}).concat(this.getMediaDescriptionConventions(),e?this.getFootnoteConventionsForInlineDocuments():this.getFootnoteConventions().concat(this.getSectionLinkConventions()),this.getLinkifyingUrlConventions(),this.getLinkContentConventions(),[{richConvention:r.NORMAL_PARENTHETICAL,bracket:C},{richConvention:r.SQUARE_PARENTHETICAL,bracket:T}].map(function(e){return n.getParentheticalConvention(e)}),[this.getExampleUserInputConvention(),this.bareUrlPathConvention])},e.prototype.getFootnoteConventions=function(){var e=this;return x.map(function(n){return e.getTokenizableRichConvention({richConvention:r.FOOTNOTE,startsWith:a.ANY_OPTIONAL_WHITESPACE+e.getFootnoteStartDelimiter(n),endsWith:e.getFootnotEndDelimiter(n)})})},e.prototype.getFootnoteConventionsForInlineDocuments=function(){var e=this;return x.map(function(n){return e.getTokenizableRichConvention({richConvention:r.NORMAL_PARENTHETICAL,startsWith:e.getFootnoteStartDelimiter(n),endsWith:e.getFootnotEndDelimiter(n),whenOpening:function(){e.bufferedContent+=C.open},whenClosing:function(){e.bufferedContent+=C.close}})})},e.prototype.getFootnoteStartDelimiter=function(e){return e.startPattern+i.escapeForRegex("^")+a.ANY_OPTIONAL_WHITESPACE},e.prototype.getFootnotEndDelimiter=function(e){return e.endPattern},e.prototype.getLinkContentConventions=function(){var e=this;return x.map(function(n){return e.getTokenizableRichConvention({richConvention:r.LINK,startsWith:n.startPattern,endsWith:n.endPattern,mustBeDirectlyFollowedBy:e.linkUrlConventions})})},e.prototype.getInlineRevealableConventions=function(e){var n=this,t=e.richConvention,r=e.keyword;return x.map(function(e){return n.getTokenizableRichConvention({richConvention:t,startsWith:O(r,e),endsWith:e.endPattern,startPatternContainsATerm:!0})})},e.prototype.getParentheticalConvention=function(e){var n=this,t=e.richConvention,r=e.bracket;return this.getTokenizableRichConvention({richConvention:t,startsWith:r.startPattern+i.notFollowedBy(a.WHITESPACE_CHAR),endsWith:r.endPattern,whenOpening:function(){n.bufferedContent+=r.open},whenClosing:function(){n.bufferedContent+=r.close}})},e.prototype.getTokenizableRichConvention=function(e){var n=this,t=e.richConvention,r=e.startsWith,o=e.endsWith,i=e.startPatternContainsATerm,a=e.whenOpening,s=e.insteadOfFailingWhenLeftUnclosed,l=e.whenClosing,c=e.mustBeDirectlyFollowedBy;return new b.ConventionVariation({startsWith:r,startPatternContainsATerm:i,endsWith:o,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,beforeClosingItFlushesNonEmptyBufferTo:v.TokenRole.Text,whenOpening:a,whenClosing:function(e){l&&l(e),n.encloseContextWithinConvention(t,e)},insteadOfFailingWhenLeftUnclosed:s,mustBeDirectlyFollowedBy:c})},e.prototype.tryToTokenizeBareUrlSchemeAndHostname=function(){var e=this.markupConsumer.consume(F);return!!e&&(this.flushNonEmptyBufferToTextToken(),this.appendNewToken(v.TokenRole.BareUrl,e.match),!0)},e.prototype.getBareUrlPathConvention=function(){var e=this;return new b.ConventionVariation({startsWith:a.FORWARD_SLASH,isCutShortByWhitespace:!0,whenOpening:function(){e.bufferedContent+=a.FORWARD_SLASH},canOnlyOpenIfDirectlyFollowing:[v.TokenRole.BareUrl],insteadOfOpeningRegularConventionsWhileOpen:function(){return e.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(){return e.appendBufferedUrlPathToCurrentBareUrl()},insteadOfFailingWhenLeftUnclosed:function(){return e.appendBufferedUrlPathToCurrentBareUrl()}})},e.prototype.getExampleUserInputConvention=function(){var e=this;return new b.ConventionVariation({startsWith:S.startPattern,endsWith:S.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfOpeningRegularConventionsWhileOpen:function(){return e.tryToOpen(e.rawCurlyBracketConvention)||e.tryToTokenizeTypographicalConvention()||e.addCurrentCharOrStreakOfWhitespaceToContentBuffer()},whenClosing:function(){var n=e.flushBufferedContent().trim();e.appendNewToken(v.TokenRole.ExampleUserInput,n)}})},e.prototype.getSectionLinkConventions=function(){var e=this,n=this.settings.keywords.sectionLink;return x.map(function(t){return new b.ConventionVariation({startsWith:O(n,t),startPatternContainsATerm:!0,endsWith:t.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfOpeningRegularConventionsWhileOpen:function(){return e.handleTextAwareOfRawBrackets()},whenClosing:function(){var n=e.flushBufferedContent().trim();e.appendNewToken(v.TokenRole.SectionLink,n)}})})},e.prototype.getMediaDescriptionConventions=function(){var e=this;return d.concat([o.IMAGE,o.VIDEO,o.AUDIO].map(function(n){var t=n.keyword(e.settings.keywords);return x.map(function(r){return new b.ConventionVariation({startsWith:O(t,r),startPatternContainsATerm:!0,endsWith:r.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfClosingOuterConventionsWhileOpen:function(){return e.tryToOpenRawParentheticalBracketConvention()||e.tryToTokenizeTypographicalConvention()||e.addCurrentCharOrStreakOfWhitespaceToContentBuffer()},beforeClosingItAlwaysFlushesBufferTo:n.tokenRoleForStartAndDescription,whenClosingItAlsoClosesInnerConventions:!0,mustBeDirectlyFollowedBy:e.mediaUrlConventions})})}))},e.prototype.getMediaUrlConventions=function(){var e=this;return x.map(function(n){return new b.ConventionVariation({startsWith:a.ANY_OPTIONAL_WHITESPACE+e.startPatternForBracketedUrlAssumedToBeAUrl(n),endsWith:n.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfClosingOuterConventionsWhileOpen:function(){return e.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(){var n=e.settings.applySettingsToUrl(e.flushBufferedContent());e.appendNewToken(v.TokenRole.MediaEndAndUrl,n)}})})},e.prototype.getLinkUrlConventions=function(){var e=this,n=function(n){e.mostRecentToken.value=n};return d.concat(x.map(function(t){return[e.getConventionForBracketedUrl({bracket:t,whenClosing:n}),e.getConventionForBracketedUrlOffsetByWhitespace({bracket:t,whenClosing:n})]}))},e.prototype.getLinkifyingUrlConventions=function(){var e=this,n=[r.INLINE_REVEALABLE,r.FOOTNOTE].map(function(e){return e.endTokenRole});return d.concat(x.map(function(t){var r=[{bracket:t,canOnlyOpenIfDirectlyFollowing:n,whenClosing:function(n){return e.closeLinkifyingUrlForRichConventions(n)}},{bracket:t,canOnlyOpenIfDirectlyFollowing:[v.TokenRole.MediaEndAndUrl],whenClosing:function(n){return e.closeLinkifyingUrlForMediaConventions(n)}},{bracket:t,canOnlyOpenIfDirectlyFollowing:[v.TokenRole.ExampleUserInput],whenClosing:function(n){return e.closeLinkifyingUrlForExampleUserInputConvention(n)}}];return d.concat(r.map(function(n){return[e.getConventionForBracketedUrl(n),e.getConventionForBracketedUrlOffsetByWhitespace(n)]}))}))},e.prototype.getConventionForBracketedUrl=function(e){var n=this,t=e.bracket,r=e.canOnlyOpenIfDirectlyFollowing,o=e.whenClosing;return new b.ConventionVariation({canOnlyOpenIfDirectlyFollowing:r,startsWith:this.startPatternForBracketedUrlAssumedToBeAUrl(t),endsWith:t.endPattern,insteadOfClosingOuterConventionsWhileOpen:function(){return n.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(){var e=n.settings.applySettingsToUrl(n.flushBufferedContent());o(e)}})},e.prototype.startPatternForBracketedUrlAssumedToBeAUrl=function(e){return e.startPattern+i.notFollowedBy(a.ANY_OPTIONAL_WHITESPACE+i.anyCharMatching(e.endPattern,i.escapeForRegex(l.BACKSLASH)))},e.prototype.getConventionForBracketedUrlOffsetByWhitespace=function(e){var n=this,t=e.bracket,r=e.canOnlyOpenIfDirectlyFollowing,o=e.whenClosing;return new b.ConventionVariation({canOnlyOpenIfDirectlyFollowing:r,startsWith:a.WHITESPACE+t.startPattern+i.capture(i.either(W,B+i.either(a.FORWARD_SLASH,i.followedBy(t.endPattern)))),endsWith:t.endPattern,whenOpening:function(e,t,r){n.bufferedContent+=r},failsIfWhitespaceIsEnounteredBeforeClosing:!0,insteadOfClosingOuterConventionsWhileOpen:function(){return n.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(e){var t=n.settings.applySettingsToUrl(n.flushBufferedContent());n.probablyWasNotIntendedToBeAUrl(t)?n.backtrackToBeforeContext(e):o(t)}})},e.prototype.probablyWasNotIntendedToBeAUrl=function(e){return H.test(e)},e.prototype.closeLinkifyingUrlForRichConventions=function(e){var n=new y.Token(r.LINK.endTokenRole,e),t=new y.Token(r.LINK.startTokenRole);t.enclosesContentBetweenItselfAnd(n);var o=this.mostRecentToken;this.insertToken({token:n,atIndex:this.tokens.indexOf(o)});var i=o.correspondingEnclosingToken,a=this.tokens.indexOf(i)+1;this.insertToken({token:t,atIndex:a})},e.prototype.closeLinkifyingUrlForMediaConventions=function(e){var n=this.tokens.length-2;this.encloseWithinLink({startingBackAtTokenIndex:n,url:e})},e.prototype.closeLinkifyingUrlForExampleUserInputConvention=function(e){var n=this.tokens.length-1;this.encloseWithinLink({startingBackAtTokenIndex:n,url:e})},e.prototype.encloseWithinLink=function(e){var n=e.startingBackAtTokenIndex,t=e.url;this.encloseWithin({richConvention:r.LINK,startingBackAtTokenIndex:n}),d.last(this.tokens).value=t},e.prototype.getRawParentheticalBracketConventions=function(){var e=this;return x.map(function(n){return e.getRawBracketConvention(n)})},e.prototype.getRawCurlyBracketConvention=function(){return this.getRawBracketConvention(S)},e.prototype.getRawBracketConvention=function(e){var n=this;return new b.ConventionVariation({startsWith:e.startPattern,endsWith:e.endPattern,whenOpening:function(){n.bufferedContent+=e.open},whenClosing:function(){n.bufferedContent+=e.close},insteadOfFailingWhenLeftUnclosed:function(){}})},e.prototype.getInlineQuoteHandler=function(){var e=this;return new k.ForgivingConventionHandler({delimiterChar:'"',whenDelimitersEnclose:function(n){e.closeBareUrlContextIfOneIsOpen(),e.encloseWithin({richConvention:r.INLINE_QUOTE,startingBackAtTokenIndex:n})}})},e.prototype.getHighlightingHandler=function(){var e=this;return new k.ForgivingConventionHandler({delimiterChar:"=",minDelimiterLength:2,whenDelimitersEnclose:function(n){e.closeBareUrlContextIfOneIsOpen(),e.encloseWithin({richConvention:r.HIGHLIGHT,startingBackAtTokenIndex:n})}})},e.prototype.getHandlerForForgivingConventionPair=function(e){var n=this,t=e.delimiterChar,r=e.whenEnclosedWithinDoubleChars,o=e.whenEnclosedWithinSingleChars;return new k.ForgivingConventionHandler({delimiterChar:t,whenDelimitersEnclose:function(e,t){n.closeBareUrlContextIfOneIsOpen();var i=function(t){n.encloseWithin({richConvention:t,startingBackAtTokenIndex:e})};switch(t){case 1:return void i(o);case 2:return void i(r);default:return i(o),void i(r)}},isPerfectMatch:function(e,n){switch(n){case 1:case 2:return e===n||e>=3;default:return!1}}})},e.prototype.tokenize=function(){for(;this.bufferContentThatCanNeverServeAsDelimiter(),!this.isDone();){this.tryToEscapeCurrentChar()||this.tryToCloseAnyConvention()||this.performContextSpecificBehaviorInsteadOfTryingToOpenRegularConventions()||this.tryToOpenAnyConvention()||this.addCurrentCharOrStreakOfWhitespaceToContentBuffer()}},e.prototype.isDone=function(){return this.markupConsumer.done&&this.tryToResolveUnclosedContexts()},e.prototype.tryToResolveUnclosedContexts=function(){for(var e;e=this.openContexts.pop();)if(!e.doInsteadOfFailingWhenLeftUnclosed())return this.backtrackToBeforeContext(e),!1;this.flushNonEmptyBufferToTextToken();for(var n=0,t=this.forgivingConventionHandlers;n<t.length;n++){var r=t[n];this.treatUnusedForgivingStartDelimitersAsText(r)}return!0},e.prototype.treatUnusedForgivingStartDelimitersAsText=function(e){for(var n=0,t=e.unusedStartDelimiters;n<t.length;n++){var r=t[n];r.isUnused&&this.insertToken({token:new y.Token(v.TokenRole.Text,r.delimiterText),atIndex:r.tokenIndex})}},e.prototype.tryToEscapeCurrentChar=function(){return this.markupConsumer.currentChar===l.BACKSLASH&&(this.markupConsumer.index+=1,this.markupConsumer.done||this.addCurrentCharToContentBuffer(),!0)},e.prototype.bufferContentThatCanNeverServeAsDelimiter=function(){var e=this.openContexts.every(function(e){return!e.convention.isCutShortByWhitespace&&!e.convention.failsIfWhitespaceIsEnounteredBeforeClosing});do{this.buffer(V)}while(e&&this.tryToAddWhitespaceToContentBuffer())},e.prototype.tryToAddWhitespaceToContentBuffer=function(){var e=this.markupConsumer.remaining,n=K.exec(e);if(!n)return!1;var t=n[0],r=e[t.length];return!U.test(r)&&(this.bufferedContent+=t,this.markupConsumer.index+=t.length,!0)},e.prototype.tryToCloseAnyConvention=function(){for(var e=this.openContexts.length-1;e>=0;e--){var n=this.openContexts[e];if(this.shouldClose(n))return!!this.tryToCloseConventionWhoseEndDelimiterWeAlreadyFound({belongingToContextAtIndex:e})||(this.backtrackToBeforeContext(n),!1);if(n.convention.failsIfWhitespaceIsEnounteredBeforeClosing&&this.isCurrentCharWhitespace())return this.backtrackToBeforeContext(n),!0;if(n.doIsteadOfTryingToCloseOuterConventions())return!0}return this.tryToCloseAnyForgivingConventions()},e.prototype.shouldClose=function(e){var n=e.convention;return n.isCutShortByWhitespace&&this.isCurrentCharWhitespace()||n.endsWith&&null!=this.markupConsumer.consume(n.endsWith)},e.prototype.tryToCloseConventionWhoseEndDelimiterWeAlreadyFound=function(e){var n=e.belongingToContextAtIndex,t=this.openContexts[n],r=t.convention;return this.closeBareUrlContextIfOneIsOpen({withinContextAtIndex:n}),null!=r.beforeClosingItFlushesNonEmptyBufferTo&&this.flushNonEmptyBufferToToken(r.beforeClosingItFlushesNonEmptyBufferTo),null!=r.beforeClosingItAlwaysFlushesBufferTo&&this.flushBufferToToken(r.beforeClosingItAlwaysFlushesBufferTo),t.close(),this.openContexts.splice(n,1),r.whenClosingItAlsoClosesInnerConventions&&this.openContexts.splice(n),this.tryToOpenASubsequentRequiredConventionIfThereAreAny(t)},e.prototype.isCurrentCharWhitespace=function(){return s.WHITESPACE_CHAR_PATTERN.test(this.markupConsumer.currentChar)},e.prototype.tryToOpenASubsequentRequiredConventionIfThereAreAny=function(e){var n=this,t=e.convention.mustBeDirectlyFollowedBy;return!t||!!t.some(function(e){return n.tryToOpen(e)})&&(d.last(this.openContexts).snapshot=e.snapshot,!0)},e.prototype.tryToCloseAnyForgivingConventions=function(){var e=this;return!(this.justEnteredAConvention||!this.isPreviousCharacterNonwhitespace())&&this.forgivingConventionHandlers.some(function(n){var t=e.markupConsumer.consume(n.delimiterPattern);if(!t)return!1;var r=t.match;return!!n.tryToCloseAnyOpenStartDelimiters(r)||(e.markupConsumer.index-=r.length,!1)})},e.prototype.isPreviousCharacterNonwhitespace=function(){return s.NON_BLANK_PATTERN.test(this.markupConsumer.previousChar)},e.prototype.closeBareUrlContextIfOneIsOpen=function(e){for(var n=this.openContexts,t=e?e.withinContextAtIndex+1:0;t<n.length;t++)if(n[t].convention===this.bareUrlPathConvention)return this.appendBufferedUrlPathToCurrentBareUrl(),void this.openContexts.splice(t)},e.prototype.encloseContextWithinConvention=function(e,n){this.encloseWithin({richConvention:e,startingBackAtTokenIndex:n.startTokenIndex})},e.prototype.encloseWithin=function(e){var n=e.richConvention,t=e.startingBackAtTokenIndex;this.flushNonEmptyBufferToTextToken();var r=new y.Token(n.startTokenRole),o=new y.Token(n.endTokenRole);r.enclosesContentBetweenItselfAnd(o),this.insertToken({token:r,atIndex:t});for(var i=this.tokens.length,a=i-1;a>t;a--){var s=this.tokens[a];if(!(null!=s.correspondingEnclosingToken&&t>this.tokens.indexOf(s.correspondingEnclosingToken)))break;i-=1}this.insertToken({token:o,atIndex:i})},e.prototype.performContextSpecificBehaviorInsteadOfTryingToOpenRegularConventions=function(){return d.reversed(this.openContexts).some(function(e){return e.doInsteadOfTryingToOpenRegularConventions()})},e.prototype.tryToOpenAnyConvention=function(){var e=this;return this.conventionVariations.some(function(n){return e.tryToOpen(n)})||this.tryToTokenizeBareUrlSchemeAndHostname()||this.tryToOpenForgivingConventionOrTreatDelimiterAsText()||this.tryToTokenizeInlineCodeOrUnmatchedDelimiter()||this.tryToTokenizeTypographicalConvention()},e.prototype.tryToOpenForgivingConventionOrTreatDelimiterAsText=function(){var e=this,n=this.forgivingConventionHandlers.some(function(n){var t=e.markupConsumer.consume(n.delimiterPattern);if(!t)return!1;var r=t.match;return s.NON_BLANK_PATTERN.test(t.charAfterMatch)?(e.flushNonEmptyBufferToTextToken(),n.addStartDelimiter(r,e.tokens.length),!0):(e.bufferedContent+=r,!1)});return n&&this.indicateWeJustOpenedAConvention(),n},e.prototype.tryToTokenizeInlineCodeOrUnmatchedDelimiter=function(){var e=this;return c.tryToTokenizeInlineCode({markup:this.markupConsumer.remaining,then:function(n,t){e.flushNonEmptyBufferToTextToken(),e.appendToken(n),e.markupConsumer.index+=t}})},e.prototype.tryToTokenizeTypographicalConvention=function(){return this.tryToTokenizeEnOrEmDash()||this.tryToTokenizePlusMinusSign()||this.tryToTokenizeEllipsis()},e.prototype.tryToTokenizeEnOrEmDash=function(){var e=this.markupConsumer.consume(E);if(!e)return!1;var n=e.match;return this.bufferedContent+=n.length>=3?p.repeat("—",Math.floor(n.length/3)):"–",!0},e.prototype.tryToTokenizePlusMinusSign=function(){return this.tryToTokenizeSimpleTypographicalConvention(_,"±")},e.prototype.tryToTokenizeEllipsis=function(){return this.tryToTokenizeSimpleTypographicalConvention(N,this.settings.fancyEllipsis)},e.prototype.tryToTokenizeSimpleTypographicalConvention=function(e,n){return!!this.markupConsumer.consume(e)&&(this.bufferedContent+=n,!0)},e.prototype.appendToken=function(e){this.tokens.push(e),this.mostRecentToken=e},e.prototype.addCurrentCharOrStreakOfWhitespaceToContentBuffer=function(){s.WHITESPACE_CHAR_PATTERN.test(this.markupConsumer.currentChar)?this.buffer(K):this.addCurrentCharToContentBuffer()},e.prototype.buffer=function(e){var n=this.markupConsumer.consume(e);n&&(this.bufferedContent+=n.match)},e.prototype.addCurrentCharToContentBuffer=function(){this.bufferedContent+=this.markupConsumer.currentChar,this.markupConsumer.index+=1},e.prototype.tryToOpen=function(e){var n=e.startsWith,t=e.flushesBufferToTextTokenBeforeOpening,r=e.whenOpening;if(!this.canTry(e))return!1;var o=this.markupConsumer.index,i=this.markupConsumer.consume(n);return!!i&&(t&&this.flushNonEmptyBufferToTextToken(),this.openContexts.push(new m.ConventionContext(e,this.getSnapshot(o))),r&&r.apply(void 0,[i.match,i.charAfterMatch].concat(i.captures)),this.indicateWeJustOpenedAConvention(),!0)},e.prototype.getSnapshot=function(e){return{markupIndex:e,markupIndexWeLastOpenedAConvention:this.markupIndexWeLastOpenedAConvention,tokens:this.tokens.slice(),openContexts:this.openContexts.map(function(e){return e.clone()}),forgivingConventionHandlers:this.forgivingConventionHandlers.map(function(e){return e.clone()}),bufferedContent:this.bufferedContent}},e.prototype.canTry=function(e){var n=this,t=this.markupConsumer.index,r=e.mustBeDirectlyFollowedBy;if(r&&r.some(function(e){return n.backtrackedConventionHelper.hasFailed(e,t)}))return!1;var o=e.canOnlyOpenIfDirectlyFollowing;return!this.backtrackedConventionHelper.hasFailed(e,t)&&(!o||this.isDirectlyFollowing(o))},e.prototype.isDirectlyFollowing=function(e){var n=this;return!this.bufferedContent&&this.mostRecentToken&&e.some(function(e){return n.mostRecentToken.role===e})},e.prototype.backtrackToBeforeContext=function(e){this.backtrackedConventionHelper.registerFailure(e);var n=e.snapshot;this.tokens=n.tokens,this.bufferedContent=n.bufferedContent,this.markupConsumer.index=n.markupIndex,this.markupIndexWeLastOpenedAConvention=n.markupIndexWeLastOpenedAConvention,this.openContexts=n.openContexts,this.forgivingConventionHandlers=n.forgivingConventionHandlers},e.prototype.appendNewToken=function(e,n){this.appendToken(new y.Token(e,n))},e.prototype.appendBufferedUrlPathToCurrentBareUrl=function(){if(this.mostRecentToken.role!==v.TokenRole.BareUrl)throw new Error("Most recent token is not a bare URL token");this.mostRecentToken.value+=this.flushBufferedContent()},e.prototype.flushBufferedContent=function(){var e=this.bufferedContent;return this.bufferedContent="",e},e.prototype.flushNonEmptyBufferToToken=function(e){this.bufferedContent&&this.appendNewToken(e,this.flushBufferedContent())},e.prototype.flushBufferToToken=function(e){this.appendNewToken(e,this.flushBufferedContent())},e.prototype.insertToken=function(e){var n=e.token,t=e.atIndex;this.tokens.splice(t,0,n);for(var r=0,o=this.openContexts;r<o.length;r++){o[r].registerTokenInsertion(t)}for(var i=0,a=this.forgivingConventionHandlers;i<a.length;i++){a[i].registerTokenInsertion(t)}this.mostRecentToken=n},e.prototype.flushNonEmptyBufferToTextToken=function(){this.flushNonEmptyBufferToToken(v.TokenRole.Text)},e.prototype.handleTextAwareOfRawBrackets=function(){this.tryToOpenRawParentheticalBracketConvention()||this.addCurrentCharOrStreakOfWhitespaceToContentBuffer()},e.prototype.tryToOpenRawParentheticalBracketConvention=function(){var e=this;return this.rawParentheticalBracketConventions.some(function(n){return e.tryToOpen(n)})},e}();function O(e,n){return n.startPattern+i.either.apply(void 0,e.map(i.escapeForRegex))+":"+a.ANY_OPTIONAL_WHITESPACE}var I=i.escapeForRegex("."),A=i.escapeForRegex("-"),M=i.escapeForRegex("+"),N=i.patternStartingWith(i.multiple(I)),E=i.patternStartingWith(i.multiple(A)),_=i.patternStartingWith(M+A),R=i.anyCharMatching(a.LETTER_CLASS,a.DIGIT)+i.everyOptional(i.anyCharMatching(a.LETTER_CLASS,a.DIGIT,A))+I,P=i.oneOrMore(a.LETTER_CHAR),B=i.oneOrMore(R)+P,W=i.either(a.URL_SCHEME,a.FORWARD_SLASH,a.HASH_MARK),H=i.solely(W),D="http"+i.optional("s")+"://",F=i.patternStartingWith(D+i.everyOptional(R)+P),U=i.patternStartingWith(i.anyCharMatching.apply(void 0,x.map(function(e){return e.startPattern}))),j=[C,T,S],z=j.map(function(e){return e.startPattern}),G=j.map(function(e){return e.endPattern}),q=[a.WHITESPACE_CHAR,a.FORWARD_SLASH,A,I,M,"h",'"',"_","=","`"].concat(z,G,[l.BACKSLASH,"*"].map(i.escapeForRegex)),V=i.patternStartingWith(i.oneOrMore(i.either(i.anyCharNotMatching.apply(void 0,q),"h"+i.notFollowedBy("ttp"+i.optional("s")+"://"),I+i.notFollowedBy(I),A+i.notFollowedBy(A),M+i.notFollowedBy(A)))),K=i.patternStartingWith(a.WHITESPACE)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),o=t(17),i=t(53),a=t(10),s=t(54);function l(e){return p.test(e)&&(e=e.slice(1)),h.test(e)&&(e=e.slice(0,-1)),e}n.tryToTokenizeInlineCode=function(e){var n=e.markup,t=e.then,r=new i.TextConsumer(n),d=r.consume(u);if(!d)return!1;var p=d.match,h="";e:for(;!r.done;){for(;r.currentChar!==c;){if(r.currentChar===o.BACKSLASH&&(r.index+=1),r.done)break e;h+=r.currentChar,r.index+=1}var f=r.consume(u).match;if(p===f)return t(new s.Token(a.TokenRole.InlineCode,l(h)),r.index),!0;h+=f}return t(new s.Token(a.TokenRole.Text,p),p.length),!0};var c="`",u=r.patternStartingWith(r.oneOrMore(c)),d=r.oneOrMore(" "),p=r.patternStartingWith(d+c),h=r.patternEndingWith(c+d)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(30);n.nestOverlappingConventions=function(e){return new a(e).tokens};var o=[r.EMPHASIS,r.STRESS,r.ITALIC,r.BOLD,r.HIGHLIGHT,r.NORMAL_PARENTHETICAL,r.SQUARE_PARENTHETICAL],i=[r.LINK,r.INLINE_REVEALABLE,r.INLINE_QUOTE,r.FOOTNOTE],a=function(){function e(e){this.tokens=e,this.tokens=e.slice();var n=o.slice();this.splitConventionsThatStartInsideAnotherConventionAndEndAfter(n);for(var t=0,r=i;t<r.length;t++){var a=r[t];this.resolveOverlapping(n,a),n.push(a)}}return e.prototype.splitConventionsThatStartInsideAnotherConventionAndEndAfter=function(e){for(var n=[],t=0;t<this.tokens.length;t++){var r=this.tokens[t];if(s(r,e))n.push(r);else if(l(r,e)){for(var o=r,i=[],a=n.length-1;a>=0;a--){var c=n[a];if(c.correspondingEnclosingToken.role===o.role){n.splice(a,1);break}i.push(c.correspondingEnclosingToken)}this.closeAndReopenConventionsAroundTokenAtIndex(t,i),t+=2*i.length}}},e.prototype.resolveOverlapping=function(e,n){for(var t=0;t<this.tokens.length;t++){var r=this.tokens[t];if(r.role===n.startTokenRole)for(var o=t,i=o+1;i<this.tokens.length;i++){if(this.tokens[i]===r.correspondingEnclosingToken){for(var a=i,c=[],u=[],d=o+1;d<a;d++){var p=this.tokens[d];if(s(p,e))u.unshift(p.correspondingEnclosingToken);else if(l(p,e)){if(u.length){u.shift();continue}c.push(p)}}this.closeAndReopenConventionsAroundTokenAtIndex(a,u),this.closeAndReopenConventionsAroundTokenAtIndex(o,c);break}}}},e.prototype.closeAndReopenConventionsAroundTokenAtIndex=function(e,n){for(var t=this.tokens,r=0,o=n;r<o.length;r++){var i=o[r],a=i.correspondingEnclosingToken,s=e-1;t[s]===a?(t.splice(s,1),e-=1):(t.splice(e,0,i),e+=1);var l=e+1;t[l]===i?t.splice(l,1):t.splice(l,0,a)}},e}();function s(e,n){return n.some(function(n){return e.role===n.startTokenRole})}function l(e,n){return n.some(function(n){return e.role===n.endTokenRole})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),o=function(e,n){this.open=e,this.close=n,this.startPattern=r.escapeForRegex(e),this.endPattern=r.escapeForRegex(n)};n.Bracket=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.failedConventionsByMarkupIndex={}}return e.prototype.registerFailure=function(e){var n=e.convention,t=e.snapshot.markupIndex;this.failedConventionsByMarkupIndex[t]||(this.failedConventionsByMarkupIndex[t]=[]),this.failedConventionsByMarkupIndex[t].push(n)},e.prototype.hasFailed=function(e,n){return(this.failedConventionsByMarkupIndex[n]||[]).some(function(n){return n===e})},e}();n.BacktrackedConventionHelper=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n,t){void 0===t&&(t=n.tokens.length),this.convention=e,this.snapshot=n,this.startTokenIndex=t}return e.prototype.doIsteadOfTryingToCloseOuterConventions=function(){return!!this.convention.insteadOfClosingOuterConventionsWhileOpen&&(this.convention.insteadOfClosingOuterConventionsWhileOpen(this),!0)},e.prototype.doInsteadOfTryingToOpenRegularConventions=function(){return!!this.convention.insteadOfOpeningRegularConventionsWhileOpen&&(this.convention.insteadOfOpeningRegularConventionsWhileOpen(this),!0)},e.prototype.doInsteadOfFailingWhenLeftUnclosed=function(){return!!this.convention.insteadOfFailingWhenLeftUnclosed&&(this.convention.insteadOfFailingWhenLeftUnclosed(this),!0)},e.prototype.close=function(){this.convention.whenClosing&&this.convention.whenClosing(this)},e.prototype.registerTokenInsertion=function(e){e<this.startTokenIndex&&(this.startTokenIndex+=1)},e.prototype.clone=function(){return new e(this.convention,this.snapshot,this.startTokenIndex)},e}();n.ConventionContext=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),o=function(e){var n=e.startsWith,t=e.endsWith;this.startsWith=e.startPatternContainsATerm?r.patternIgnoringCapitalizationAndStartingWith(n):r.patternStartingWith(n),t&&(this.endsWith=r.patternStartingWith(t)),this.canOnlyOpenIfDirectlyFollowing=e.canOnlyOpenIfDirectlyFollowing,this.isCutShortByWhitespace=e.isCutShortByWhitespace,this.canConsistSolelyOfWhitespace=e.canConsistSolelyOfWhitespace,this.flushesBufferToTextTokenBeforeOpening=e.beforeOpeningItFlushesNonEmptyBufferToTextToken,this.whenOpening=e.whenOpening,this.insteadOfClosingOuterConventionsWhileOpen=e.insteadOfClosingOuterConventionsWhileOpen,this.insteadOfOpeningRegularConventionsWhileOpen=e.insteadOfOpeningRegularConventionsWhileOpen,this.failsIfWhitespaceIsEnounteredBeforeClosing=e.failsIfWhitespaceIsEnounteredBeforeClosing,this.beforeClosingItFlushesNonEmptyBufferTo=e.beforeClosingItFlushesNonEmptyBufferTo,this.beforeClosingItAlwaysFlushesBufferTo=e.beforeClosingItAlwaysFlushesBufferTo,this.whenClosingItAlsoClosesInnerConventions=e.whenClosingItAlsoClosesInnerConventions,this.mustBeDirectlyFollowedBy=e.mustBeDirectlyFollowedBy,this.whenClosing=e.whenClosing,this.insteadOfFailingWhenLeftUnclosed=e.insteadOfFailingWhenLeftUnclosed};n.ConventionVariation=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(84),o=t(0),i=function(){function e(e){this.options=e,this.startDelimiters=[];var n=o.escapeForRegex(e.delimiterChar),t=e.minDelimiterLength||1;this.delimiterPattern=o.patternStartingWith(o.atLeast(t,n))}return Object.defineProperty(e.prototype,"unusedStartDelimiters",{get:function(){return this.startDelimiters.filter(function(e){return e.isUnused})},enumerable:!0,configurable:!0}),e.prototype.addStartDelimiter=function(e,n){this.startDelimiters.unshift(new r.StartDelimiter(n,e))},e.prototype.tryToCloseAnyOpenStartDelimiters=function(e){if(!this.openStartDelimiters.length)return!1;var n=this.options,t=e.length,r=n.isPerfectMatch;if(r){var o=function(e,n){for(var t=0,r=e;t<r.length;t++){var o=r[t];if(n(o))return o}return}(this.openStartDelimiters,function(e){return r(e.remainingLength,t)});if(o){var i=Math.min(o.remainingLength,t);return n.whenDelimitersEnclose(o.tokenIndex,i),o.shortenBy(i),!0}}for(var a=0,s=this.openStartDelimiters;a<s.length;a++){var l=s[a];if(!t)return!0;i=Math.min(l.remainingLength,t);n.whenDelimitersEnclose(l.tokenIndex,i),l.shortenBy(i),t-=i}return!0},e.prototype.registerTokenInsertion=function(e){for(var n=0,t=this.openStartDelimiters;n<t.length;n++){var r=t[n];e<r.tokenIndex&&(r.tokenIndex+=1)}},e.prototype.clone=function(){var n=new e(this.options);return n.startDelimiters=this.startDelimiters.map(function(e){return e.clone()}),n},Object.defineProperty(e.prototype,"openStartDelimiters",{get:function(){return this.startDelimiters.filter(function(e){return!e.isFullyExhausted})},enumerable:!0,configurable:!0}),e}();n.ForgivingConventionHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n,t){void 0===t&&(t=n.length),this.tokenIndex=e,this.delimiterText=n,this.remainingLength=t}return Object.defineProperty(e.prototype,"isUnused",{get:function(){return this.remainingLength===this.delimiterText.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFullyExhausted",{get:function(){return this.remainingLength<=0},enumerable:!0,configurable:!0}),e.prototype.shortenBy=function(e){this.remainingLength-=e},e.prototype.clone=function(){return new e(this.tokenIndex,this.delimiterText,this.remainingLength)},e}();n.StartDelimiter=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=t(17);n.trimEscapedAndUnescapedOuterWhitespace=function(e){for(;;){var n=(e=e.trim()).length;e[0]===o.BACKSLASH&&(1===e.length||r.WHITESPACE_CHAR_PATTERN.test(e[1]))&&(e=e.slice(2));var t=e[n-2];if(e[n-1]===o.BACKSLASH&&t!==o.BACKSLASH&&(e=e.slice(0,-1)),e.length===n)return e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(30),o=t(49),i=t(33),a=t(55),s=t(1),l=t(10),c=t(56),u=t(57),d=t(21),p=t(16),h=t(2);function f(e){for(var n=[],t=0,r=e;t<r.length;t++){var o=r[t],a=s.last(n);o instanceof i.Text&&a instanceof i.Text?a.text+=o.text:n.push(o)}return n}n.parse=function(e){return function e(n){var t=n.tokens,s=n.until;var m=0;var g=[];function v(){return m+1}function y(n){var r=e({tokens:t.slice(v()),until:n.fromHereUntil});return m+=r.countTokensParsed,r.nodes}e:for(;m<t.length;m++){var b=t[m],k=b.value;switch(b.role){case s:break e;case l.TokenRole.Text:g.push(new i.Text(k));continue;case l.TokenRole.InlineCode:g.push(new c.InlineCode(k));continue;case l.TokenRole.ExampleUserInput:g.push(new u.ExampleUserInput(k));continue;case l.TokenRole.SectionLink:g.push(new d.SectionLink(k));continue;case l.TokenRole.BareUrl:var w=k,C=h.URL_SCHEME_PATTERN.exec(w)[0],T=w.substr(C.length);g.push(new r.LINK.SyntaxNodeType([new i.Text(T)],w));continue;case r.LINK.startTokenRole:var x=y({fromHereUntil:l.TokenRole.LinkEndAndUrl});w=t[m].value.trim();x.every(a.isWhitespace)&&(x=[new i.Text(w)]),g.push(new p.Link(x,w));continue}for(var S=0,L=[o.AUDIO,o.IMAGE,o.VIDEO];S<L.length;S++){var O=L[S];if(b.role===O.tokenRoleForStartAndDescription){var I=k.trim();w=t[++m].value.trim();g.push(new O.SyntaxNodeType(I||w,w));continue e}}for(var A=0,M=[r.EMPHASIS,r.STRESS,r.ITALIC,r.BOLD,r.HIGHLIGHT,r.INLINE_REVEALABLE,r.FOOTNOTE,r.NORMAL_PARENTHETICAL,r.SQUARE_PARENTHETICAL,r.INLINE_QUOTE];A<M.length;A++){var N=M[A];if(b.role===N.startTokenRole){x=y({fromHereUntil:N.endTokenRole});g.push(new N.SyntaxNodeType(x));continue e}}throw new Error("Unrecognized token: "+l.TokenRole[b.role])}return{nodes:f(g),countTokensParsed:v()}}({tokens:e}).nodes}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(15),i=t(2);n.tryToParseBlankLineSeparation=function(e){for(var n=new r.LineConsumer(e.markupLines),t=0;n.consumeLineIfMatches(i.BLANK_PATTERN);)t+=1;return!!t&&(e.then(t>=3?[new o.ThematicBreak]:[],n.countLinesConsumed),!0)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(22),i=t(9),a=t(8),s=t(34),l=t(2),c=t(18);n.tryToParseDescriptionList=function(e){for(var n=new r.LineConsumer(e.markupLines),t=[],u=0;!n.done;){for(var d=[];!n.done;){var p=n.consumeLineIfMatches(l.NON_BLANK_PATTERN,{andIf:function(n){return!l.INDENTED_PATTERN.test(n.line)&&!s.isLineFancyOutlineConvention(n.line,e.settings)}});if(!p)break;d.push(p.line)}if(!d.length)break;n.consumeLineIfMatches(l.BLANK_PATTERN);var h=e.sourceLineNumber+n.countLinesConsumed,f=n.consumeLineIfMatches(l.INDENTED_PATTERN,{andIf:function(e){return!l.BLANK_PATTERN.test(e.line)}});if(!f)break;var m=[f.line.replace(l.INDENTED_PATTERN,"")],g=c.getIndentedBlock(n.remaining()),v=!1;g&&(m.push.apply(m,g.lines),n.skipLines(g.countLinesConsumed),v=g.hasMultipleTrailingBlankLines),u=n.countLinesConsumed;var y=d.map(function(n){return new o.DescriptionList.Item.Subject(i.getInlineSyntaxNodes(n,e.settings))}),b=new o.DescriptionList.Item.Description(a.getOutlineSyntaxNodes({markupLines:m,sourceLineNumber:h,headingLeveler:e.headingLeveler,settings:e.settings}));if(t.push(new o.DescriptionList.Item(y,b)),v)break}return!!t.length&&(e.then([new o.DescriptionList(t)],u),!0)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(14),i=t(0),a=t(2),s=t(5),l=t(9),c=t(90);n.tryToParseTable=function(e){var n=new r.LineConsumer(e.markupLines),t=e.settings,p=i.solelyAndIgnoringCapitalization(i.either.apply(void 0,t.keywords.table.map(i.escapeForRegex))+i.optional(":"+i.capture(s.REST_OF_TEXT))),h=n.consumeLineIfMatches(p);if(!h)return!1;var f=h.captures[0],m=f?f.trim():"";n.consumeLineIfMatches(a.BLANK_PATTERN);var g=n.consumeLineIfMatches(a.NON_BLANK_PATTERN);if(!g)return!1;var v=a.INDENTED_PATTERN.test(g.line),y=c.getTableCells(g.line,t).map(u);v&&y.unshift(new o.Table.Header.Cell([]));var b=new o.Table.Header(y),k=m?new o.Table.Caption(l.getInlineSyntaxNodes(m,t)):void 0,w=[],C=n.countLinesConsumed;for(n.consumeLineIfMatches(a.BLANK_PATTERN);;){var T=n.consumeLineIfMatches(a.NON_BLANK_PATTERN);if(!T)break;var x=c.getTableCells(T.line,t),S=v?u(x.shift()):void 0;w.push(new o.Table.Row(x.map(d),S)),C=n.countLinesConsumed}return e.then([new o.Table(b,w,k)],C),!0};var u=function(e){return new o.Table.Header.Cell(e.children,e.countColumnsSpanned)},d=function(e){return new o.Table.Row.Cell(e.children,e.countColumnsSpanned)}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(14),a=t(0),s=t(9),l=t(1),c=t(17),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n}(i.Table.Cell);n.TableCell=u,n.getTableCells=function(e,n){e=e.trim();var t=[],r=0,o=0;function i(i){var a=e.slice(r,o),l=s.getInlineSyntaxNodes(a.trim(),n);t.push(new u(l,i.countColumnsSpanned))}for(;o<e.length;o++){if(e[o]!==c.BACKSLASH){var a=p.exec(e.slice(o));if(a){var h=a[0];i({countColumnsSpanned:h.length}),r=o+h.length,o+=h.length-1}}else o++}var f=l.last(t);return(r<e.length||1===f.countColumnsSpanned&&e!==d)&&i({countColumnsSpanned:1}),t};var d=";",p=a.patternStartingWith(a.oneOrMore(d))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(24),i=t(8),a=t(18),s=t(0);n.tryToParseRevealableBlock=function(e){var n=new r.LineConsumer(e.markupLines),t=e.settings.keywords,l=s.solelyAndIgnoringCapitalization(s.either.apply(void 0,t.revealable.map(s.escapeForRegex))+s.optional(":"));if(!n.consumeLineIfMatches(l))return!1;var c=a.getIndentedBlock(n.remaining()),u=[];if(c&&(u.push.apply(u,c.lines),n.skipLines(c.countLinesConsumed)),!u.length)return!1;var d=i.getOutlineSyntaxNodes({markupLines:u,sourceLineNumber:e.sourceLineNumber+1,headingLeveler:e.headingLeveler,settings:e.settings});return e.then([new o.RevealableBlock(d)],n.countLinesConsumed),!0}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3),o=t(64),i=t(26),a=t(9),s=t(2),l=t(34),c=t(93);function u(e,n){var t;switch(void 0===n&&(n=[]),e.length){case 0:t=[];break;case 1:t=[new o.Paragraph(e[0])];break;default:var r=e.map(function(e){return new i.LineBlock.Line(e)});t=[new i.LineBlock(r)]}return t.concat(n)}n.parseParagraphOrLineBlock=function(e){for(var n=new r.LineConsumer(e.markupLines),t=[],o=!0,i=function(){var r=n.consumeLineIfMatches(s.NON_BLANK_PATTERN,{andIf:function(n){return o||!l.isLineFancyOutlineConvention(n.line,e.settings)}});if(!r)return"break";o=!1;var i=a.getInlineSyntaxNodes(r.line,e.settings);if(!i.length)return"continue";var d=[];if(c.tryToPromoteMediaToOutline({inlineSyntaxNodes:i,then:function(e){d=e}}),d.length)return e.then(u(t,d),n.countLinesConsumed),{value:void 0};t.push(i)};!n.done;){var d=i();if("object"==typeof d)return d.value;if("break"===d)break}e.then(u(t),n.countLinesConsumed)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(55),o=t(16),i=t(11);n.tryToPromoteMediaToOutline=function e(n){for(var t=n.inlineSyntaxNodes,a=n.then,s=[],l=function(n){return n instanceof i.MediaSyntaxNode?(s.push(n),"continue"):n instanceof o.Link?e({inlineSyntaxNodes:n.children,then:function(e){s.push(new o.Link(e,n.url))}})?"continue":{value:!1}:r.isWhitespace(n)?void 0:{value:!1}},c=0,u=t;c<u.length;c++){var d=l(u[c]);if("object"==typeof d)return d.value}return!!s.length&&(a(s),!0)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(65),o=t(9);n.parseInline=function(e,n){var t=o.getInlineSyntaxNodesForInlineDocument(e,n);return new r.InlineDocument(t)}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var i=t(35),a=t(96),s=t(97),l=t(66),c=t(0),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.document=function(e){return this.anyDocument(e)},n.prototype.inlineDocument=function(e){return this.anyDocument(e)},n.prototype.tableOfContents=function(e){var n=this;return this.reset({isInsideTableOfContents:!0}),this.renderAll(e.entries.map(function(e){return n.tableOfContentsEntry(e)}))},n.prototype.blockquote=function(e){return this.htmlElement("blockquote",e.children,d(e))},n.prototype.bulletedList=function(e){var n=this;return s.htmlElementWithAlreadyEscapedChildren("ul",e.items.map(function(e){return n.bulletedListItem(e)}),d(e))},n.prototype.numberedList=function(e){var n=this,t={},r=e.start();return null!=r&&(t.start=r),e.order()===i.NumberedList.Order.Descending&&(t.reversed=s.EMPTY_ATTRBUTE_VALUE),s.htmlElementWithAlreadyEscapedChildren("ol",e.items.map(function(e){return n.numberedListItem(e)}),d(e,t))},n.prototype.descriptionList=function(e){var n=this;return s.htmlElementWithAlreadyEscapedChildren("dl",e.items.map(function(e){return n.descriptionListItem(e)}),d(e))},n.prototype.lineBlock=function(e){var n=this,t=d(e,{class:p("lines")});return s.htmlElementWithAlreadyEscapedChildren("div",e.lines.map(function(e){return n.line(e)}),t)},n.prototype.codeBlock=function(e){return s.htmlElementWithAlreadyEscapedChildren("pre",[s.htmlElement("code",e.code)],d(e))},n.prototype.paragraph=function(e){return this.htmlElement("p",e.children,d(e))},n.prototype.heading=function(e){var n=d(e);return e.ordinalInTableOfContents&&(n.id=this.htmlIdOfActualEntryInDocument(e)),e.level<=6?this.htmlElement("h"+e.level,e.children,n):(n.role="heading",n["aria-level"]=e.level,this.htmlElement("div",e.children,n))},n.prototype.thematicBreak=function(e){return s.singleTagHtmlElement("hr",d(e))},n.prototype.emphasis=function(e){return this.htmlElement("em",e.children)},n.prototype.stress=function(e){return this.htmlElement("strong",e.children)},n.prototype.italic=function(e){return this.htmlElement("i",e.children)},n.prototype.bold=function(e){return this.htmlElement("b",e.children)},n.prototype.inlineCode=function(e){return s.htmlElement("code",e.code,{class:p("inline-code")})},n.prototype.exampleUserInput=function(e){return s.htmlElement("kbd",e.userInput)},n.prototype.sectionLink=function(e){var n=e.entry;return(n?this.linkToActualEntryInDocument(n):new i.Italic([new i.Text(e.markupSnippetFromSectionTitle)])).render(this)},n.prototype.normalParenthetical=function(e){return this.parenthetical(e,"parentheses")},n.prototype.squareParenthetical=function(e){return this.parenthetical(e,"square-brackets")},n.prototype.highlight=function(e){return this.htmlElement("mark",e.children)},n.prototype.inlineQuote=function(e){return this.htmlElement("q",e.children)},n.prototype.inlineRevealable=function(e){return this.revealable({revealableSyntaxNode:e,tagNameForGenericContainer:"span"})},n.prototype.revealableBlock=function(e){return this.revealable({revealableSyntaxNode:e,tagNameForGenericContainer:"div",attrsForOuterContainer:d(e)})},n.prototype.referenceToFootnote=function(e){return this.isInsideTableOfContents?"":this.htmlElement("sup",[this.footnoteReferenceInnerLink(e)],{id:this.footnoteReferenceHtmlId(e.referenceNumber),class:p("footnote-reference")})},n.prototype.footnoteBlock=function(e){var n=this,t=d(e,{class:p("footnotes")});return s.htmlElementWithAlreadyEscapedChildren("dl",e.footnotes.map(function(e){return n.footnoteInFootnoteBlock(e)}),t)},n.prototype.table=function(e){var n=this;return s.htmlElementWithAlreadyEscapedChildren("table",[this.tableCaption(e.caption),this.tableHeader(e.header),e.rows.map(function(e){return n.tableRow(e)}).join("")],d(e))},n.prototype.link=function(e){if(this.isInsideLink||!this.isUrlAllowed(e.url))return this.renderAll(e.children);this.isInsideLink=!0;var n=this.htmlElement("a",e.children,d(e,{href:e.url}));return this.isInsideLink=!1,n},n.prototype.image=function(e){return this.isUrlAllowed(e.url)?s.singleTagHtmlElement("img",d(e,{src:e.url,alt:e.description,title:e.description})):""},n.prototype.audio=function(e){return this.playableMediaElement(e,"audio")},n.prototype.video=function(e){return this.playableMediaElement(e,"video")},n.prototype.text=function(e){return l.escapeHtmlContent(e.text)},n.prototype.anyDocument=function(e){return this.reset(),this.renderAll(e.children)},n.prototype.tableOfContentsEntry=function(e){return new i.Heading([this.linkToActualEntryInDocument(e)],{level:e.level,titleMarkup:e.titleMarkup,sourceLineNumber:e.sourceLineNumber})},n.prototype.linkToActualEntryInDocument=function(e){return new i.Link(e.children,h(this.htmlIdOfActualEntryInDocument(e)))},n.prototype.parenthetical=function(e,n){return this.htmlElement("small",e.children,{class:p(n)})},n.prototype.bulletedListItem=function(e){return this.htmlElement("li",e.children)},n.prototype.numberedListItem=function(e){var n={};return null!=e.ordinal&&(n.value=e.ordinal),this.htmlElement("li",e.children,n)},n.prototype.descriptionListItem=function(e){var n=this;return e.subjects.map(function(e){return n.subject(e)}).join("")+this.description(e.description)},n.prototype.subject=function(e){return this.htmlElement("dt",e.children)},n.prototype.description=function(e){return this.htmlElement("dd",e.children)},n.prototype.line=function(e){return this.htmlElement("div",e.children)},n.prototype.footnoteReferenceInnerLink=function(e){var n=e.referenceNumber;return new i.Link([new i.Text(n.toString())],h(this.footnoteHtmlId(n)))},n.prototype.footnoteInFootnoteBlock=function(e){return this.htmlElement("dt",[this.footnoteLinkBackToReference(e)],{id:this.footnoteHtmlId(e.referenceNumber)})+this.htmlElement("dd",e.children)},n.prototype.footnoteLinkBackToReference=function(e){var n=e.referenceNumber;return new i.Link([new i.Text(n.toString())],h(this.footnoteReferenceHtmlId(n)))},n.prototype.playableMediaElement=function(e,n){var t=e.url,r=e.description;return this.isUrlAllowed(t)?this.htmlElement(n,[this.playableMediaFallback(r,t)],d(e,{src:t,title:r,controls:s.EMPTY_ATTRBUTE_VALUE})):""},n.prototype.playableMediaFallback=function(e,n){return new i.Link([new i.Text(e)],n)},n.prototype.revealable=function(e){var n=this,t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.isInsideTableOfContents&&e.unshift("toc"),n.idFor.apply(n,e)},r=++this.revealableContentCount,o=t("revealable",r),i=t("hide","button",r),a=t("reveal","button",r),l=s.singleTagHtmlElement("input",{type:"radio",id:i,name:o,class:p("hide"),checked:s.EMPTY_ATTRBUTE_VALUE}),c=s.singleTagHtmlElement("input",{type:"radio",id:a,name:o,class:p("reveal")}),u=function(e,n){return s.htmlElement("label",n,{for:e,role:"button",tabindex:0})},d=this.settings.terms,h=u(i,d.hide),f=u(a,d.reveal),m=this.htmlElement(e.tagNameForGenericContainer,e.revealableSyntaxNode.children,{role:"alert"}),g=e.attrsForOuterContainer||{};return g.class=p("revealable"),s.htmlElementWithAlreadyEscapedChildren(e.tagNameForGenericContainer,[l,h,c,f,m],g)},n.prototype.tableCaption=function(e){return e?s.htmlElementWithAlreadyEscapedChildren("caption",this.renderEach(e.children)):""},n.prototype.tableHeader=function(e){var n=this,t=s.htmlElementWithAlreadyEscapedChildren("tr",e.cells.map(function(e){return n.tableHeaderCell(e,"col")}));return s.htmlElementWithAlreadyEscapedChildren("thead",[t])},n.prototype.tableHeaderCell=function(e,n){return this.tableCell("th",e,{scope:n})},n.prototype.tableRow=function(e){var n=this,t=e.cells.map(function(e){return n.tableRowCell(e)});return e.headerColumnCell&&t.unshift(this.tableHeaderCell(e.headerColumnCell,"row")),s.htmlElementWithAlreadyEscapedChildren("tr",t)},n.prototype.tableRowCell=function(e){return this.tableCell("td",e)},n.prototype.tableCell=function(e,n,t){return void 0===t&&(t={}),n.isNumeric()&&(t.class=p("numeric")),n.countColumnsSpanned>1&&(t.colspan=n.countColumnsSpanned),s.htmlElementWithAlreadyEscapedChildren(e,this.renderEach(n.children),t)},n.prototype.htmlElement=function(e,n,t){return void 0===t&&(t={}),s.htmlElementWithAlreadyEscapedChildren(e,this.renderEach(n),t)},n.prototype.htmlIdOfActualEntryInDocument=function(e){return this.idFor(this.settings.terms.sectionReferencedByTableOfContents,e.ordinalInTableOfContents)},n.prototype.footnoteHtmlId=function(e){return this.idFor(this.settings.terms.footnote,e)},n.prototype.footnoteReferenceHtmlId=function(e){return this.idFor(this.settings.terms.footnoteReference,e)},n.prototype.isUrlAllowed=function(e){return this.settings.renderDangerousContent||!f.test(e)},n.prototype.reset=function(e){this.revealableContentCount=0,this.isInsideLink=!1,this.isInsideTableOfContents=null!=e&&e.isInsideTableOfContents},n}(a.Renderer);function d(e,n){return void 0===n&&(n={}),e.sourceLineNumber&&(n["data-up-source-line"]=e.sourceLineNumber),n}function p(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.map(function(e){return"up-"+e}).join(" ")}function h(e){return"#"+e}n.HtmlRenderer=u;var f=c.patternIgnoringCapitalizationAndStartingWith(c.either("javascript","data","file","vbscript")+":")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(5),o=function(){function e(e){this.settings=e}return e.prototype.renderEach=function(e){var n=this;return e.map(function(e){return e.render(n)})},e.prototype.renderAll=function(e){return this.renderEach(e).join("")},e.prototype.idFor=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=[this.settings.idPrefix].concat(e).join(" ");return t.trim().replace(i,"-")},e}();n.Renderer=o;var i=new RegExp(r.WHITESPACE,"g")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(66);function o(e,n,t){return void 0===t&&(t={}),i(e,t)+n.join("")+"</"+e+">"}function i(e,t){return"<"+[e].concat(function(e){return Object.keys(e).sort().map(function(t){return function(e,t){var o=e[t];return o===n.EMPTY_ATTRBUTE_VALUE||null==o?t:t+'="'+r.escapeHtmlAttrValue(o)+'"'}(e,t)})}(t)).join(" ")+">"}n.htmlElement=function(e,n,t){return void 0===t&&(t={}),o(e,[r.escapeHtmlContent(n)],t)},n.htmlElementWithAlreadyEscapedChildren=o,n.singleTagHtmlElement=function(e,n){return void 0===n&&(n={}),i(e,n)},n.EMPTY_ATTRBUTE_VALUE=""},function(e,n,t){"use strict";t.r(n),n.default='##########\nWhat\'s Up?\n##########\n\nUp is a markup language for writing structured documents in plain text.\n\nFor software developers, Up offers a software library that converts Up markup into HTML. To learn more, please see [topic: using the Up library].\n\n\n\n===========\nWhy use Up?\n===========\n\nUp isn\'t the only markup language that produces HTML. What makes it special?\n\n\nUp uses customizable keywords\n=============================\n\nToo many markup languages devolve into a dense soup of symbols and punctuation.\n\nWhen a keyword would provide more clarity than a symbol, Up takes advantage of that! Several writing conventions, including [topic: tables] and [topic: revealable content], incorporate keywords.\n\nIf you\'re a software developer using the Up library, you can provide multiple custom variations for each keyword. To learn more, please see [topic: customizing keywords].\n\n\nUp has a flexible, forgiving syntax\n===================================\n\nUp recognizes [topic: numbered lists] that count backwards.\n\nMarkup\n  ````\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n  ````\n\nOutput\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n\nUp usually ignores [topic: excessive delimiter characters].\n\nFor example, you don\'t need to perfectly balance asterisks when stressing or emphasizing text.\n\nMarkup\n  ````\n  I ***love****** asterisks!\n  ````\n\nOutput\n  I ***love****** asterisks!\n\nUp isn\'t picky about which brackets you use for [topic: links].\n\nMarkup\n  ````\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n  ````\n\nOutput\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n\nUp even supports [topic: overlapping]!\n\nMarkup\n  ````\n  John **enjoys ==sleeping** late== whenever he can.\n  ````\n\nOutput\n  John **enjoys ==sleeping** late== whenever he can.\n\n\nUp produces fully accessible HTML\n=================================\n\nFrom the table of contents to the last movie-ruining spoiler, Up produces fully accessible HTML. This means people who have trouble viewing a screen or a using mouse can enjoy every document.\n\n\n\n=================\nWhy *not* use Up?\n=================\n\nYou want a rich ecosystem of tools\n==================================\n\nSo far, there is only one [software library for Up] (npmjs.com/package/up-lang), written and maintained by a [single person] (github.com/start). In contrast, [other markup languages] (duckduckgo.com/?q=markdown) have countless tools and plugins.\n\n\nYou need speed\n==============\n\nUp is not terribly slow, but it\'s not terribly fast, either---at least not yet! If you need instant, real-time parsing and rendering of large documents, Up isn\'t the best markup language for you.\n\n\n\n###################\nWriting conventions\n###################\n\nDon\'t get lost! The following terms are occasionally used throughout this section.\n\nWriting convention\n  Any special annotation or formatting recognized by Up.\n\nInline writing convention\n  Any writing convention that can be used within paragraphs. This includes [topic: emphasis] and [topic: highlighting].\n\nOutline writing convention\n  Any non-inline writing convention. This includes [topic: paragraphs] and [topic: tables].\n\n\n==========\nParagraphs\n==========\n\nParagraphs are the simplest writing convention in Up.\n\nMarkup\n  ````\n  Unlike regular dental floss, you can use floss picks even if you\'re not a trained dental hygienist.\n\n  Floss picks are sold in stylish, resealable plastic bags. You have no excuse not to buy some today.\n  ````\n\nOutput\n  Unlike regular dental floss, you can use floss picks even if you\'re not a trained dental hygienist.\n\n  Floss picks are sold in stylish, resealable plastic bags. You have no excuse not to buy some today.\n\nTo produce a paragraph, write a line of text. That\'s all there is to it!\n\nTypically, paragraphs are separated by one or two blank lines. Three or more blank lines between paragraphs indicates a meaningful change of subject. To learn more, see [topic: thematic breaks].\n\nIn contrast, *consecutive* non-blank lines produce [topic: line blocks], not consecutive paragraphs.\n\n\n===========\nLine blocks\n===========\n\nUse the line block convention for addresses, lyrics, or anything consisting of *lines* instead of actual [topic: paragraphs].\n\nMarkup\n  ````\n  Have you read my new poem?\n\n  Roses are red\n  Violets *aren\'t* blue\n  Lyrics have lines\n  And addresses do, too\n\n  Poetry is just too easy.\n  ````\n\nOutput\n  Have you read my new poem?\n\n  Roses are red\n  Violets *aren\'t* blue\n  Lyrics have lines\n  And addresses do, too\n\n  Poetry is just too easy.\n\nConsecutive non-blank lines produce a line block, unless those lines represent another writing convention, like [topic: numbered lists].\n\n\n========\nEmphasis\n========\n\nUse the emphasis convention to emphasize a word or phrase.\n\nIf the reader should pronounce a word or phrase differently (e.g. to indicate contrast or sarcasm), consider emphasizing it.\n\nMarkup\n  ````\n  Only eat the *green* grapes. The red grapes are for Pikachu.\n  ````\n\nOutput\n  Only eat the *green* grapes. The red grapes are for Pikachu.\n\nTo emphasize text, enclose it within single asterisks.\n\nLike most inline writing conventions, emphasis can be nested within itself.\n\nMarkup\n  ````\n  John really, *really, *really** hates Red Delicious apples.\n  ````\n\nOutput\n  John really, *really, *really** hates Red Delicious apples.\n\n\n======\nStress\n======\n\nUse the stress convention to indicate a word or phrase is particularly important.\n\nIf the reader should raise their voice while reading a word or phrase, consider stressing it.\n\nMarkup\n  ````\n  Do **not** step on the dinosaur!\n  ````\n\nOutput\n  Do **not** step on the dinosaur!\n\nTo stress text, enclose it within double asterisks.\n\nLike most inline writing conventions, stress can be nested within itself.\n\nMarkup\n  ````\n  John really, **really, **really**** hates Red Delicious apples.\n  ````\n\nOutput\n  John really, **really, **really**** hates Red Delicious apples.\n\n\n=======\nItalics\n=======\n\nUse the italic convention to stylistically offset a word or phrase from the surrounding text *without* conveying emphasis. The titles of books and movies should probably be italicized.\n\nIf you want to emphasize text, see [topic: emphasis].\n\nMarkup\n  ````\n  My favorite video game is _Chrono Cross_.\n  ````\n\nOutput\n  My favorite video game is _Chrono Cross_.\n\nTo italicize text, enclose it within single underscores.\n\nLike most inline writing conventions, italicized text can be nested within itself.\n\nMarkup\n  ````\n  My favorite show is _Real Recipes _Redux_: Super Suppers_.\n  ````\n\nOutput\n  My favorite show is _Real Recipes _Redux_: Super Suppers_.\n\n\n====\nBold\n====\n\nTypically, people use bold text to convey extra importance---that\'s what the [topic: stress] convention is for!\n\nTo make a word or phrase bold *without* conveying any extra importance, use the plain old bold convention.\n\nMarkup\n  ````\n  Has anyone actually used __KABOOM__ cleaning products?\n  ````\n\nOutput\n  Has anyone actually used  __KABOOM__ cleaning products?\n\nTo make text bold, enclose it within double underscores.\n\nLike most inline writing conventions, bold text can be nested within itself.\n\nMarkup\n  ````\n  We\'ve all seen the ads.\n\n  __No hard scrubbing! __KABOOM__... and the stains are gone!__\n  ````\n\nOutput\n  We\'ve all seen the ads.\n\n  __No hard scrubbing! __KABOOM__... and the stains are gone!__\n\n\n============\nHighlighting\n============\n\nTo draw attention to text without altering its semantics, using the highlighting convention.\n\nHighlighting should not be used to emphasize or stress text! If that\'s your purpose, see [topic: emphasis] or [topic: stress].\n\nMarkup\n  ````\n  Our cupcakes are organic, ==gluten-free==, and made using only the most expensive ingredients.\n  ````\n\nOutput\n  Our cupcakes are organic, ==gluten-free==, and made using only the most expensive ingredients.\n\nTo highlight text, enclose it within two or more equal signs.\n\nLike most inline writing conventions, highlighting can be nested within itself.\n\nMarkup\n  ````\n  Our cupcakes are ==organic, ==gluten-free==, vegan==, and made using only the most expensive ingredients.\n  ````\n\nOutput\n  Our cupcakes are ==organic, ==gluten-free==, vegan==, and made using only the most expensive ingredients.\n\n\n=====\nLinks\n=====\n\nYou already know what a link is!\n\nMarkup\n  ````\n  The [Game Boy] (en.wikipedia.org/wiki/Game_Boy) was my first video game system.\n  ````\n\nOutput\n  The [Game Boy] (en.wikipedia.org/wiki/Game_Boy) was my first video game system.\n\nA link consists of two parts: content and a URL.\n\nTo produce a link, simply enclose its content in square brackets or parentheses, then enclose its URL in square brackets or parentheses.\n\nYou can use mix and match either type of bracket---they\'re totally interchangeable.\n\nMarkup\n  ````\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n  ````\n\nOutput\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n\nAs demonstrated above, you can omit a link\'s URL scheme. [^ `http://` and `https://` are examples of URL schemes.] If you do, Up uses `https://` for the URL scheme.\n\nIf you\'re a software developer using the Up library, you can specify a different default URL scheme. To learn more, see [topic: `defaultUrlScheme`].\n\nOther settings affecting links are:\n\n- [topic: `baseForUrlsStartingWithSlash`]\n- [topic: `baseForUrlsStartingWithHashmark`]\n- [topic: `renderDangerousContent`]\n\n\nLinks with URLs containing spaces\n=================================\n\nIf your link URL contains spaces, Up assumes you *aren\'t* actually trying to produce a link. So it avoids producing one!\n\nMarkup\n  ````\n  Warlocked is the best game for GameBoy [sic] (other than Pokémon).\n  ````\n\nOutput\n  Warlocked is the best game for GameBoy [sic] (other than Pokémon).\n\nIf your link URL really does contain spaces, you can make it clear that you intend to produce a link by omitting the space between your link\'s content and its URL.\n\nMarkup\n  ````\n  I love the [music](duckduckgo.com/?q=chrono cross music) for Chrono Cross.\n  ````\n\nOutput\n  I love the [music](duckduckgo.com/?q=chrono cross music) for Chrono Cross.\n\nWhen you omit the space between your link\'s content and its URL, Up always produces a link.\n\nThese rules also apply when [topic: linkifying].\n\n\nBare URLs\n=========\n\nAlternatively, if you include a bare URL in your document, Up will automatically produce a link for you.\n\nMarkup\n  ````\n  https://en.wikipedia.org/wiki/John_Carmack\n  ````\n\nOutput\n  https://en.wikipedia.org/wiki/John_Carmack\n\n\n=============\nInline quotes\n=============\n\nUp automatically recognizes quoted text.\n\nIf you want to quote more a few sentences, considering using [topic: blockquotes].\n\nMarkup\n  ````\n  "Only eat the green grapes," John said.\n  ````\n\nOutput\n  "Only eat the green grapes," John said.\n\nYou already know how to use quotation marks! Just keep doing what you\'re doing.\n\nLike most inline writing conventions, inline quotes can be nested within themselves.\n\nMarkup\n  ````\n  Bob replied, "Yesterday, Harvey yelled "I\'ll take the case!", but I doubt he will."\n  ````\n\nOutput\n  Bob replied, "Yesterday, Harvey yelled "I\'ll take the case!", but I doubt he will."\n\n\n==================\nParenthetical text\n==================\n\nUp automatically recognizes parenthetical text.\n\nMarkup\n  ````\n  When I was ten years old, I left my home (in Pallet Town) to search for Pokémon.\n  ````\n\nOutput\n  When I was ten years old, I left my home (in Pallet Town) to search for Pokémon.\n\nUp understands that text enclosed within parentheses or square brackets represents supplemental content.\n\n\n==================\nExample user input\n==================\n\nUse the example user input convention to represent user input, including:\n\n- Keys the user should press\n- Buttons the user should click\n- Menu items the user should access\n\nMarkup\n  ````\n    Press {esc} to quit.\n  ````\n\nOutput\n  Press {esc} to quit.\n\nTo indicate that text represents user input, enclose the text within curly brackets.\n\nUp ignores any spaces separating the curly brackets from the content they enclose.\n\nMarkup\n  ````\n  Press { Start Game } when you are ready.\n  ````\nOutput\n  Press { Start Game } when you are ready.\n\nWithin example user input, most writing conventions are ignored. However, [topic: typographical writing conventions] are supported.\n\n\n===========\nInline code\n===========\n\nUse the inline code convention to represent a small fragment of computer code.\n\nWhen you need to represent more than a small fragment of computer code, use [topic: code blocks] instead.\n\nMarkup\n  ````\n  In HTML, you probably shouldn\'t use the `<font>` element.\n  ````\n\nOutput\n  In HTML, you probably shouldn\'t use the `<font>` element.\n\nTo produce inline code, enclose text within an equal number of backticks on either side. You can use any number of backticks---simply make sure both sides match.\n\nMarkup\n  ````\n  In HTML, you probably shouldn\'t use the ``<font>`` element.\n  ````\n\nOutput\n  In HTML, you probably shouldn\'t use the ``<font>`` element.\n\nWithin inline code, other writing conventions are ignored. Characters that normally have special meaning are preserved as plain text.\n\nMarkup\n  ````\n  In Up, surround text with `*asterisks*` to emphasize it.\n  ````\n\nOutput\n  In Up, surround text with `*asterisks*` to emphasize it.\n\n\nIncluding backticks in your code\n================================\n\nTo include backticks within inline code, you can precede each backtick with a backslash.\n\nMarkup\n  ````\n  `let output = \\`score:\\` + 5`\n  ````\n\nOutput\n  `let output = \\`score:\\` + 5`\n\nFor more information about the behavior of backslashes, see [topic: disabling].\n\nAlternatively, inline code can contain streaks of backticks that aren\'t exactly as long as the inline code\'s outer delimiters. No backslashes are necessary.\n\nIn this example, the delimiters are **1** backtick long, so the inline code can contain streaks of **2** backticks:\n\nMarkup\n  ````\n  `let output = ``score:`` + 5`\n  ````\n\nOutput\n  `let output = ``score:`` + 5`\n\nIn this example, the delimiters are **2** backticks long, so the inline code can contain "streaks" of **1** backtick:\n\nMarkup\n  ````\n  ``let output = `score:` + 5``\n  ````\n\nOutput\n  ``let output = `score:` + 5``\n\n--------------------------------------\nCode starting or ending with backticks\n--------------------------------------\n\nIf your inline code starts or ends with backticks, place a single space between the offending backticks and the outer delimiter. This single space is trimmed away.\n\nIn this example, the inline code both starts and ends with a backtick:\n\nMarkup\n  ````\n  `` `inline_code` ``\n  ````\n\nOutput\n  `` `inline_code` ``\n\nAny spaces beyond that single space are preserved---if there are multiple spaces between the delimiter and the starting/ending backticks, only one space is trimmed away.\n\nMarkup\n  ````\n  ``    `inline_code`    ``\n  ````\n\nOutput\n  ``    `inline_code`    ``\n\nFurthermore, that single space is only trimmed away when it\'s necessary to separate a delimiter from backticks in your inline code. If a given "side" of inline code has any non-space characters between the delimiter and the outermost backtick, no spaces are trimmed from that side.\n\nMarkup\n  ````\n  `` (`inline_code`) ``\n  ````\n\nOutput\n  `` (`inline_code`) ``\n\n\n========\nHeadings\n========\n\nUse headings to introduce a new section in the document.\n\nMarkup\n  ````\n  Example heading\n  ===============\n  ````\n\nOutput\n  Example heading\n  ===============\n\nIf text is underlined, it\'s treated as a heading. The underline can consist of any combination of the following characters (you can mix and match):\n\n- Hyphens: `-`\n- Number signs: `#`\n- Equal signs: `=`\n- Plus signs: `+`\n- Tildes: `~`\n- Colons: `:`\n- Asterisks: `*`\n- At signs: `@`\n\nA heading\'s underline must be at least three characters long, but it does *not* need to be the same length as the text of the heading.\n\nMarkup\n  ````\n  Example heading with a short underline\n  ===\n  ````\n\nOutput\n  Example heading with a short underline\n  ===\n\n\nHeading levels\n==============\n\nThe first heading in a document is always a top-level heading. All subsequent headings with underlines consisting of the same characters are considered top-level.\n\nThe first heading with a different combination of underline characters is considered a second-level heading. Unsurprisingly, all subsequent headings with underlines consisting of the same characters are also considered second-level.\n\nThis process continues _ad infinitum_. Every new combination of heading underline characters introduces a new heading level. There is no limit to the number of heading levels in a document.\n\n\nHeadings with "overlines"\n=========================\n\nA heading can have an optional "overline", but its overline must consist of the same combination of characters as its underline.\n\nMarkup\n  ````\n  --------------------------------\n  Example heading with an overline\n  --------------------------------\n  ````\n\nOutput\n  --------------------------------\n  Example heading with an overline\n  --------------------------------\n\nFor the purpose of determining heading levels, a heading with an overline is always considered distinct from a heading without one, even if both headings use the same combination of underline characters.\n\nTherefore, a heading with an overline will never have the same level as a heading without an overline.\n\n\n=============\nSection links\n=============\n\nUse the section link convention to link to another section (heading) in your document.\n\nMarkup\n  ````\n  Up even supports [topic: overlapping]!\n  ````\n\nOutput\n  Up even supports [topic: overlapping]!\n\nTo link to a heading, choose a unique snippet of markup from that heading\'s content line. [^ Don\'t worry about the heading\'s underline or overline! Section links ignore both.] Enclose that markup snippet within square brackets or parentheses, then insert `topic:` or `section:` directly inside your opening bracket.\n\nUp automatically matches your snippet to the most appropriate heading, then produces a link for you.\n\n\nMatching the most appropriate heading\n=====================================\n\nInitially, Up tries to match your section link to the first heading whose content line\'s markup *exactly matches* your snippet. [^ Up totally ignores the capitalization of section links\' markup snippets, so a section link and a heading can be an "exact match" without being capitalized the same way.] If there isn\'t an exact match, Up matches your section link to the first heading whose content line markup *contains* your snippet.\n\n\n=========\nFootnotes\n=========\n\nUse the footnote convention for asides or citations---anything you want to say without breaking the flow of a paragraph.\n\nFootnotes are automatically extracted into blocks for you.\n\nMarkup\n  ````\n  Warlocked [^ No relation to Warcraft!] is a real-time strategy game.\n  ````\n\nOutput\n  Warlocked [^ No relation to Warcraft!] is a real-time strategy game.\n\nTo produce a footnote, enclose its content within parentheses or square brackets. Then, insert a caret `^` directly after your opening bracket.\n\n\n=====\nMedia\n=====\n\nUp allows you to embed [topic: images], [topic: video], or [topic: audio] in your document.\n\n\nImages\n======\n\nMarkup\n  ````\n  [image: Super Mario Land box art] (i.imgur.com/TxlFlkX.jpg)\n  ````\n\nOutput\n  [image: Super Mario Land box art] (i.imgur.com/TxlFlkX.jpg)\n\nIf you want to link your image to another page, please see [topic: linkifying].\n\n\nVideo\n=====\n\nMarkup\n  ````\n  [video: Professor Leonard] (i.imgur.com/32fBpnh.mp4)\n  ````\n\nOutput\n  [video: Professor Leonard] (i.imgur.com/32fBpnh.mp4)\n\n\nAudio\n=====\n\nMarkup\n  ````\n  [audio: Sadness theme from Infinity for Game Boy] (a.clyp.it/ybct5hcl.mp3)\n  ````\n\nOutput\n  [audio: Sadness theme from Infinity for Game Boy] (a.clyp.it/ybct5hcl.mp3)\n\n\nSyntax\n======\n\nTo embed media in your document, simply enclose its description in square brackets or parentheses, then enclose its URL in square brackets or parentheses.\n\nYou can use mix and match either type of bracket---they\'re totally interchangeable.\n\n------------------\nMedia descriptions\n------------------\n\nMedia descriptions always start with `image:`, `audio:`, or `video:`, depending on the type of media you wish to include.\n\nWithin media descriptions, most writing conventions are ignored. However, [topic: typographical writing conventions] are supported.\n\n----------\nMedia URLs\n----------\n\nAs demonstrated above, you can omit the URL scheme for media URLs. If you do, Up uses `https://` for the URL scheme.\n\nIf you\'re a software developer using the Up library, you can specify a different default URL scheme. To learn more, see [topic: `defaultUrlScheme`].\n\nOther settings affecting media are:\n\n- [topic: `baseForUrlsStartingWithSlash`]\n- [topic: `baseForUrlsStartingWithHashmark`]\n- [topic: `renderDangerousContent`]\n\n\n==================\nRevealable content\n==================\n\nBoth [topic: inline revealables] and [topic: revealable blocks] recognize any of the following keywords:\n\n- `spoiler`\n- `nsfw`\n- `nsfl`\n- `revealable`\n\nLike all keywords in Up, you can capitalize them however you want.\n\n\nInline revealables\n==================\n\nUse the inline revealable convention to hide content within a paragraph.\n\nWhen you want to hide more than a sentence or two, use [topic: revealable blocks] instead.\n\nMarkup\n  ````\n  At the end of Pokémon Red, [SPOILER: you battle your rival] before the credits roll.\n  ````\n\nOutput\n  At the end of Pokémon Red, [SPOILER: you battle your rival] before the credits roll.\n\nTo hide content within a paragraph, first enclose that content within square brackets or parentheses.\n\nThen, directly inside your opening bracket, insert one of the revealable keywords followed by a colon: `spoiler:`, `nsfw:`, `nsfl:`, or `revealable:`.\n\nInline revealables can contain any inline writing convention.\n\n\nRevealable blocks\n==================\n\nUse revealable block convention to hide a block of content.\n\nWhen you want to hide content within a paragraph, use [topic: inline revealables] instead.\n\nMarkup\n  ````\n  SPOILER:\n    After defeating the Elite Four at the end of Pokémon Red, you still have to battle your rival one last time.\n\n    Your rival\'s specific lineup depends on the Pokémon you selected at the beginning of the game. However, his first three Pokémon are always the same:\n\n    1. Pidgeot\n    2. Alakazam\n    3. Rhydon\n  ````\n\nOutput\n  SPOILER:\n    After defeating the Elite Four at the end of Pokémon Red, you still have to battle your rival one last time.\n\n    Your rival\'s specific lineup depends on the Pokémon you selected at the beginning of the game. However, his first three Pokémon are always the same:\n\n    1. Pidgeot\n    2. Alakazam\n    3. Rhydon\n\nTo hide a block of content, first indent it two spaces (or a tab).\n\nThen, on the line *before* your indented block, put one of the revealable keywords: `spoiler`, `nsfw`, `nsfl`, or `revealable`.\n\nIn the example above, the chosen revealable keyword (`spoiler`) is followed by a colon. The colon is optional.\n\n\n===========\nBlockquotes\n===========\n\nUse the blockquote convention to quote a large section of text.\n\nFor typical dialog, you should probably use [topic: inline quotes] instead.\n\nMarkup\n  ````\n  > I hate oranges for the following reasons:\n  >\n  > 1. They\'re not apples.\n  > 2. They\'re not bananas.\n  ````\n\nOutput\n  > I hate oranges for the following reasons:\n  >\n  > 1. They\'re not apples.\n  > 2. They\'re not bananas.\n\nA blockquote consists of consecutive lines starting with `> ` (a greater-than symbol followed by a space).\n\nBlockquotes can contain any outline writing convention, including other blockquotes.\n\nMarkup\n  ````\n  > Thank you for replying to my blog!\n  >\n  > > I hate oranges for the following reasons:\n  > >\n  > > 1. They\'re not apples.\n  > > 2. They\'re not bananas.\n  >\n  > I completely understand.\n  ````\n\nOutput\n  > Thank you for replying to my blog!\n  >\n  > > I hate oranges for the following reasons:\n  > >\n  > > 1. They\'re not apples.\n  > > 2. They\'re not bananas.\n  >\n  > I completely understand.\n\n\n===============\nThematic breaks\n===============\n\nUse the thematic break convention to represent a change of subject.\n\nA thematic break can be represented by 3 or more consecutive blank lines.\n\nMarkup\n  ````\n  I vowed never to eat apples again.\n\n\n\n  By mid-March, a second flock of birds had moved into my dining room.\n  ````\n\nOutput\n  I vowed never to eat apples again.\n\n\n\n  By mid-March, a second flock of birds had moved into my dining room.\n\nA thematic break can *also* be represented by a line consisting of 3 or more of the following characters:\n\n- Hyphens: `-`\n- Number signs: `#`\n- Equal signs: `=`\n- Plus signs: `+`\n- Tildes: `~`\n- Colons: `:`\n- Asterisks: `*`\n- At signs: `@`\n\nYou can use any combination of those characters!\n\nMarkup\n  ````\n  I vowed never to eat apples again.\n\n  #=*=*=*=*=*=*=*=*=*=#\n\n  By mid-March, a second flock of birds had moved into my dining room.\n  ````\n\nOutput\n  I vowed never to eat apples again.\n\n  #=*=*=*=*=*=*=*=*=*=#\n\n  By mid-March, a second flock of birds had moved into my dining room.\n\n\n==============\nBulleted lists\n==============\n\nYou already know what a bulleted list is!\n\nMarkup\n  ````\n  - Buy milk\n  - Buy bread\n  - Buy happiness\n  ````\n\nOutput\n  - Buy milk\n  - Buy bread\n  - Buy happiness\n\n\nBullets\n=======\n\nIn a bulleted list, each item starts with a bullet character followed by a space. The following characters can serve as a bullet:\n\n- A hyphen: `-`\n- An asterisk: `*`\n- An actual bullet character: `•`\n\n\nSpacing between list items\n==========================\n\nEach bulleted list item can be followed by a single blank line.\n\nMarkup\n  ````\n  - Buy milk\n\n  - Buy bread\n\n  - Buy happiness\n  ````\n\nOutput\n  - Buy milk\n\n  - Buy bread\n\n  - Buy happiness\n\nOn the other hand, if a list item is followed by 2 blank lines, it marks the end of the list.\n\nMarkup\n  ````\n  - Buy milk\n  - Buy bread\n\n\n  - Fix squeaky cabinet\n  - Fix self-esteem\n  ````\n\nOutput\n  - Buy milk\n  - Buy bread\n\n\n  - Fix squeaky cabinet\n  - Fix self-esteem\n\n\nList items consisting of multiple lines\n=======================================\n\nList items aren\'t limited to a single line!  Bulleted lists can contain any outline writing convention, including other bulleted lists.\n\nIf your list item contains more than one line, subsequent lines should be indented 2 spaces (or a tab).\n\nMarkup\n  ````\n  - Buy milk.\n\n    If whole milk is on sale, buy that. Otherwise, buy 2%.\n\n  - Buy bread.\n\n    Only buy bread from one of the following brands:\n\n    * Little Northern Bakehouse\n    * Udi\'s\n    * Canyon Bakehouse\n\n  - Buy happiness.\n\n    Don\'t spend more than a few cents on this.\n  ````\n\nOutput\n  - Buy milk.\n\n    If whole milk is on sale, buy that. Otherwise, buy 2%.\n\n  - Buy bread.\n\n    Only buy bread from one of the following brands:\n\n    * Little Northern Bakehouse\n    * Udi\'s\n    * Canyon Bakehouse\n\n  - Buy happiness.\n\n    Don\'t spend more than a few cents on this. Not worth it.\n\n\n==============\nNumbered lists\n==============\n\nYou already know what a numbered list is!\n\nMarkup\n  ````\n  1. Buy milk\n  2. Buy bread\n  3. Buy happiness\n  ````\n\nOutput\n  1. Buy milk\n  2. Buy bread\n  3. Buy happiness\n\nNumbered lists are nearly identical to [topic: bulleted lists]---the only difference is that numbered list items have ordinals, not bullets.\n\nThe ordinal for a numbered list item can be expressed several ways:\n\n- An integer followed by a period: `1.`\n- An integer followed by a closing parenthesis: `1)`\n- A number sign: `#`\n- A number sign followed by a period: `#.`\n- A number sign followed by a closing parenthesis: `#)`\n\nLike each bullet in a bulleted list, each ordinal in a numbered list must be followed by a space.\n\n\nLists starting at a specific number\n===================================\n\nNumbered lists don\'t have to start at `1`.\n\nMarkup\n  ````\n  3) March\n  #) April\n  #) May\n  ````\n\nOutput\n  3) March\n  #) April\n  #) May\n\n\nLists in descending order\n=========================\n\nUp automatically recognizes when a numbered list is in descending order.\n\nIf a numbered list has at least two items with *integer* ordinals (as opposed to number signs), and if the first integer is greater than the second, Up considers the list to be in descending order.\n\nMarkup\n  ````\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n  ````\n\nOutput\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n\n\nSingle-item numbered lists\n==========================\n\nLike bulleted lists, numbered lists can consist of a single item.\n\nMarkup\n  ````\n  1) Buy milk\n  ````\n\nOutput\n  1) Buy milk\n\nThere\'s a small exception to this rule: If your list item\'s ordinal is expressed as an integer followed by a period (e.g. `1.`), you must have more than one list item. This exception helps prevent "accidental" numbered lists.\n\nMarkup\n  ````\n  1783. Not a good year for Great Britain.\n  ````\n\nOutput\n  1783. Not a good year for Great Britain.\n\n\n=================\nDescription lists\n=================\n\nUse description lists represent a collection of subjects and their descriptions.\n\nYou can use description lists for:\n\n- Terms and definitions\n- Questions and answers\n- Any collection of subjects and descriptions!\n\nMarkup\n  ````\n  Kirby\'s Dreamland\n    A video game about a flying marshmallow.\n\n  Super Mario Land\n    A video game about a jumping plumber.\n  ````\n\nOutput\n  Kirby\'s Dreamland\n    A video game about a flying marshmallow.\n\n  Super Mario Land\n    A video game about a jumping plumber.\n\nEvery item in a description list consists of two parts:\n\n1. One or more subjects\n2. A single description of those subjects\n\n\nSubjects\n========\n\nSubjects can contain any inline writing convention.\n\nMarkup\n  ````\n  `<ol>`\n    An HTML element representing numbered lists.\n\n  `<ul>`\n    An HTML element representing bulleted lists.\n  ````\n\nOutput\n  `<ol>`\n    An HTML element representing numbered lists.\n\n  `<ul>`\n    An HTML element representing bulleted lists.\n\nWhen there is more than one subject for a given description, they should be listed consecutively, one subject per line.\n\nMarkup\n  ````\n  Game Boy Light\n  Game Boy Pocket\n  Game Boy Color\n    Handheld videogame systems released by Nintendo in the 1990s.\n  ````\n\nOutput\n  Game Boy Light\n  Game Boy Pocket\n  Game Boy Color\n    Handheld videogame systems released by Nintendo in the 1990s.\n\n\nDescriptions\n============\n\nEach description follows the subjects it describes.\n\nDescriptions are indented 2 spaces (or a tab). They can contain any outline writing convention, including other description lists.\n\nMarkup\n  ````\n  Bulbasaur\n    A plant Pokémon with a bulb growing from its back.\n\n    Height\n      0.7 m\n    Weight\n      6.9 kg\n\n  Charmander\n    A fire Pokémon with a flame on its tail.\n\n    Height\n      0.6 m\n    Weight\n      8.5 kg\n\nOutput\n  Bulbasaur\n    A plant Pokémon with a bulb growing from its back.\n\n    Height\n      0.7 m\n    Weight\n      6.9 kg\n\n  Charmander\n    A fire Pokémon with a flame on its tail.\n\n    Height\n      0.6 m\n    Weight\n      8.5 kg\n\nEach description may be followed by an optional blank line. If a description is followed by two blank lines, it marks the end of the description list.\n\nMarkup\n  ````\n  Lime\n    A green fruit.\n  Strawberry\n    A red fruit.\n\n\n  Bulbasaur\n    A green Pokémon.\n  Charmander\n    A red Pokémon.\n  ````\n\nOutput\n  Lime\n    A green fruit.\n  Strawberry\n    A red fruit.\n\n\n  Bulbasaur\n    A green Pokémon.\n  Charmander\n    A red Pokémon.\n\n\n======\nTables\n======\n\nYou already know what a table is! Use tables to display rows of data organized into columns.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\nA table consists of:\n\n- An optional caption, representing the table\'s title\n- A header row, describing each column\n- Content rows, representing the actual data\n- An optional header column, describing each row\n\nTable cells are separated by semicolons. To learn more, see [topic: cells].\n\nOur examples use extra spaces to align cells. This makes our markup more readable, but it\'s strictly optional! If you want, you can squish your cells together, as long as any empty cells contain at least one space. To learn more, please see [topic: empty cells].\n\nSquished markup\n  ````\n  Table: My favorite fruits\n\n  Fruit;Color;Taste\n\n  Lime;Green;Sour\n  Lemon;Yellow;Sour\n  Banana;Yellow;Sweet\n  ````\n\nOutput\n  Table: My favorite fruits\n\n  Fruit;Color;Taste\n\n  Lime;Green;Sour\n  Lemon;Yellow;Sour\n  Banana;Yellow;Sweet\n\n\nThe caption\n===========\n\nThe text after `Table:` is treated as the table\'s caption. Captions can contain any inline writing convention.\n\nMarkup\n  ````\n  Table: My favorite [fruits] (en.wikipedia.org/wiki/Fruit)\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n  ````\n\nOutput\n  Table: My favorite [fruits] (en.wikipedia.org/wiki/Fruit)\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n\nCaptions are strongly encouraged, but they\'re not required. To create a table without a caption, simply put "Table" on its own line.\n\nMarkup\n  ````\n  Table\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n  ````\n\nOutput\n  Table\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n\n\nCells\n=====\n\nTable cells are separated by semicolons. If you want to include a semicolon in a cell, simply put a backslash before it. To learn more, see [topic: disabling special characters].\n\nMarkup\n  ````\n  Table: My favorite fruits\n\n  Fruit;      Reason for liking\n\n  Apples;     Easy to eat\\; stylish\n  Grapes;     Each grape is very cheap\n  Oranges;    The color orange is nice\n  ````\n\nOutput\n  Table: My favorite fruits\n\n  Fruit;      Reason for liking\n\n  Apples;     Easy to eat\\; stylish\n  Grapes;     Each grape is very cheap\n  Oranges;    The color orange is nice\n\n-------------------------------\nCells spanning multiple columns\n-------------------------------\n\nIf you want a cell to span two columns, terminate that cell with two semicolons.\n\nMarkup\n  ````\n  Table: My favorite fruits\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Orange;;                Sweet and tart\n  Banana;     Yellow;     Sweet\n  ````\n\nOutput\n  Table: My favorite fruits\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Orange;;                Sweet and tart\n  Banana;     Yellow;     Sweet\n\nLikewise, if you want a cell to span six columns, terminate that cell with six semicolons.\n\n-----------\nEmpty cells\n-----------\n\nA cell consisting solely of spaces (one or more) is considered empty.\n\nNormally, you have to put at least one space in the cell, because consecutive semicolons indicate that you want the previous cell to span multiple columns.\n\nHowever, to indicate that the *first* cell in a row should be empty, simply start that row with a semicolon. You don\'t need to put any spaces before it.\n\nMarkup\n  ````\n  Table: Games in the Chrono series\n\n  Release Date;       Game;\n\n  March 11, 1995;     Chrono Trigger\n  November 18, 1999;  Chrono Cross\n  ;                   Chrono Break\n  ````\n\nOutput\n  Table: Games in the Chrono series\n\n  Release Date;       Game\n\n  March 11, 1995;     Chrono Trigger\n  November 18, 1999;  Chrono Cross\n  ;                   Chrono Break\n\nLikewise, to indicate that the *last* cell in a row should be empty, simply end that row with a semicolon. You don\'t need to add any spaces after it.\n\nMarkup\n  ````\n  Table: Games in the Chrono series\n\n  Game;               Release Date\n\n  Chrono Trigger;     March 11, 1995\n  Chrono Cross;       November 18, 1999\n  Chrono Break;\n  ````\n\nOutput\n  Table: Games in the Chrono series\n\n  Game;               Release Date\n\n  Chrono Trigger;     March 11, 1995\n  Chrono Cross;       November 18, 1999\n  Chrono Break;\n\n\nThe header row\n==============\n\nThe header defines each column in the table.\n\nThe single blank lines before and after the header are not required.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n  Move;         Type;     Power;  Accuracy\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n  Move;         Type;     Power;  Accuracy\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\nCells in a table\'s header can contain any inline writing convention.\n\n\nContent rows\n============\n\nThe "content rows" of a table follow its header row. The content rows contain the table\'s actual data.\n\nIf a content row is followed by a blank line, it ends the table.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\n  I love Bulbasaur!\n\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\n  I love Bulbasaur!\n\nContent row cells can contain any inline writing convention.\n\n\nIncluding a header column in your table\n=======================================\n\nTo indicate your table has a header column, simply indent its header *row* at least two spaces (or a tab).\n\nWhen you indent a table\'s the header row, Up automatically treats the first cell in each subsequent row as the header column.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n\n                Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n\n                Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\nWhen your table has a header column, Up automatically inserts an extra blank cell at the beginning of the header row in the top level corner, above the header column.\n\n\n===========\nCode blocks\n===========\n\nUse the code block convention to represent a block of computer code.\n\nWhen you need to represent only a small fragment of computer code, consider using [topic: inline code] instead.\n\nMarkup\n  ````````\n  ```\n  function nthFibonacci(n: number): number {\n    return n <= 2\n      ? n - 1\n      : nthFibonacci(n - 1) + nthFibonacci(n - 2)\n  }\n  ```\n  ````````\n\nOutput\n  ```\n  function nthFibonacci(n: number): number {\n    return n <= 2\n      ? n - 1\n      : nthFibonacci(n - 1) + nthFibonacci(n - 2)\n  }\n  ```\n\nCode blocks are surrounded (underlined and "overlined") by matching streaks of 3 or more backticks.\n\nIf there is no matching end streak, the code block extends to the end of the document (or to the end of the current outline writing convention, if the code block is nested within one).\n\nWithin a code block, indentation is preserved, and every single character is treated literally. No other writing conventions are recognized, which means code blocks don\'t support [topic: disabling].\n\n\nIncluding streaks of backticks\n==============================\n\nCode blocks can contain streaks of backticks that aren\'t exactly as long as the enclosing streaks.\n\nMarkup\n  `````````\n  ``````\n  A code block:\n\n  ```\n  function factorial(n: number): number {\n    return n <= 1\n      ? 1\n      : n * factorial(n - 1)\n  }\n  ```\n\n  See? Not so hard!\n  ``````\n  `````````\n\nOutput\n  ``````\n  A code block:\n\n  ```\n  function factorial(n: number): number {\n    return n <= 1\n      ? 1\n      : n * factorial(n - 1)\n  }\n  ```\n\n  See? Not so hard!\n  ``````\n\n\n=====================================\nLinkifying another writing convention\n=====================================\n\nYou can put [topic: images] inside of [topic: links], but the syntax can be a bit messy.\n\nMessy markup\n  ````\n  [(image: Warlocked box art) (i.imgur.com/879AeYU.jpg)] [en.wikipedia.org/wiki/Warlocked]\n  ````\n\nOutput\n  [(image: Warlocked box art) (i.imgur.com/879AeYU.jpg)] [en.wikipedia.org/wiki/Warlocked]\n\nThat\'s a lot of brackets! Luckily, there\'s a shortcut.\n\nSimply place the "linkifying" URL after the image\'s own URL, and Up will produce a link for you.\n\nCleaner markup\n  ````\n  [image: Warlocked box art] [i.imgur.com/879AeYU.jpg] (en.wikipedia.org/wiki/Warlocked)\n  ````\n\nOutput\n  [image: Warlocked box art] [i.imgur.com/879AeYU.jpg] (en.wikipedia.org/wiki/Warlocked)\n\nWhen linkifying an image, you can mix and match square brackets and parentheses---they\'re totally interchangeable.\n\nThis shortcut also works for the following inline writing conventions:\n\n[topic: Example user input]\n  Markup\n    ````\n    Press {space} (en.wikipedia.org/wiki/Space_bar) to continue.\n    ````\n\n  Output\n    Press {space} (en.wikipedia.org/wiki/Space_bar) to continue.\n\n[topic: Footnotes]\n  Markup\n    ````\n    Pokémon is old [^ Released in 1996!] (en.wikipedia.org/wiki/Pokémon_Red_and_Blue) but it maintains its charm.\n    ````\n\n  Output\n    Pokémon is old [^ Released in 1996!] (en.wikipedia.org/wiki/Pokémon_Red_and_Blue) but it maintains its charm.\n\n[topic: Inline revealables]\n  Markup\n    ````\n    At the end of Pokémon Red, [SPOILER: you battle your rival] (pokemon.wikia.com/wiki/Rival) before the credits roll.\n    ````\n\n  Output\n    At the end of Pokémon Red, [SPOILER: you battle your rival] (pokemon.wikia.com/wiki/Rival) before the credits roll.\n\n\n=================================\nTypographical writing conventions\n=================================\n\nEllipsis\n========\n\nConsecutive periods represent an ellipsis, so Up replaces them with a fancy ellipsis character.\n\nMarkup\n  ````\n  I don\'t know... I doubt a spider would do this.\n  ````\n\nOutput\n  I don\'t know... I doubt a spider would do this.\n\nIf you\'re a software developer using the Up library, you can specify a different fancy ellipsis (e.g. `⋯`). To learn more, see [topic: `fancyEllipsis`].\n\n\nEn dash\n=======\n\nTwo consecutive hyphens produce an en dash.\n\nMarkup\n  ````\n  I agree -- to an extent -- with your plan to eat nothing but cereal.\n  ````\n\nOutput\n  I agree -- to an extent -- with your plan to eat nothing but cereal.\n\n\nEm dash\n=======\n\nThree consecutive hyphens produce an em dash.\n\nMarkup\n  ````\n  Use a spoon---a fork won\'t cut it.\n  ````\n\nOutput\n  Use a spoon---a fork won\'t cut it.\n\n\nPlus-minus sign\n===============\n\nA plus sigh followed by a hyphen produces a plus-minus sign.\n\nMarkup\n  ````\n  I ate 5 waffles +- 2.\n  ````\n\nOutput\n  I ate 5 waffles +- 2.\n\n\n==============================\nExcessive delimiter characters\n==============================\n\nFor [topic: emphasis], [topic: stress], [topic: italic], [topic: bold], [topic: highlighting], and [topic: inline quotes], Up ignores any excessive delimiter characters.\n\nMarkup\n  ````\n  This organic, ====gluten-free==== cupcake is too expensive.\n  ````\n\nOutput\n  This organic, ====gluten-free==== cupcake is too expensive.\n\nThis includes when delimiter characters aren\'t perfectly balanced on either side.\n\nMarkup\n  ````\n  My favorite video game is _Chrono Cross__.\n  ````\n\nOutput\n  My favorite video game is _Chrono Cross__.\n\n\n============================\nDisabling special characters\n============================\n\nTo disable the special meaning of a character, put a backslash before it.\n\nMarkup\n  ````\n  I love \\*asterisks*!\n  ````\n\nOutput\n  I love \\*asterisks\\*!\n\nLikewise, to disable the special meaning of a backslash, put another backslash before it.\n\nMarkup\n  ````\n  My favorite kind of slash is the backslash: \\\\. What is yours?\n  ````\n\nOutput\n  My favorite kind of slash is the backslash: \\\\. What is yours?\n\n\n===============================\nOverlapping writing conventions\n===============================\n\nIn Up, inline writing conventions can freely overlap.\n\nMarkup\n  ````\n  John **enjoys ==sleeping** late== whenever he can.\n  ````\n\nOutput\n  John **enjoys ==sleeping** late== whenever he can.\n\n\nSuperficial overlapping\n=======================\n\nIf conventions overlap superficially---by only their start or end delimiters---Up pretends they weren\'t overlapped at all.\n\nMarkup\n  ````\n  At the end of Pokémon Red, [SPOILER: you battle your rival *yet again]* before the credits roll.\n  ````\n\nOutput\n  At the end of Pokémon Red, [SPOILER: you battle your rival *yet again]* before the credits roll.\n\n\n\n####################\nUsing the Up library\n####################\n\nThe Up library can be [found on NPM] (npmjs.com/package/up-lang).\n\n\n============\nInstallation\n============\n\n````\nnpm install up-lang --save\n````\n\n\n==============\nUsage Overview\n==============\n\nTypically, you\'ll want to use one of the various [topic: functions] exported by the library.\n\n````\nconst { parseAndRender } = require(\'up-lang\')\n\nconst html = parseAndRender(markup, optionalSettings)\n````\n\nAlternatively, you can use the exported `Up` class, which can be helpful if you need to parse or render several documents sharing custom settings. Please see [topic: `Up`] to learn more.\n\nIf you plan to modify or analyze a parsed document, you\'ll want to check out the [topic: abstract syntax tree classes].\n\n\n=========\nFunctions\n=========\n\n`parseAndRender` (function)\n===========================\n\nThis function converts Up markup into HTML and returns the result.\n\nArguments\n  `markup`: `string`\n    The Up markup to convert into HTML.\n  `settings` (optional): [topic: `Settings`]\n    The custom parsing and/or rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parseAndRender(markup)\n    ````\n\n  With custom settings\n    ````\n    const html = parseAndRender(markup, {\n      parsing: {\n        createSourceMap: true,\n        keywords: { audio: "listen" }\n      },\n      rendering: {\n        idPrefix: "article"\n      }\n    })\n    ````\n\n\n`parseAndRenderWithTableOfContents` (function)\n==============================================\n\nThis function converts Up markup into two pieces of HTML, both of which are returned:\n\n1. A table of contents\n2. The document itself\n\nArguments\n  `markup`: `string`\n    The Up markup to parse and render.\n\n  `settings` (optional): [topic: `Settings`]\n    The custom parsing and/or rendering settings to apply.\n\nReturn type: [topic: `DocumentAndTableOfContentsHtml`]\n  This function returns HTML representing the rendered document and table of contents.\n\nUsage\n  Without custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      parseAndRenderWithTableOfContents(markup)\n    ````\n\n  With custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      parseAndRenderWithTableOfContents(markup, {\n        parsing: {\n          createSourceMap: true,\n          keywords: { audio: "listen" }\n        },\n        rendering: {\n          idPrefix: "article",\n          terms: { reveal: "expand" }\n        }\n      })\n    ````\n\n\n--------------------------------------------\n`DocumentAndTableOfContentsHtml` (interface)\n--------------------------------------------\n\nThis interface represents the HTML for a rendered document and its table of contents.\n\nMembers\n  `tableOfContentsHtml`: `string`\n    The HTML for the table of contents.\n\n  `documentHtml`: `string`\n    The HTML for the document itself.\n\nNotes\n  The following functions return an object satisfying this interface:\n\n  - [topic: `parseAndRenderWithTableOfContents`]\n  - [topic: `renderWithTableOfContents`]\n\n\n`parseAndRenderInline` (function)\n=================================\n\nThis function converts inline Up markup into inline HTML and returns the result.\n\nTo learn more about inline documents, see [topic: inline documents].\n\nArguments\n  `inlineMarkup`: `string`\n    The inline Up markup to convert into inline HTML.\n\n  `parsingSettings` (optional): [topic: `Settings`]\n    The custom parsing and/or rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered inline document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parseAndRenderInline(markup)\n    ````\n\n  With custom settings\n    ````\n    const html = parseAndRenderInline(markup, {\n      parsing: {\n        baseForUrlsStartingWithSlash: "https://example.com/en-us",\n        keywords: { audio: "listen" }\n      },\n      rendering: {\n        idPrefix: "byline",\n        terms: {\n          footnoteReference: "footnote mention",\n          reveal: "show"\n        }\n      }\n    })\n    ````\n\n\n`parse` (function)\n==================\n\nThis function parses Up markup and returns the resulting syntax tree.\n\nArguments\n  `markup`: `string`\n    The Up markup to parse.\n\n  `parsingSettings` (optional): [topic: `Settings.Parsing`]\n    The custom parsing settings to apply.\n\nReturn type: [topic: `Document`]\n  This function returns a syntax tree representing the parsed document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parse(markup)\n    ````\n\n  With custom settings\n    ````\n    const document = parse(markup, {\n      createSourceMap: true,\n      keywords: { audio: "listen" }\n    })\n    ````\n\n\n`parseInline` (function)\n========================\n\nThis function parses inline Up markup and returns the resulting inline syntax tree.\n\nTo learn more about inline documents, see [topic: inline documents].\n\nArguments\n  `inlineMarkup`: `string`\n    The inline Up markup to parse.\n\n  `parsingSettings` (optional): [topic: `Settings.Parsing`]\n    The custom parsing settings to apply.\n\nReturn type: [topic: `InlineDocument`]\n  This function returns an inline syntax tree representing the parsed document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parseInline(markup)\n    ````\n\n  With custom settings\n    ````\n    const html = parseInline(markup, {\n      baseForUrlsStartingWithSlash: "https://example.com/en-us",\n      keywords: { audio: "listen" }\n    })\n    ````\n\n\n`render` (function)\n===================\n\nThis function converts a syntax tree into HTML and returns the result.\n\nArguments\n  `document`: [topic: `Document`]\n    The syntax tree to convert into HTML.\n\n  `renderingSettings` (optional): [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered document.\n\nUsage\n  Without custom settings\n    ````\n    const html = render(document)\n    ````\n\n  With custom settings\n    ````\n    const html = render(document, {\n      idPrefix: "article",\n      terms: {\n        footnoteReference: "footnote mention",\n        reveal: "show"\n      }\n    })\n    ````\n\n\n`renderWithTableOfContents` (function)\n======================================\n\nThis function converts a syntax tree into two pieces of HTML, both of which are returned:\n\n1. A table of contents\n2. The document itself\n\nArguments\n  `document`: [topic: `Document`]\n    The syntax tree to convert into HTML.\n\n  `renderingSettings` (optional): [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\nReturn type: [topic: `DocumentAndTableOfContentsHtml`]\n  This function returns HTML representing the rendered document and table of contents.\n\nUsage\n  Without custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      renderWithTableOfContents(document)\n    ````\n\n  With custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      renderWithTableOfContents(document, {\n        idPrefix: "article",\n        terms: { revveal: "expand" }\n      })\n    ````\n\n\n`renderInline` (function)\n=========================\n\nThis function converts an inline syntax tree into inline HTML and returns the result.\n\nTo learn more about inline documents, see [topic: inline documents].\n\nArguments\n  `inlineDocument`: [topic: `InlineDocument`]\n    The inline syntax tree to convert into HTML.\n\n  `renderingSettings` (optional): [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered inline document.\n\nUsage\n  Without custom settings\n    ````\n    const html = renderInline(inlineDocument)\n    ````\n\n  With custom settings\n    ````\n    const html = renderInline(inlineDocument, {\n      idPrefix: "byline",\n      terms: {\n        footnoteReference: "footnote mention",\n        reveal: "show"\n      }\n    })\n    ````\n\n\n\n============\n`Up` (class)\n============\n\nAnything you can accomplish using the `Up` class, you can accomplish using the regular [topic: functions] exported by the library.\n\nHowever, the `Up` class can be helpful if you need to parse or render several documents sharing custom settings.\n\nThose shared settings can be provided just once---in the constructor. Then, when calling methods on your object, you only need to provide settings that overwrite (or supplement) the ones you provided to the constructor.\n\n````\nconst { Up } = require(\'up-lang\')\n\nconst up = new Up(settings)\nconst html = up.parseAndRender(markup, changedSettings)\n````\n\n\nConstructor arguments\n=====================\n\n`settings` (optional): [topic: `Settings`]\n  The custom parsing and/or rendering settings to apply to all subsequent method calls.\n\n  ```\n  const up = new Up({\n    parsing: {\n      fancyEllipsis: "⋯",\n      keywords: {\n        audio: ["sound", "song"],\n        revealable: "hide"\n      }\n    },\n    rendering: {\n      idPrefix: \'article\',\n      terms: { reveal: "expand" }\n    }\n  })\n  ```\n\n\nMethods\n=======\n\nThis class\'s methods have the exact same names and arguments as the library\'s [topic: functions].\n\n--------------------------------------\nInvoking a method with custom settings\n--------------------------------------\n\nWhen a method is invoked with custom settings, those settings are merged with the settings provided to the constructor. If any individual settings conflict, Up uses the conflicting values provided to the method.\n\nExample\n  ````\n  const up = new Up({\n    parsing: {\n      createSourceMap: true,\n      fancyEllipsis: "⋯",\n      keywords: {\n        audio: ["sound", "song"],\n        revealable: "hide"\n      }\n    },\n    rendering: {\n      terms: { reveal: "expand" }\n    }\n  })\n\n  const html = up.parseAndRender(markup, {\n    parsing: {\n      createSourceMap: false,\n      keywords: {\n        audio: "listen"\n      }\n    },\n    rendering: {\n      idPrefix: "article"\n    }\n  })\n  ````\n\nResult\n  In the above example, the following settings are ultimately applied:\n\n  ````\n  {\n    parsing: {\n      createSourceMap: false,\n      fancyEllipsis: "⋯",\n      keywords: {\n        audio: "listen",\n        revealable: "hide"\n      }\n    },\n    rendering: {\n      idPrefix: "article",\n      terms: { reveal: "expand" }\n    }\n  }\n  ````\n\n\n\n=====================\nLibrary configuration\n=====================\n\nThe Up library works out of the box! No configuration is necessary.\n\nHowever, all [topic: functions] do accept optional custom settings. These various settings are described below.\n\n\n`Settings` (interface)\n======================\n\nThe `Settings` interface includes both parsing settings and rendering settings.\n\nUse this interface to provide custom settings to functions that both parse markup *and* render the result to HTML:\n\n- [topic: `parseAndRender`]\n- [topic: `parseAndRenderWithTableOfContents`]\n- [topic: `parseAndRenderInline`]\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      createSourceMap: true,\n      keywords: { audio: "listen" }\n    },\n    rendering: {\n      idPrefix: "article"\n    }\n  })\n  ````\n\nMembers (both of which are optional)\n  `parsing`: [topic: `Settings.Parsing`]\n    The custom parsing settings to apply.\n\n  `rendering`: [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\n\n`Settings.Parsing` (interface)\n==============================\n\nThe `Settings.Parsing` interface includes all parsing settings.\n\nUse this interface to provide custom settings to functions that parse markup and return the resulting syntax tree:\n\n- [topic: `parse`]\n- [topic: `parseInline`]\n\nAs part of [topic: `Settings`], this interface also provides parsing custom settings to functions that both parse markup *and* render the result to HTML:\n\n- [topic: `parseAndRender`]\n- [topic: `parseAndRenderWithTableOfContents`]\n- [topic: `parseAndRenderInline`]\n\nUsage\n  ````\n  const document = parse(markup, {\n    createSourceMap: true,\n    keywords: {\n      audio: ["sound", "song"],\n      audio: "listen"\n    }\n  })\n  ````\n\nMembers (all of which are optional)\n  [topic: `createSourceMap`]: `boolean`\n    Enables source mapping.\n\n  [topic: `defaultUrlScheme`]: `string`\n    The default URL scheme for URLs without one.\n\n  [topic: `baseForUrlsStartingWithSlash`]: `string`\n    The base for URLs starting with `/`.\n\n  [topic: `baseForUrlsStartingWithHashmark`]: `string`\n    The base for URLs starting with `#`.\n\n  [topic: `fancyEllipsis`]: `string`\n    Up replaces consecutive periods with this fancy ellipsis.\n\n  `keywords` (all of which are optional)\n\n    --------------------\n    Customizing keywords\n    --------------------\n\n    You can provide unlimited custom variations for each keyword. Custom keyword variations do not overwrite the default keywords.\n\n    ````\n    const document = parse(markup, {\n      keywords: {\n        audio: ["sound", "song"],\n        audio: "listen"\n      }\n    })\n    ````\n\n    Like the default keywords, custom keyword variations are case-insensitive.\n\n    `audio`: `string` or `string[]`\n      Recognized by [topic: audio].\n\n    `image`: `string` or `string[]`\n      Recognized by [topic: images].\n\n    `revealable`: `string` or `string[]`\n      Recognized by [topic: inline revealables] and [topic: revealable blocks].\n\n    `sectionLink`: `string` or `string[]`\n      Recognized by [topic: section links].\n\n    `table`: `string` or `string[]`\n      Recognized by [topic: tables].\n\n    `video`: `string` or `string[]`\n      Recognized by [topic: video].\n\n\n---------------------------\n`createSourceMap` (setting)\n---------------------------\n\nWhen `createSourceMap` is enabled, Up keeps track of the original line number for every instance of every outline writing convention.\n\nThis setting works by setting the `sourceLineNumber` field of each [topic: `OutlineSyntaxNode`].\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      createSourceMap: true\n    }\n  })\n  ````\n\nDefault value\n  `false`\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n----------------------------\n`defaultUrlScheme` (setting)\n----------------------------\n\nThe `defaultUrlScheme` is prefixed to any link URL or media URL without a URL scheme.\n\nFor URLs *with* a URL scheme, this setting has no effect. Furthermore, this setting is not applied to URLs that start with `/` or `#`. For those URLs, see:\n\n- [topic: `baseForUrlsStartingWithSlash`]\n- [topic: `baseForUrlsStartingWithHashmark`]\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      defaultUrlScheme: "my-app://"\n    }\n  })\n  ````\n\nDefault value\n  `"https://"`\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n----------------------------------------\n`baseForUrlsStartingWithSlash` (setting)\n----------------------------------------\n\nThe `baseForUrlsStartingWithSlash` is prefixed to any link URL or media URL starting with `/`.\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      baseForUrlsStartingWithSlash: "https://example.com/blog/"\n    }\n  })\n  ````\n\nDefault value\n  `""` (an empty string)\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n-------------------------------------------\n`baseForUrlsStartingWithHashMark` (setting)\n-------------------------------------------\n\nThe `baseForUrlsStartingWithSlash` is prefixed to any link URL or media URL starting with `#`.\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      baseForUrlsStartingWithHashMark: "https://example.com/blog/post/28"\n    }\n  })\n  ````\n\nDefault value\n  `""` (an empty string)\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n-------------------------\n`fancyEllipsis` (setting)\n-------------------------\n\nUp automatically replaces consecutive periods with `fancyEllipsis`.\n\nBy default, `fancyEllipsis` is `…`. If you want Up to use a different fancy ellipsis (e.g. `⋯` or even `. . .`), set `fancyEllipsis` accordingly.\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      fancyEllipsis: "⋯"\n    }\n  })\n  ````\n\nDefault value\n  `"…"`\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n`Settings.Rendering` (interface)\n================================\n\nThe `Settings.Rendering` interface includes all rendering settings.\n\nUse this interface to provide custom settings to functions that render syntax trees to HTML:\n\n- [topic: `render`]\n- [topic: `renderWithTableOfContents`]\n- [topic: `renderInline`]\n\nAs part of [topic: `Settings`], this interface also provides custom rendering settings to functions that both parse markup *and* render the result to HTML:\n\n- [topic: `parseAndRender`]\n- [topic: `parseAndRenderWithTableOfContents`]\n- [topic: `parseAndRenderInline`]\n\nUsage\n  ````\n  const html = render(document, {\n    idPrefix: "article",\n    terms: {\n      footnoteReference: "footnote mention",\n      reveal: "show"\n    }\n  })\n  ````\n\nMembers (all of which are optional)\n  [topic: `idPrefix`]: `string`\n    The prefix to apply to HTML IDs.\n\n  [topic: `renderDangerousContent`]: `boolean`\n    Enables the rendering of dangerous content. Enabling this setting is not recommended!\n\n  `terms` (all of which are optional)\n    `footnote`: `string`\n      Appears in the URLs of links pointing to footnotes in their footnote blocks.\n\n    `footnoteReference`: `string`\n      Appears in the URLs of links pointing back to footnote references (i.e. back to the superscripts within paragraphs).\n\n    `hide`: `string`\n      Appears on the button that hides revealable content.\n\n    `reveal`: `string`\n      Appears on the button that reveals revealable content.\n\n    `sectionReferencedByTableOfContents`: `string`\n      Appears in the URLs of table of contents entries.\n\n    You don\'t need to worry about escaping any characters in your custom terms! Up handles that for you.\n\n\n--------------------\n`idPrefix` (setting)\n--------------------\n\nIf you are rendering multiple documents onto the same page, you need to use this setting to prevent HTML ID collisions between documents.\n\nBy default, `idPrefix` is `up` to prevent ID collisions with any HTML elements *not* rendered by Up. If you don\'t want any ID prefix, you can set `idPrefix` to an empty string.\n\nYou don\'t need to worry about escaping HTML for your `idPrefix`---Up automatically handles that for you. Furthermore, Up automatically converts any spaces in your `idPrefix` to hyphens.\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    rendering: {\n      idPrefix: "article"\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Rendering`].\n\nDefault value\n  `"up"`\n\n\n----------------------------------\n`renderDangerousContent` (setting)\n----------------------------------\n\nNormally, Up will not render links or media elements with potentially exploitable URI schemes: `javascript`, `vbscript`, `data`, and `file`.\n\nWhen this setting is enabled, Up will dutifully render all links and media elements.\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    rendering: {\n      renderDangerousContent: true\n    }\n  })\n  ````\n\nDefault value\n  `false`\n\nContext\n  This setting belongs to [topic: `Settings.Rendering`].\n\n\n\n================\nInline documents\n================\n\nIn certain contexts, you might want to restrict a document to just a single line:\n\n- A chat message\n- The title of a thread on a message board\n- The byline for a user\'s profile\n\nThat\'s what inline documents are for! To take advantage of inline documents, use one of the following functions:\n\n- [topic: `parseAndRenderInline`]\n- [topic: `parseInline`]\n- [topic: `renderInline`]\n\n\nSyntax differences\n==================\n\nWithin inline documents, Up ignores all outline writing conventions. Furthermore, [topic: footnotes] and [topic: section links] aren\'t supported.\n\nWhen Up encounters a footnote in an inline document, it pretends the author had used parentheses instead of a footnote.\n\nInline markup\n  ````\n  My dad [^ Professor Oak] is very wise.\n  ````\nOutput\n  My dad (Professor Oak) is very wise.\n\nWithin inline documents, Up doesn\'t recognize the syntax for section links. Consequently, their markup is instead treated as regular old text enclosed within brackets.\n\nInline markup\n  ````\n  I enjoyed our conversation [topic: the weather].\n  ````\nOutput\n  I enjoyed our conversation [\\topic: the weather].\n\n\nRendered HTML\n=============\n\nWhen inline documents are rendered, the resulting HTML is *not* enclosed within any container element (e.g. `<p>`).\n\nInline markup\n  ````\n  I *really* like Starcraft.\n  ````\n\nRendered inline HTML\n  ````\n  I <em>really</em> like Starcraft.\n  ````\n\n\n\n============================\nAbstract syntax tree classes\n============================\n\nUnless you\'re fiddling with the abstract syntax tree of a parsed document, you can safely ignore this section.\n\nEvery class used in the abstract syntax tree is exported by the library.\n\n````\nconst { Blockquote } = require("up-lang")\n\nif (syntaxNode instanceof Blockquote) {\n  // Do something\n}\n````\n\nIf you\'re using TypeScript, you can take advantage of several interfaces used in the abstract syntax tree, too.\n\n````\nconst { SyntaxNode } = require("up-lang")\n\nfunction handle(node: SyntaxNode): void {\n  // Do something\n}\n````\n\nAll classes and interfaces are described below.\n\n\n`Document` (class)\n==================\n\nThis class represents the syntax tree for a parsed document.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nUnique members\n  `tableOfContents`: [topic: Document.TableOfContents]\n    An object representing the document\'s table of contents.\n\n  `create` method (static)\n    Purpose\n      This method returns a ready-to-render syntax tree from a collection of outline syntax nodes.\n\n      Usually, you\'ll want to use this static method instead of the constructor.\n\n    Arguments\n      `children`: array of [topic: `OutlineSyntaxNode`]\n        A collection of outline syntax nodes representing the content of this document.\n\n    Return type: [topic: `Document`]\n      This method creates and returns a ready-to-render `Document` object.\n\n      To prepare the document for rendering, this method:\n\n      - Assigns footnotes their reference numbers\n      - Extracts footnotes into footnote blocks\n      - Produces a table of contents\n      - Matches section links with table of contents entries\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    A collection of outline syntax nodes representing the content of this document.\n\n  `tableOfContents` (optional): [topic: `Document.TableOfContents`]\n    The document\'s table of contents.\n\nRendered HTML\n  When rendered to HTML, the document is *not* put into an outer container element.\n\n  ````\n  <p>\n    Unlike regular dental floss, you can use floss picks even if you\'re <em>not</em> a trained dental hygienist.\n  </p>\n  <p>\n    Floss picks are sold in stylish, resealable plastic bags. You have no excuse not to buy some today.\n  </p>\n  ````\n\n\n----------------------------------\n`Document.TableOfContents` (class)\n----------------------------------\n\nThis class represents the table of contents for a document. The table of contents includes every heading except those found within [topic: revealable content].\n\nMembers\n  `entries`: array of [topic: `Document.TableOfContents.Entry`]\n    A collection of entries representing headings in the document. In fact, the objects in this collection are the same [topic: `Heading`] objects in the document itself.\n\nConstructor arguments\n  `entries`: array of [topic: `Document.TableOfContents.Entry`]\n    The entries in the table of contents.\n\nRendered HTML\n  Each entry in the table of contents renders a heading element corresponding to its `level`. This heading element contains a link to the appropriate section in the document.\n\n  To learn more on how headings are rendered, please see [topic: `Heading`].\n\n  ````\n  <h1>\n    <a href="#up-topic-1">Fun things</a>\n  </h1>\n  <h2>\n    <a href="#up-topic-2">Games</a>\n  </h2>\n  <h3>\n    <a href="#up-topic-3">Video games</a>\n  </h3>\n  <h4>\n    <a href="#up-topic-4">Released in the 2000s</a>\n  </h4>\n  <h5>\n    <a href="#up-topic-5">For Nintendo devices</a>\n  </h5>\n  <h6>\n    <a href="#up-topic-6">Nintendo 64</a>\n  </h6>\n  <div aria-level="7" role="heading">\n    <a href="#up-topic-6">Pokémon Puzzle League</a>\n  </div>\n  <h6>\n    <a href="#up-topic-8">Game Boy</a>\n  </h6>\n  <div aria-level="7" role="heading">\n    <a href="#up-topic-9">Game Boy Color Exclusives</a>\n  </div>\n  <div aria-level="8" role="heading">\n    <a href="#up-topic-10">Warlocked</a>\n  </div>\n  ````\n\n\n`Document.TableOfContents.Entry` (interface)\n--------------------------------------------\n\nThis interface represents an entry in the table of contents.\n\nMembers\n  `ordinalInTableOfContents`: `number`\n    The entry\'s ordinal in the table of contents. The first ordinal is `1`, not `0`.\n\n  `level`: `number`\n    The heading level of the entry. Like HTML heading levels, a level of 1 is considered the most significant.\n\n  `children`: array of [topic: InlineSyntaxNode]\n    The inline syntax nodes representing this entry in the table of contents.\n\n  `titleMarkup`: string\n    Currently, headings are the only writing convention that produce table of contents entries, so the `titleMarkup` field always represents the markup for the "content line" of a heading.\n\n    Section links compare their `markupSnippetFromSectionTitle` against this field.\n\n  `sourceLineNumber`: `number`\n    If [topic: `createSourceMap`] is enabled, this field is set to the line number of the first line of markup that produced the heading represented by this entry. Source line numbers start at `1`, not `0`.\n\n    When rendered to HTML, entries with source line numbers are given a `data-up-source-line` attribute set the appropriate line number.\n\n    ````\n    <h3 data-up-source-line="51">\n      <a href="#up-topic-5">Video games</a>\n    </h3>\n    ````\n\n  `contentWithinTableOfContents` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns the inline syntax nodes that should represent this entry\'s content inside the table of contents itself.\n\n    Arguments\n      None.\n\n\n`InlineDocument` (class)\n=======================\n\nThis class represents the syntax tree for a parsed inline document.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\nRendered HTML\n  When rendered to HTML, an inline document is *not* put into an outer container element.\n\n  ````\n  I <em>love</em> dental floss!\n  ````\n\n\n`SyntaxNode` (interface)\n========================\n\nAll syntax node classes must implement this interface.\n\nMembers\n  `inlineDescendants` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns all inline descendants (including children, grandchildren, etc.).\n\n    Arguments\n      None.\n\nNotes\n  This interface also has a `render` method, but it isn\'t relevant to developers using the Up library.\n\n\n`InlineSyntaxNode` (interface)\n==============================\n\nAll inline syntax node classes must implement this interface.\n\nExtends\n  [topic: `SyntaxNode`]\n\nUnique members\n  `searchableText` method\n    Return type: `string`\n      This method returns the searchable text of the syntax node.\n\n      Ultimately, this method helps match [topic: section links] to the the most appropriate table of content entry.\n\n    Arguments\n      None.\n\n  `textAppearingInline` method\n    Return type: `string`\n      This method returns the text of the syntax node as it should appear inline. Some inline writing conventions don\'t have any text appearing inline, including [topic: footnotes] and [topic: images].\n\n      This method is helps determine whether table cells are numeric.\n\n    Arguments\n      None.\n\n\n`OutlineSyntaxNode` (interface)\n===============================\n\nAll outline syntax node classes must implement this interface.\n\nExtends\n  [topic: `SyntaxNode`]\n\nUnique members\n  `sourceLineNumber`: `number`\n    If [topic: `createSourceMap`] is enabled, this field is set to the first line of markup that produced this syntax node. Source line numbers start at `1`, not `0`.\n\n    HTML elements rendered by outline syntax nodes with source line numbers are given a `data-up-source-line` attribute set the appropriate line number.\n\n    ````\n    <p data-up-source-line="24">Hi there!</p>\n    ````\n\n  `descendantsToIncludeInTableOfContents` method\n    Return type: array of [topic: `Document.TableOfContents.Entry`]\n      This method returns any descendants (at any nesting level) to include in the table of contents.\n\n    Arguments\n      None.\n\n\n`RichInlineSyntaxNode` (class)\n==============================\n\nThis abstract class represents an inline syntax node that can contain other inline syntax nodes.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`RichOutlineSyntaxNode` (class)\n===============================\n\nThis abstract class represents an outline syntax node that can contain other outline syntax nodes.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    A collection of outline syntax nodes representing the content of this syntax node.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this syntax node.\n\n\n`InlineSyntaxNodeContainer` (class)\n===================================\n\nThis abstract class represents a container of inline syntax nodes.\n\nMembers\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this container.\n\n  `inlineDescendants` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns all inline descendants (including `children`, grandchildren, etc.).\n\n    Arguments\n      None.\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    This field is described above.\n\n\n`OutlineSyntaxNodeContainer` (class)\n====================================\n\nThis abstract class represents a container of outline syntax nodes.\n\nMembers\n  `children`: array of [topic: `OutlineSyntaxNode`]\n     A collection of outline syntax nodes representing the content of this container.\n\n  `descendantsToIncludeInTableOfContents` method\n    Return type: array of [topic: `Document.TableOfContents.Entry`]\n      This method returns any descendants (children, grandchildren, etc.) to include in the table of contents.\n\n    Arguments\n      None.\n\n  `inlineDescendants` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns all inline descendants of `children`.\n\n    Arguments\n      None.\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    This field is described above.\n\n\n`MediaSyntaxNode` (class)\n=========================\n\nAll media syntax node classes extend this abstract class:\n\n- [topic: `Image`]\n- [topic: `Video`]\n- [topic: `Audio`]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n    Media conventions can appear inline (i.e. within paragraphs).\n\n  [topic: `OutlineSyntaxNode`]\n    If a line consists solely of media conventions (or media conventions within links), those media conventions (or their outer links) are placed directly into the outline.\n\nUnique members\n  `description`: `string`\n    The media\'s description.\n\n  `url`: `string`\n    Represents the media\'s URL after the following settings are applied:\n\n    - [topic: `defaultUrlScheme`]\n    - [topic: `baseForUrlsStartingWithSlash`]\n    - [topic: `baseForUrlsStartingWithHashmark`]\n\nConstructor arguments\n  `description`: string\n    The media\'s description.\n\n  `url`: string\n    The media\'s URL.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the line of markup that created this media syntax node.\n\n\n`ParentheticalSyntaxNode` (class)\n=================================\n\nThis abstract class represents [topic: parenthetical text]. It exists solely to improve the expressiveness of the type system.\n\nIt is extended by both parenthetical syntax node classes:\n\n- [topic: `NormalParenthetical`]\n- [topic: `SquareParenthetical`]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\n\n`Audio` (class)\n===============\n\nWriting convention\n  [topic: Audio]\n\nExtends\n  [topic: `MediaSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `MediaSyntaxNode`].\n\nRendered HTML\n  ````\n  <audio controls src="https://a.clyp.it/ybct5hcl.mp3" title="Sadness theme from Infinity for Game Boy">\n    <a href="https://a.clyp.it/ybct5hcl.mp3">Sadness theme from Infinity for Game Boy</a>\n  </audio>\n  ````\n\n\n`Blockquote` (class)\n====================\n\nWriting convention\n  [topic: Blockquotes]\n\nExtends\n  [topic: `RichOutlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichOutlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <blockquote>\n    <p>Hi there!</p>\n  </blockquote>\n  ````\n\n\n`Bold` (class)\n==============\n\nWriting convention\n  [topic: Audio]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <b>Hi there!</b>\n  ````\n\n\n`BulletedList` (class)\n=======================\n\nWriting convention\n  [topic: Bulleted lists]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `items`: array of [topic: `BulletedList.Item`]\n    The collection of items comprising this bulleted list.\n\nConstructor arguments\n  `items`: array of [topic: `BulletedList.Item`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this bulleted list.\n\nRendered HTML\n  ````\n  <ul>\n    <li>\n      <p>Buy milk</p>\n    </li>\n    <li>\n      <p>Buy bread</p>\n    </li>\n    <li>\n      <p>Buy happiness</p>\n    </li>\n  </ul>\n  ````\n\n\n----------------------------\n`BulletedList.Item` (class)\n----------------------------\n\nThis class represents an item in a bulleted list.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `OutlineSyntaxNodeContainer`].\n\n\n`CodeBlock` (class)\n===================\n\nWriting convention\n  [topic: Code blocks]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `code`: `string`\n    The code represented by this syntax node.\n\nConstructor arguments\n  `code`: `string`\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this code block.\n\nRendered HTML\n  ````\n  <pre><code>const message = "Hi there!"</code></pre>\n  ````\n\n\n`DescriptionList` (class)\n=========================\n\nWriting convention\n  [topic: Description lists]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `items`: array of [topic: `DescriptionList.Item`]\n    The collection of items comprising this description list.\n\nConstructor arguments\n  `items`: array of [topic: `DescriptionList.Item`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this description list.\n\nRendered HTML\n  ````\n  <dl>\n    <dt>Kirby\'s Dreamland</dt>\n    <dd>\n      <p>A video game about a flying marshmallow.</p>\n    </dd>\n    <dt>Super Mario Land</dt>\n    <dd>\n      <p>A video game about a jumping plumber.</p>\n    </dd>\n  </dl>\n  ````\n\n\n------------------------------\n`DescriptionList.Item` (class)\n------------------------------\n\nThis class represents a collection of subjects and their corresponding description.\n\nUnique members\n  `subjects`: array of [topic: `DescriptionList.Item.Subject`]\n    The subjects described by `description`.\n\n  `description`: [topic: `DescriptionList.Item.Description`]\n    The description of `subjects`.\n\nConstructor arguments\n  `subjects`: array of [topic: `DescriptionList.Item.Subject`]\n    This field is described above.\n\n  `description`: [topic: `DescriptionList.Item.Description`]\n    This field is described above.\n\n\n`DescriptionList.Item.Subject` (class)\n--------------------------------------\n\nThis class represents the collection of subjects described by a given description within a description list item.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`DescriptionList.Item.Description` (class)\n------------------------------------------\n\nThis class represents the description of a given collection of subjects within a description list item.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `OutlineSyntaxNodeContainer`].\n\n\n`Emphasis` (class)\n==================\n\nWriting convention\n  [topic: Emphasis]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <em>Hi there!</em>\n  ````\n\n\n`ExampleUserInput` (class)\n==========================\n\nWriting convention\n  [topic: Example user input]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `userInput`: `string`\n    The example of user input.\n\nRendered HTML\n  ````\n  <kbd>esc</kbd>\n  ````\n\n\n`Footnote` (class)\n==================\n\nWriting convention\n  [topic: Footnotes]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nUnique members\n  `referenceNumber`: `number`\n    The number that appears in superscript for this footnote. Within a given document, this value must be unique.\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this footnote.\n\n  `options` (optional)\n    `referenceNumber`: number\n      This field is described above.\n\nRendered HTML\n  ````\n  <sup class="up-footnote-reference" id="up-footnote-reference-1">\n    <a href="#up-footnote-1">1</a>\n  </sup>\n  ````\n\n\n`FootnoteBlock` (class)\n=======================\n\nFootnotes are written inline, but they aren\'t meant to appear inline in the final document. That would defeat the purpose of footnotes! Instead, footnotes are extracted and placed in footnote blocks. This class represents one of those footnote blocks.\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `footnotes`: array of [topic: Footnote]\n    The collection of footnotes comprising this footnote block.\n\nConstructor arguments\n  `footnotes`: array of [topic: Footnote]\n    This field is described above.\n\nRendered HTML\n  ````\n  <dl class="up-footnotes">\n    <dt id="up-footnote-1">\n      <a href="#up-footnote-reference-1">1</a>\n    </dt>\n    <dd>No relation to Warcraft!</dd>\n    <dt id="up-footnote-2">\n      <a href="#up-footnote-reference-2">2</a>\n    </dt>\n    <dd>The pathfinding algorithm had issues.</dd>\n  </dl>\n  ````\n\n\n`Heading` (class)\n=================\n\nWriting convention\n  [topic: Headings]\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `Document.TableOfContents.Entry`]\n    Headings are special! No other syntax node implements this interface.\n\n  [topic: `OutlineSyntaxNode`]\n    But headings also serve as regular old outline syntax nodes.\n\nUnique members\n  `level`: `number`\n    A heading\'s level represents its significance in the document. Like HTML heading levels, a level of 1 is considered the most significant.\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this heading.\n\n  `options`\n    `level`: `number`\n      This field is described above.\n\n    `titleMarkup`: string\n      Represents the markup for the "content line" of this heading.\n\n      Section links compare their `markupSnippetFromSectionTitle` against this field.\n\n    `ordinalInTableOfContents` (optional): `number`\n      Represents this heading\'s ordinal in the table of contents. The first ordinal is `1`, not `0`.\n\n    `sourceLineNumber` (optional): number\n      The line number of the first line of markup that created this heading.\n\nRendered HTML\n  Levels 1--6\n    Headings with levels 1 through 6 render the appropriate heading element.\n\n    ````\n    <h1>\n      I am a level 1 heading!\n    </h1>\n\n    <h6>\n      I am a level 6 heading!\n    </h6>\n    ````\n  Levels 7 and higher\n    Headings with levels 7 and higher render `<div role="heading">` elements with an `aria-level` attribute equal to their level.\n\n    ````\n    <div aria-level="7" role="heading">\n      I am a level 7 heading!\n    </div>\n\n    <div aria-level="10" role="heading">\n      I am a level 10 heading!\n    </div>\n    ````\n\n\n`Highlight` (class)\n===================\n\nWriting convention\n  [topic: Highlighting]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <mark>Hi there!</mark>\n  ````\n\n\n`Image` (class)\n===============\n\nWriting convention\n  [topic: Images]\n\nExtends\n  [topic: `MediaSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `MediaSyntaxNode`].\n\nRendered HTML\n  ````\n  <img alt="Super Mario Land box art" src="https://i.imgur.com/TxlFlkX.jpg" title="Super Mario Land box art">\n  ````\n\n\n`InlineCode` (class)\n====================\n\nWriting convention\n  [topic: Inline code]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `code`: `string`\n    The inline code represented by this syntax node.\n\nConstructor arguments\n  `code`: `string`\n    This field is described above.\n\nRendered HTML\n  ````\n  <code class="up-inline-code">interface</code>\n  ````\n\n\n`InlineQuote` (class)\n=====================\n\nWriting convention\n  [topic: Inline quotes]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <q>I know!</q>\n  ````\n\n\n`InlineRevealable` (class)\n==========================\n\nWriting convention\n  [topic: Inline revealables]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <span class="up-revealable">\n    <input checked class="up-hide" id="up-hide-button-1" name="up-revealable-1" type="radio">\n    <label for="up-hide-button-1" role="button" tabindex="0">hide</label>\n    <input class="up-reveal" id="up-reveal-button-1" name="up-revealable-1" type="radio">\n    <label for="up-reveal-button-1" role="button" tabindex="0">reveal</label>\n    <span role="alert">Ash fights Gary</span>\n  </span>\n  ````\n\n\n`Italic` (class)\n================\n\nWriting convention\n  [topic: Italics]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <i>I know!</i>\n  ````\n\n\n`LineBlock` (class)\n===================\n\nWriting convention\n  [topic: Line blocks]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `lines`: array of [topic: `LineBlock.Line`]\n    The collection of lines comprising this line block.\n\nConstructor arguments\n  `lines`: array of [topic: `LineBlock.Line`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this syntax node.\n\nRendered HTML\n  ````\n  <div class="up-lines">\n    <div>Roses are red</div>\n    <div>Violets are blue</div>\n  </div>\n  ````\n\n------------------------\n`LineBlock.Line` (class)\n------------------------\n\nThis class represents a line in a line block.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`Link` (class)\n==============\n\nWriting convention\n  [topic: Italics]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n    If a line consists solely of media conventions (or media conventions within links), those media conventions (or their outer links) are placed directly into the outline.\n\nUnique members\n  `url`: `string`\n    This links\'s URL after the following settings are applied:\n\n    - [topic: `defaultUrlScheme`]\n    - [topic: `baseForUrlsStartingWithSlash`]\n    - [topic: `baseForUrlsStartingWithHashmark`]\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this link.\n\n  `url`: `string`\n    This field is described above.\n\n  `options`\n    `sourceLineNumber` (optional): number\n      The line number of the line of markup that created this link.\n\nRendered HTML\n  ````\n  <a href="https://example.com">Hi there!</a>\n  ````\n\n\n`NormalParenthetical` (class)\n=============================\n\nWriting convention\n  [topic: Parenthetical text] produced by parentheses\n\nExtends\n  [topic: `ParentheticalSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `ParentheticalSyntaxNode`].\n\nRendered HTML\n  ````\n  <small class="up-parenthetical">(Hi there!)</small>\n  ````\n\n\n`NumberedList` (class)\n======================\n\nWriting convention\n  [topic: Numbered lists]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `items`: array of [topic: `NumberedList.Item`]\n    The collection of items comprising this numbered list.\n\n  `start` method\n    Return type: `number`\n      This method returns the starting ordinal of this list, if one was explicitly defined. Otherwise, this method returns `undefined`.\n\n    Arguments\n      None.\n\n  `order` method\n    Return type: [topic: `NumberedList.Order`]\n      This method returns the order of this numered list.\n\n    Arguments\n      None.\n\nConstructor arguments\n  `items`: array of [topic: `NumberedList.Item`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this numbered list.\n\nRendered HTML\n  ````\n  <ol reversed start="3">\n    <li value="3">\n      <p>Buy milk</p>\n    </li>\n    <li value="2">\n      <p>Buy bread</p>\n    </li>\n    <li>\n      <p>Buy happiness</p>\n    </li>\n  </ol>\n  ````\n\n\n---------------------------\n`NumberedList.Item` (class)\n---------------------------\n\nThis class represents an item in a numbered list.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    A collection of outline syntax nodes representing the content of this list item.\n\n  `options` (optional)\n    `ordinal`: number\n      This field is described above.\n\n\n---------------------------\n`NumberedList.Order` (enum)\n---------------------------\n\nThis enum represents the order of a numbered list. It has two members:\n\n- `Ascending`, whose value is `1`\n- `Descending`, whose value is `2`\n\n\n`Paragraph` (class)\n===================\n\nWriting convention\n  [topic: Paragraphs]\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this paragraph.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the line of markup that created this paragraph.\n\nRendered HTML\n  ````\n  <p>Hi there!</p>\n  ````\n\n\n`RevealableBlock` (class)\n=========================\n\nWriting convention\n  [topic: Revealable blocks]\n\nExtends\n  [topic: `RichOutlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichOutlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <div class="up-revealable">\n    <input checked class="up-hide" id="up-hide-button-1" name="up-revealable-1" type="radio">\n    <label for="up-hide-button-1" role="button" tabindex="0">hide</label>\n    <input class="up-reveal" id="up-reveal-button-1" name="up-revealable-1" type="radio">\n    <label for="up-reveal-button-1" role="button" tabindex="0">reveal</label>\n    <div role="alert">\n      <p>Ash fights Gary.</p>\n    </div>\n  </div>\n  ````\n\n\n`SectionLink` (class)\n=====================\n\nWriting convention\n  [topic: Section links]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `markupSnippetFromSectionTitle`: `string`\n    This field is compared against the `titleMarkup` field of every table of contents entry to find the most appropriate match.\n\nConstructor arguments\n  `markupSnippetFromSectionTitle`: `string`\n    This field is described above.\n\n  `entry`: [topic: `Document.TableOfContents.Entry`]\n    The table of contents entry (i.e. heading) this section link points to.\n\nRendered HTML\n  When matched with a heading\n    Up renders a link to that heading. The rendered link contains the heading\'s content.\n\n    ````\n    <a href="#up-topic-77">Using the Up library</a>\n    ````\n\n  When *not* matched with a heading\n    Up renders the value of `markupSnippetFromSectionTitle` in italics.\n\n    ````\n    <i>Up library</i>\n    ````\n\n\n`SquareParenthetical` (class)\n=============================\n\nWriting convention\n  [topic: Parenthetical text] produced by square brackets\n\nExtends\n  [topic: `ParentheticalSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `ParentheticalSyntaxNode`].\n\nRendered HTML\n  ````\n  <small class="up-parenthetical up-square-brackets">[Hi there!]</small>\n  ````\n\n\n`Stress` (class)\n================\n\nWriting convention\n  [topic: Stress]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <strong>Hi there!</strong>\n  ````\n\n\n`Table` (class)\n===============\n\nWriting convention\n  [topic: Tables]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `header`: [topic: `Table.Header`]\n    The header row.\n\n  `rows`: array of [topic: `Table.Row`]\n    The content rows.\n\n  `caption`: [topic: `Table.Caption`]\n    The optional caption.\n\nConstructor arguments\n  `header`: [topic: `Table.Header`]\n    This field is described above.\n\n  `rows`: array of [topic: `Table.Row`]\n    This field is described above.\n\n  `caption`: [topic: `Table.Caption`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this table.\n\nRendered HTML\n  Without header column\n    ````\n    <table>\n      <caption>Moves learned by the Pokémon Bulbasaur</caption>\n      <tr>\n        <th scope="col">Level</th>\n        <th scope="col">Move</th>\n        <th scope="col">Type</th>\n        <th scope="col">Power</th>\n        <th scope="col">Accuracy</th>\n      </tr>\n      <tr>\n        <td class="up-numeric">1</td>\n        <td>Tackle</td>\n        <td>Normal</td>\n        <td class="up-numeric">50</td>\n        <td class="up-numeric">100%</td>\n      </tr>\n      <tr>\n        <td class="up-numeric">3</td>\n        <td>Growl</td>\n        <td>Normal</td>\n        <td></td>\n        <td class="up-numeric">100%</td>\n      </tr>\n    </table>\n    ````\n\n  With header column\n    ````\n    <table>\n      <caption>Moves learned by the Pokémon Bulbasaur</caption>\n      <tr>\n        <th scope="col"></th>\n        <th scope="col">Level</th>\n        <th scope="col">Type</th>\n        <th scope="col">Power</th>\n        <th scope="col">Accuracy</th>\n      </tr>\n      <tr>\n        <th scope="row">Tackle</th>\n        <td class="up-numeric">1</td>\n        <td>Normal</td>\n        <td class="up-numeric">50</td>\n        <td class="up-numeric">100%</td>\n      </tr>\n      <tr>\n        <th scope="row">Growl</th>\n        <td class="up-numeric">3</td>\n        <td>Normal</td>\n        <td></td>\n        <td class="up-numeric">100%</td>\n      </tr>\n    </table>\n    ````\n\n\n-----------------------\n`Table.Caption` (class)\n-----------------------\n\nThis class represents the caption of a table.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n--------------------\n`Table.Cell` (class)\n--------------------\n\nThis abstract class represents a table cell.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nUnique members\n  `isNumeric` method\n    Return type: `boolean`\n      This method returns a `boolean` indicating whether the content of this cell is numeric.\n\n    Arguments\n      None.\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n----------------------\n`Table.Header` (class)\n----------------------\n\nThis class represents the header row of a table.\n\nUnique members\n  `cells`: array of [topic: `Table.Header.Cell`]\n    The cells in this header row.\n\nConstructor arguments\n  `cells`: array of [topic: `Table.Header.Cell`]\n    This field is described above.\n\n\n`Table.Header.Cell` (class)\n---------------------------\n\nThis class represents a table header cell.\n\nExtends\n  [topic: `Table.Cell`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n-------------------\n`Table.Row` (class)\n-------------------\n\nThis class represents a content row in a table.\n\nUnique members\n  `cells`: array of [topic: `Table.Row.Cell`]\n    The content cells in this row.\n\n  `headerColumnCell`: [topic: `Table.Header.Cell`]\n    The single header column cell for this row, if there is one.\n\n    Tables without header columns never have header column cells.\n\n  `allCellsStartingWithHeaderColumnCell` method\n    Return type: array of [topic: `Table.Cell`]\n      This method returns every cell in this row.\n\n      If the table has a header column, the row\'s `headerColumnCell` is the first item in the returned collection.\n\n    Arguments\n      None.\n\nConstructor arguments\n  `cells`: array of [topic: `Table.Row.Cell`]\n    This field is described above.\n\n  `headerColumnCell`: [topic: `Table.Header.Cell`]\n    This field is described above.\n\n\n`Table.Row.Cell` (class)\n------------------------\n\nThis class represents a regular (non-header) table cell.\n\nExtends\n  [topic: `Table.Cell`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`Text` (class)\n==============\n\nThis class represents regular text content.\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `text`: `string`\n    The text represented by this syntax node.\n\nConstructor arguments\n  `text`: `string`\n    This field is described above.\n\nRendered HTML\n  ````\n  Yes, 1 &lt; 2\n  ````\n\n\n`ThematicBreak` (class)\n=======================\n\nWriting convention\n  [topic: Thematic breaks]\n\nExtends\n  [topic: `OutlineSyntaxNode`]\n\nConstructor arguments\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the line of markup that created this thematic break.\n\nRendered HTML\n  ````\n  <hr>\n  ````\n\n\n`Video` (class)\n===============\n\nWriting convention\n  [topic: Video]\n\nExtends\n  [topic: `MediaSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `MediaSyntaxNode`].\n\nRendered HTML\n  ````\n  <video controls src="https://i.imgur.com/32fBpnh.mp4" title="Professor Leonard">\n    <a href="https://i.imgur.com/32fBpnh.mp4">Professor Leonard</a>\n  </video>\n  ````'},function(e,n,t){"use strict";t.r(n);t(68);var r=document.getElementById.bind(document),o=t(12),i=t.n(o),a=t(35);function s(e,n){var t;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(function(){return e.apply(void 0,o)},n)}}function l(e){return!e.offsetParent}function c(e,n,t,r){var o=!1,i=!1,a=function(e){return s(e,250)},c=a(function(){i=!1}),p=a(function(){o=!1});var h=u(t,e,n),f=u(r,e,n),m=e.getScrollerElement();d(document,function(){o||l(m)||(h(),i=!0,c())}),d(e.getScrollerElement(),function(){i||(f(),o=!0,p())})}function u(e,n,t){var r,o,i,a;return r=function(){return e(n,t)},o=1e3/60,i=!1,a=!1,function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];function s(){r.apply(void 0,n),setTimeout(l,o)}function l(){a?(s(),a=!1):i=!1}i?a=!0:(i=!0,s())}}function d(e,n){e.addEventListener("scroll",n)}var p=t(67),h=t.n(p);var f=[];function m(e){f=e.querySelectorAll("[data-up-source-line]")}function g(e){var n=e.editorContainerElement,r=e.documentationContainerElement,o=e.documentationScrollerElement,l=e.documentationElement,u=e.tableOfContentsElement,d=i()(n,{value:t(98).default,lineNumbers:!0,lineWrapping:!0,tabSize:2,extraKeys:{Tab:function(){if(d.somethingSelected())return i.a.Pass;var e,n=d.getOption("indentUnit"),t=(e=" ",new Array(n+1).join(e));d.replaceSelection(t)}}});i.a.keyMap.default["Shift-Tab"]="indentLess",function(e){var n=e.defaultCharWidth();e.on("renderLine",function(e,t,r){var o=n*i.a.countColumn(t.text);r.style.textIndent="-".concat(o,"px"),r.style.paddingLeft="".concat(4+o,"px")})}(d),function(e,n,t,r,o){var i=!1,l=s(function(){i&&(!function(e,n,t,r){var o=e.getValue(),i=Object(a.parseAndRenderWithTableOfContents)(o,h.a),s=i.documentHtml,l=i.tableOfContentsHtml,c=n.scrollTop;t.innerHTML=s,r.innerHTML=l,n.scrollTop=c,m(n)}(e,t,r,o),i=!1,n.classList.remove("dirty"),n.classList.add("clean"))},1200);e.on("change",function(){i=!0,n.classList.remove("clean"),n.classList.add("dirty"),l()});for(var c=0,u=["keydown","cursorActivity"];c<u.length;c++){var d=u[c];e.on(d,l)}}(d,r,o,l,u),c(d,o,v,y),d.refresh(),m(r)}function v(e,n){for(var t=0;t<f.length;t++){var r=f[t];if(!l(r)){var o=n.offsetTop-10;if(r.getBoundingClientRect().top>=o){var i={line:r.dataset.upSourceLine-1,ch:0},a=e.charCoords(i,"local").top;return void e.scrollTo(null,a)}}}}function y(e,n){var t=1+e.lineAtHeight(0,"window");if(1!==t)for(var r=0;r<f.length;r++){var o=f[r];if(!l(o)&&o.dataset.upSourceLine>=t)return void o.scrollIntoView()}else n.scrollTop=0}function b(e){e.tab.addEventListener("click",function(){return k(e)})}function k(e){var n=e.tab,t=e.otherTab;w(n,"true"),w(t,"false"),C(n).style.display="block",C(t).style.display="none"}function w(e,n){e.setAttribute("aria-selected",n)}function C(e){return r(e.getAttribute("aria-controls"))}document.addEventListener("DOMContentLoaded",function(){var e,n,t,o,i=r("editor-container"),a=r("documentation-container");-1!==["iPhone","iPad","iPod"].indexOf(navigator.platform)?(i.style.display="none",a.style.marginLeft=0):g({editorContainerElement:i,documentationContainerElement:a,documentationScrollerElement:document.body,documentationElement:r("documentation"),tableOfContentsElement:r("table-of-contents")}),e=r("show-documentation"),n=r("show-table-of-contents"),b({tab:e,otherTab:n}),b({tab:n,otherTab:e}),t=C(n),o=function(t){var r=t.target.tagName;"LABEL"!==r&&"INPUT"!==r&&k({tab:e,otherTab:n})},t.addEventListener("click",function(e){var n=e.target;do{if("A"===n.tagName)return void o(e)}while(n=n.parentNode)}),a.addEventListener("keydown",function(e){var n=e.target;n.hasAttribute("tabindex")&&-1!==[13,32].indexOf(e.keyCode)&&(e.preventDefault(),n.click())})})}]);